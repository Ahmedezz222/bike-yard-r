{% comment %}
  Header section for Bike Yard Shopify theme - Refactored for modern responsive look
{% endcomment %}

<header class="bg-white shadow-lg sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="{{ routes.root_url }}" class="flex items-center space-x-2 group">
          <div class="w-10 h-10 bg-gradient-to-br from-primary-600 to-accent-500 rounded-lg flex items-center justify-center transition-transform duration-300 group-hover:scale-110">
            <span class="text-white font-bold text-xl">BY</span>
          </div>
          <span class="text-2xl font-bold text-gradient">Bike Yard</span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex space-x-8">
        <a href="{{ routes.root_url }}" class="text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">Home</a>
        <a href="/collections/all" class="text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">Products</a>
        <a href="/pages/cafe" class="text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">Cafe Menu</a>
        <a href="/pages/services" class="text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">Services</a>
        <a href="/pages/about" class="text-gray-700 hover:text-primary-600 px-3 py-2 text-sm font-medium transition-all duration-300 hover:scale-105">About</a>
      </nav>

      <!-- Right side icons -->
      <div class="flex items-center space-x-4">
        <!-- Search -->
        <button class="p-2 text-gray-700 hover:text-primary-600 transition-all duration-300 hover:scale-110" onclick="toggleSearch()" aria-label="Search">
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
        </button>
        <!-- User -->
        <a href="{{ routes.account_url }}" class="p-2 text-gray-700 hover:text-primary-600 transition-all duration-300 hover:scale-110" aria-label="Account">
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
        </a>
        <!-- Cart -->
        <a href="{{ routes.cart_url }}" class="relative p-2 text-gray-700 hover:text-primary-600 transition-all duration-300 hover:scale-110" aria-label="Cart">
          <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"></path></svg>
          {% if cart.item_count > 0 %}
            <span class="absolute -top-1 -right-1 bg-accent-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-bounce">{{ cart.item_count }}</span>
          {% endif %}
        </a>
        <!-- Mobile menu button -->
        <button
          class="md:hidden p-2 text-gray-700 hover:text-primary-600 transition-all duration-300 hover:scale-110"
          onclick="toggleMobileMenu()"
          aria-label="Open mobile menu"
          aria-controls="mobile-menu"
          aria-expanded="false"
        >
          <svg id="menu-icon" class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
          <svg id="close-icon" class="h-5 w-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation & Overlay -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black bg-opacity-40 z-40 hidden transition-opacity duration-300" onclick="toggleMobileMenu()"></div>
    <div id="mobile-menu" class="fixed top-0 left-0 w-3/4 max-w-xs h-full bg-white shadow-lg z-50 transform -translate-x-full transition-transform duration-300 md:hidden">
      <div class="px-6 pt-6 pb-3 flex flex-col space-y-4">
        <a href="{{ routes.root_url }}" class="text-gray-700 hover:text-primary-600 block px-3 py-2 text-base font-medium transition-all duration-300">Home</a>
        <a href="/collections/all" class="text-gray-700 hover:text-primary-600 block px-3 py-2 text-base font-medium transition-all duration-300">Products</a>
        <a href="/pages/cafe" class="text-gray-700 hover:text-primary-600 block px-3 py-2 text-base font-medium transition-all duration-300">Cafe Menu</a>
        <a href="/pages/services" class="text-gray-700 hover:text-primary-600 block px-3 py-2 text-base font-medium transition-all duration-300">Services</a>
        <a href="/pages/about" class="text-gray-700 hover:text-primary-600 block px-3 py-2 text-base font-medium transition-all duration-300">About</a>
      </div>
    </div>
  </div>
</header>

<style>
.text-gradient {
  background: linear-gradient(135deg, #0ea5e9 0%, #f59e0b 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
</style>

<script>
function toggleMobileMenu() {
  const mobileMenu = document.getElementById('mobile-menu');
  const overlay = document.getElementById('mobile-overlay');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');
  const isOpen = !mobileMenu.classList.contains('-translate-x-full');
  if (isOpen) {
    mobileMenu.classList.add('-translate-x-full');
    overlay.classList.add('hidden');
    menuIcon.classList.remove('hidden');
    closeIcon.classList.add('hidden');
    document.body.classList.remove('overflow-hidden');
  } else {
    mobileMenu.classList.remove('-translate-x-full');
    overlay.classList.remove('hidden');
    menuIcon.classList.add('hidden');
    closeIcon.classList.remove('hidden');
    document.body.classList.add('overflow-hidden');
  }
}
function toggleSearch() {
  // Implement search functionality
  console.log('Search toggled');
}
</script>
