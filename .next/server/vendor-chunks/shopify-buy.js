"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/shopify-buy";
exports.ids = ["vendor-chunks/shopify-buy"];
exports.modules = {

/***/ "(ssr)/./node_modules/shopify-buy/index.js":
/*!*******************************************!*\
  !*** ./node_modules/shopify-buy/index.js ***!
  \*******************************************/
/***/ ((module) => {

eval("/*\n@license\nThe MIT License (MIT)\n\nCopyright (c) 2016 Shopify Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck$1 = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass$1 = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\n\n\nvar inherits$1 = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn$1 = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/*\nThe MIT License (MIT)\nCopyright (c) 2016 Shopify Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\nDAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE\nOR OTHER DEALINGS IN THE SOFTWARE.\n\n\n*/\nfunction join() {\n  for (var _len = arguments.length, fields = Array(_len), _key = 0; _key < _len; _key++) {\n    fields[_key] = arguments[_key];\n  }\n\n  return fields.join(' ');\n}\n\nfunction isObject(value) {\n  return Boolean(value) && Object.prototype.toString.call(value.valueOf()) === '[object Object]';\n}\n\nfunction deepFreezeCopyExcept(predicate, structure) {\n  if (predicate(structure)) {\n    return structure;\n  } else if (isObject(structure)) {\n    return Object.freeze(Object.keys(structure).reduce(function (copy, key) {\n      copy[key] = deepFreezeCopyExcept(predicate, structure[key]);\n\n      return copy;\n    }, {}));\n  } else if (Array.isArray(structure)) {\n    return Object.freeze(structure.map(function (item) {\n      return deepFreezeCopyExcept(predicate, item);\n    }));\n  } else {\n    return structure;\n  }\n}\n\nfunction schemaForType(typeBundle, typeName) {\n  var typeSchema = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  var type = typeBundle.types[typeName];\n\n  if (type) {\n    return type;\n  } else if (typeSchema && typeSchema.kind === 'INTERFACE') {\n    return typeSchema;\n  }\n\n  throw new Error('No type of ' + typeName + ' found in schema');\n}\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar toConsumableArray = function toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar VariableDefinition = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#variable} to create a VariableDefinition.\n   *\n   * @param {String} name The name of the variable.\n   * @param {String} type The GraphQL type of the variable.\n   * @param {*} [defaultValue] The default value of the variable.\n   */\n  function VariableDefinition(name, type, defaultValue) {\n    classCallCheck(this, VariableDefinition);\n\n    this.name = name;\n    this.type = type;\n    this.defaultValue = defaultValue;\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the variable as an input value (e.g. `$variableName`).\n   *\n   * @return {String} The GraphQL query string for the variable as an input value.\n   */\n\n  createClass(VariableDefinition, [{\n    key: 'toInputValueString',\n    value: function toInputValueString() {\n      return '$' + this.name;\n    }\n\n    /**\n     * Returns the GraphQL query string for the variable (e.g. `$variableName:VariableType = defaultValue`).\n     *\n     * @return {String} The GraphQL query string for the variable.\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var defaultValueString = this.defaultValue ? ' = ' + formatInputValue(this.defaultValue) : '';\n\n      return '$' + this.name + ':' + this.type + defaultValueString;\n    }\n  }]);\n  return VariableDefinition;\n}();\n\nfunction isVariable(value) {\n  return VariableDefinition.prototype.isPrototypeOf(value);\n}\n\nfunction variable(name, type, defaultValue) {\n  return new VariableDefinition(name, type, defaultValue);\n}\n\nvar Enum = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#enum} to create an Enum.\n   *\n   * @param {String} key The key of the enum.\n   */\n  function Enum(key) {\n    classCallCheck(this, Enum);\n\n    this.key = key;\n  }\n\n  /**\n   * Returns the GraphQL query string for the enum (e.g. `enumKey`).\n   *\n   * @return {String} The GraphQL query string for the enum.\n   */\n\n  createClass(Enum, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.key;\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.key.valueOf();\n    }\n  }]);\n  return Enum;\n}();\n\nvar enumFunction = function enumFunction(key) {\n  return new Enum(key);\n};\n\nvar Scalar = function () {\n  function Scalar(value) {\n    classCallCheck(this, Scalar);\n\n    this.value = value;\n  }\n\n  createClass(Scalar, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value.toString();\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.value.valueOf();\n    }\n  }, {\n    key: \"unwrapped\",\n    get: function get$$1() {\n      return this.value;\n    }\n  }]);\n  return Scalar;\n}();\n\nfunction formatInputValue(value) {\n  if (VariableDefinition.prototype.isPrototypeOf(value)) {\n    return value.toInputValueString();\n  } else if (Enum.prototype.isPrototypeOf(value)) {\n    return String(value);\n  } else if (Scalar.prototype.isPrototypeOf(value)) {\n    return JSON.stringify(value.valueOf());\n  } else if (Array.isArray(value)) {\n    return '[' + join.apply(undefined, toConsumableArray(value.map(formatInputValue))) + ']';\n  } else if (isObject(value)) {\n    return formatObject(value, '{', '}');\n  } else {\n    return JSON.stringify(value);\n  }\n}\n\nfunction formatObject(value) {\n  var openChar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var closeChar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n  var argPairs = Object.keys(value).map(function (key) {\n    return key + ': ' + formatInputValue(value[key]);\n  });\n\n  return '' + openChar + join.apply(undefined, toConsumableArray(argPairs)) + closeChar;\n}\n\nfunction formatArgs(args) {\n  if (!Object.keys(args).length) {\n    return '';\n  }\n\n  return ' (' + formatObject(args) + ')';\n}\n\nfunction formatDirectives(directives) {\n  if (!Object.keys(directives).length) {\n    return '';\n  }\n\n  var directiveStrings = Object.keys(directives).map(function (key) {\n    var directiveArgs = directives[key];\n    var arg = directiveArgs && Object.keys(directiveArgs).length ? '(' + formatObject(directiveArgs) + ')' : '';\n\n    return '@' + key + arg;\n  });\n\n  return ' ' + join.apply(undefined, toConsumableArray(directiveStrings));\n}\n\n// eslint-disable-next-line no-empty-function\nvar noop = function noop() {};\n\nvar Profiler = {\n  trackTypeDependency: noop,\n  trackFieldDependency: noop\n};\n\nvar trackTypeDependency = Profiler.trackTypeDependency;\nvar trackFieldDependency = Profiler.trackFieldDependency;\n\nfunction parseFieldCreationArgs(creationArgs) {\n  var callback = noop;\n  var options = {};\n  var selectionSet = null;\n\n  if (creationArgs.length === 2) {\n    if (typeof creationArgs[1] === 'function') {\n      var _creationArgs = slicedToArray(creationArgs, 2);\n\n      options = _creationArgs[0];\n      callback = _creationArgs[1];\n    } else {\n      var _creationArgs2 = slicedToArray(creationArgs, 2);\n\n      options = _creationArgs2[0];\n      selectionSet = _creationArgs2[1];\n    }\n  } else if (creationArgs.length === 1) {\n    // SelectionSet is defined before this function is called since it's\n    // called by SelectionSet\n    // eslint-disable-next-line no-use-before-define\n    if (SelectionSet.prototype.isPrototypeOf(creationArgs[0])) {\n      selectionSet = creationArgs[0];\n    } else if (typeof creationArgs[0] === 'function') {\n      callback = creationArgs[0];\n    } else {\n      options = creationArgs[0];\n    }\n  }\n\n  return { options: options, selectionSet: selectionSet, callback: callback };\n}\n\nvar emptyArgs = Object.freeze({});\nvar emptyDirectives = Object.freeze({});\n\nvar Field = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Fields are added to a selection by {@link SelectionSetBuilder#add}, {@link SelectionSetBuilder#addConnection}\n   * and {@link SelectionSetBuilder#addInlineFragmentOn}.\n   *\n   * @param {String} name The name of the field.\n   * @param {Object} [options] An options object containing:\n   *   @param {Object} [options.args] Arguments for the field.\n   *   @param {String} [options.alias] An alias for the field.\n   *   @param {Object} [options.directives] Directives for the field.\n   * @param {SelectionSet} selectionSet The selection set on the field.\n   */\n  function Field(name, options, selectionSet) {\n    classCallCheck(this, Field);\n\n    this.name = name;\n    this.alias = options.alias || null;\n    this.responseKey = this.alias || this.name;\n    this.args = options.args ? deepFreezeCopyExcept(isVariable, options.args) : emptyArgs;\n    this.directives = options.directives ? deepFreezeCopyExcept(isVariable, options.directives) : emptyDirectives;\n    this.selectionSet = selectionSet;\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the Field (e.g. `catAlias: cat(size: 'small') { name }` or `name`).\n   *\n   * @return {String} The GraphQL query string for the Field.\n   */\n\n  createClass(Field, [{\n    key: 'toString',\n    value: function toString() {\n      var aliasPrefix = this.alias ? this.alias + ': ' : '';\n\n      return '' + aliasPrefix + this.name + formatArgs(this.args) + formatDirectives(this.directives) + this.selectionSet;\n    }\n  }]);\n  return Field;\n}();\n\n// This is an interface that defines a usage, and simplifies type checking\nvar Spread = function Spread() {\n  classCallCheck(this, Spread);\n};\n\nvar InlineFragment = function (_Spread) {\n  inherits(InlineFragment, _Spread);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link SelectionSetBuilder#addInlineFragmentOn} to create an InlineFragment.\n   *\n   * @param {String} typeName The type of the fragment.\n   * @param {SelectionSet} selectionSet The selection set on the fragment.\n   */\n  function InlineFragment(typeName, selectionSet) {\n    classCallCheck(this, InlineFragment);\n\n    var _this = possibleConstructorReturn(this, (InlineFragment.__proto__ || Object.getPrototypeOf(InlineFragment)).call(this));\n\n    _this.typeName = typeName;\n    _this.selectionSet = selectionSet;\n    Object.freeze(_this);\n    return _this;\n  }\n\n  /**\n   * Returns the GraphQL query string for the InlineFragment (e.g. `... on Cat { name }`).\n   *\n   * @return {String} The GraphQL query string for the InlineFragment.\n   */\n\n  createClass(InlineFragment, [{\n    key: 'toString',\n    value: function toString() {\n      return '... on ' + this.typeName + this.selectionSet;\n    }\n  }]);\n  return InlineFragment;\n}(Spread);\n\nvar FragmentSpread = function (_Spread2) {\n  inherits(FragmentSpread, _Spread2);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Document#defineFragment} to create a FragmentSpread.\n   *\n   * @param {FragmentDefinition} fragmentDefinition The corresponding fragment definition.\n   */\n  function FragmentSpread(fragmentDefinition) {\n    classCallCheck(this, FragmentSpread);\n\n    var _this2 = possibleConstructorReturn(this, (FragmentSpread.__proto__ || Object.getPrototypeOf(FragmentSpread)).call(this));\n\n    _this2.name = fragmentDefinition.name;\n    _this2.selectionSet = fragmentDefinition.selectionSet;\n    Object.freeze(_this2);\n    return _this2;\n  }\n\n  /**\n   * Returns the GraphQL query string for the FragmentSpread (e.g. `...catName`).\n   *\n   * @return {String} The GraphQL query string for the FragmentSpread.\n   */\n\n  createClass(FragmentSpread, [{\n    key: 'toString',\n    value: function toString() {\n      return '...' + this.name;\n    }\n  }, {\n    key: 'toDefinition',\n    value: function toDefinition() {\n      // eslint-disable-next-line no-use-before-define\n      return new FragmentDefinition(this.name, this.selectionSet.typeSchema.name, this.selectionSet);\n    }\n  }]);\n  return FragmentSpread;\n}(Spread);\n\nvar FragmentDefinition = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Document#defineFragment} to create a FragmentDefinition on a {@link Document}.\n   *\n   * @param {String} name The name of the fragment definition.\n   * @param {String} typeName The type of the fragment.\n   */\n  function FragmentDefinition(name, typeName, selectionSet) {\n    classCallCheck(this, FragmentDefinition);\n\n    this.name = name;\n    this.typeName = typeName;\n    this.selectionSet = selectionSet;\n    this.spread = new FragmentSpread(this);\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the FragmentDefinition (e.g. `fragment catName on Cat { name }`).\n   *\n   * @return {String} The GraphQL query string for the FragmentDefinition.\n   */\n\n  createClass(FragmentDefinition, [{\n    key: 'toString',\n    value: function toString() {\n      return 'fragment ' + this.name + ' on ' + this.typeName + ' ' + this.selectionSet;\n    }\n  }]);\n  return FragmentDefinition;\n}();\n\nfunction selectionsHaveIdField(selections) {\n  return selections.some(function (fieldOrFragment) {\n    if (Field.prototype.isPrototypeOf(fieldOrFragment)) {\n      return fieldOrFragment.name === 'id';\n    } else if (Spread.prototype.isPrototypeOf(fieldOrFragment) && fieldOrFragment.selectionSet.typeSchema.implementsNode) {\n      return selectionsHaveIdField(fieldOrFragment.selectionSet.selections);\n    }\n\n    return false;\n  });\n}\n\nfunction selectionsHaveTypenameField(selections) {\n  return selections.some(function (fieldOrFragment) {\n    if (Field.prototype.isPrototypeOf(fieldOrFragment)) {\n      return fieldOrFragment.name === '__typename';\n    } else if (Spread.prototype.isPrototypeOf(fieldOrFragment) && fieldOrFragment.selectionSet.typeSchema.implementsNode) {\n      return selectionsHaveTypenameField(fieldOrFragment.selectionSet.selections);\n    }\n\n    return false;\n  });\n}\n\nfunction indexSelectionsByResponseKey(selections) {\n  function assignOrPush(obj, key, value) {\n    if (Array.isArray(obj[key])) {\n      obj[key].push(value);\n    } else {\n      obj[key] = [value];\n    }\n  }\n  var unfrozenObject = selections.reduce(function (acc, selection) {\n    if (selection.responseKey) {\n      assignOrPush(acc, selection.responseKey, selection);\n    } else {\n      var responseKeys = Object.keys(selection.selectionSet.selectionsByResponseKey);\n\n      responseKeys.forEach(function (responseKey) {\n        assignOrPush(acc, responseKey, selection);\n      });\n    }\n\n    return acc;\n  }, {});\n\n  Object.keys(unfrozenObject).forEach(function (key) {\n    Object.freeze(unfrozenObject[key]);\n  });\n\n  return Object.freeze(unfrozenObject);\n}\n\n/**\n * Class that specifies the full selection of data to query.\n */\n\nvar SelectionSet = function () {\n\n  /**\n   * This constructor should not be invoked directly. SelectionSets are created when building queries/mutations.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {(Object|String)} type The type of the current selection.\n   * @param {Function} builderFunction Callback function used to build the SelectionSet.\n   *   The callback takes a {@link SelectionSetBuilder} as its argument.\n   */\n  function SelectionSet(typeBundle, type, builderFunction) {\n    classCallCheck(this, SelectionSet);\n\n    if (typeof type === 'string') {\n      this.typeSchema = schemaForType(typeBundle, type);\n    } else {\n      this.typeSchema = type;\n    }\n\n    trackTypeDependency(this.typeSchema.name);\n\n    this.typeBundle = typeBundle;\n    this.selections = [];\n    if (builderFunction) {\n      // eslint-disable-next-line no-use-before-define\n      builderFunction(new SelectionSetBuilder(this.typeBundle, this.typeSchema, this.selections));\n    }\n\n    if (this.typeSchema.implementsNode || this.typeSchema.name === 'Node') {\n      if (!selectionsHaveIdField(this.selections)) {\n        this.selections.unshift(new Field('id', {}, new SelectionSet(typeBundle, 'ID')));\n      }\n    }\n\n    if (this.typeSchema.kind === 'INTERFACE') {\n      if (!selectionsHaveTypenameField(this.selections)) {\n        this.selections.unshift(new Field('__typename', {}, new SelectionSet(typeBundle, 'String')));\n      }\n    }\n\n    this.selectionsByResponseKey = indexSelectionsByResponseKey(this.selections);\n    Object.freeze(this.selections);\n    Object.freeze(this);\n  }\n\n  /**\n   * Returns the GraphQL query string for the SelectionSet (e.g. `{ cat { name } }`).\n   *\n   * @return {String} The GraphQL query string for the SelectionSet.\n   */\n\n  createClass(SelectionSet, [{\n    key: 'toString',\n    value: function toString() {\n      if (this.typeSchema.kind === 'SCALAR' || this.typeSchema.kind === 'ENUM') {\n        return '';\n      } else {\n        return ' { ' + join(this.selections) + ' }';\n      }\n    }\n  }]);\n  return SelectionSet;\n}();\n\nvar SelectionSetBuilder = function () {\n\n  /**\n   * This constructor should not be invoked directly. SelectionSetBuilders are created when building queries/mutations.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {Object} typeSchema The schema object for the type of the current selection.\n   * @param {Field[]} selections The fields on the current selection.\n   */\n  function SelectionSetBuilder(typeBundle, typeSchema, selections) {\n    classCallCheck(this, SelectionSetBuilder);\n\n    this.typeBundle = typeBundle;\n    this.typeSchema = typeSchema;\n    this.selections = selections;\n  }\n\n  createClass(SelectionSetBuilder, [{\n    key: 'hasSelectionWithResponseKey',\n    value: function hasSelectionWithResponseKey(responseKey) {\n      return this.selections.some(function (field) {\n        return field.responseKey === responseKey;\n      });\n    }\n\n    /**\n     * Adds a field to be queried on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('cat', {args: {id: '123456'}, alias: 'meow'}, (cat) => {\n     *     cat.add('name');\n     *   });\n     * });\n     *\n     * @param {SelectionSet|String} selectionOrFieldName The selection or name of the field to add.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{id: '123456'}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function|SelectionSet} [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'add',\n    value: function add(selectionOrFieldName) {\n      var selection = void 0;\n\n      if (Object.prototype.toString.call(selectionOrFieldName) === '[object String]') {\n        trackFieldDependency(this.typeSchema.name, selectionOrFieldName);\n\n        for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        selection = this.field.apply(this, [selectionOrFieldName].concat(rest));\n      } else {\n        if (Field.prototype.isPrototypeOf(selectionOrFieldName)) {\n          trackFieldDependency(this.typeSchema.name, selectionOrFieldName.name);\n        }\n\n        selection = selectionOrFieldName;\n      }\n\n      if (selection.responseKey && this.hasSelectionWithResponseKey(selection.responseKey)) {\n        throw new Error('The field name or alias \\'' + selection.responseKey + '\\' has already been added.');\n      }\n      this.selections.push(selection);\n    }\n  }, {\n    key: 'field',\n    value: function field(name) {\n      for (var _len2 = arguments.length, creationArgs = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        creationArgs[_key2 - 1] = arguments[_key2];\n      }\n\n      var parsedArgs = parseFieldCreationArgs(creationArgs);\n      var options = parsedArgs.options,\n          callback = parsedArgs.callback;\n      var selectionSet = parsedArgs.selectionSet;\n\n      if (!selectionSet) {\n        if (!this.typeSchema.fieldBaseTypes[name]) {\n          throw new Error('No field of name \"' + name + '\" found on type \"' + this.typeSchema.name + '\" in schema');\n        }\n\n        var fieldBaseType = schemaForType(this.typeBundle, this.typeSchema.fieldBaseTypes[name]);\n\n        selectionSet = new SelectionSet(this.typeBundle, fieldBaseType, callback);\n      }\n\n      return new Field(name, options, selectionSet);\n    }\n\n    /**\n     * Creates an inline fragment.\n     *\n     * @access private\n     * @param {String} typeName The type  the inline fragment.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     * @return {InlineFragment} An inline fragment.\n     */\n\n  }, {\n    key: 'inlineFragmentOn',\n    value: function inlineFragmentOn(typeName) {\n      var builderFunctionOrSelectionSet = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var selectionSet = void 0;\n\n      if (SelectionSet.prototype.isPrototypeOf(builderFunctionOrSelectionSet)) {\n        selectionSet = builderFunctionOrSelectionSet;\n      } else {\n        selectionSet = new SelectionSet(this.typeBundle, schemaForType(this.typeBundle, typeName), builderFunctionOrSelectionSet);\n      }\n\n      return new InlineFragment(typeName, selectionSet);\n    }\n\n    /**\n     * Adds a field to be queried on the current selection.\n     *\n     * @access private\n     * @param {String}    name The name of the field to add to the query.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{id: '123456'}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function}  [callback] Callback which will be used to create a new {@link SelectionSet} for the field added.\n     */\n\n  }, {\n    key: 'addField',\n    value: function addField(name) {\n      for (var _len3 = arguments.length, creationArgs = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        creationArgs[_key3 - 1] = arguments[_key3];\n      }\n\n      this.add.apply(this, [name].concat(creationArgs));\n    }\n\n    /**\n     * Adds a connection to be queried on the current selection.\n     * This adds all the fields necessary for pagination.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('cat', (cat) => {\n     *     cat.addConnection('friends', {args: {first: 10}, alias: 'coolCats'}, (friends) => {\n     *       friends.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String}    name The name of the connection to add to the query.\n     * @param {Object} [options] Options on the query including:\n     *   @param {Object} [options.args] Arguments on the query (e.g. `{first: 10}`).\n     *   @param {String} [options.alias] Alias for the field being added.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'addConnection',\n    value: function addConnection(name) {\n      for (var _len4 = arguments.length, creationArgs = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        creationArgs[_key4 - 1] = arguments[_key4];\n      }\n\n      var _parseFieldCreationAr = parseFieldCreationArgs(creationArgs),\n          options = _parseFieldCreationAr.options,\n          callback = _parseFieldCreationAr.callback,\n          selectionSet = _parseFieldCreationAr.selectionSet;\n\n      this.add(name, options, function (connection) {\n        connection.add('pageInfo', {}, function (pageInfo) {\n          pageInfo.add('hasNextPage');\n          pageInfo.add('hasPreviousPage');\n        });\n        connection.add('edges', {}, function (edges) {\n          edges.add('cursor');\n          edges.addField('node', {}, selectionSet || callback); // This is bad. Don't do this\n        });\n      });\n    }\n\n    /**\n     * Adds an inline fragment on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.add('animal', (animal) => {\n     *     animal.addInlineFragmentOn('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String} typeName The name of the type of the inline fragment.\n     * @param {Function|SelectionSet}  [callbackOrSelectionSet] Either a callback which will be used to create a new {@link SelectionSet}, or an existing {@link SelectionSet}.\n     */\n\n  }, {\n    key: 'addInlineFragmentOn',\n    value: function addInlineFragmentOn(typeName) {\n      var fieldTypeCb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      this.add(this.inlineFragmentOn(typeName, fieldTypeCb));\n    }\n\n    /**\n     * Adds a fragment spread on the current selection.\n     *\n     * @example\n     * client.query((root) => {\n     *   root.addFragment(catFragmentSpread);\n     * });\n     *\n     * @param {FragmentSpread} fragmentSpread The fragment spread to add.\n     */\n\n  }, {\n    key: 'addFragment',\n    value: function addFragment(fragmentSpread) {\n      this.add(fragmentSpread);\n    }\n  }]);\n  return SelectionSetBuilder;\n}();\n\nfunction parseArgs(args) {\n  var name = void 0;\n  var variables = void 0;\n  var selectionSetCallback = void 0;\n\n  if (args.length === 3) {\n    var _args = slicedToArray(args, 3);\n\n    name = _args[0];\n    variables = _args[1];\n    selectionSetCallback = _args[2];\n  } else if (args.length === 2) {\n    if (Object.prototype.toString.call(args[0]) === '[object String]') {\n      name = args[0];\n      variables = null;\n    } else if (Array.isArray(args[0])) {\n      variables = args[0];\n      name = null;\n    }\n\n    selectionSetCallback = args[1];\n  } else {\n    selectionSetCallback = args[0];\n    name = null;\n  }\n\n  return { name: name, variables: variables, selectionSetCallback: selectionSetCallback };\n}\n\nvar VariableDefinitions = function () {\n  function VariableDefinitions(variableDefinitions) {\n    classCallCheck(this, VariableDefinitions);\n\n    this.variableDefinitions = variableDefinitions ? [].concat(toConsumableArray(variableDefinitions)) : [];\n    Object.freeze(this.variableDefinitions);\n    Object.freeze(this);\n  }\n\n  createClass(VariableDefinitions, [{\n    key: 'toString',\n    value: function toString() {\n      if (this.variableDefinitions.length === 0) {\n        return '';\n      }\n\n      return ' (' + join(this.variableDefinitions) + ') ';\n    }\n  }]);\n  return VariableDefinitions;\n}();\n\n/**\n * Base class for {@link Query} and {@link Mutation}.\n * @abstract\n */\n\nvar Operation = function () {\n\n  /**\n   * This constructor should not be invoked. The subclasses {@link Query} and {@link Mutation} should be used instead.\n   */\n  function Operation(typeBundle, operationType) {\n    classCallCheck(this, Operation);\n\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var _parseArgs = parseArgs(args),\n        name = _parseArgs.name,\n        variables = _parseArgs.variables,\n        selectionSetCallback = _parseArgs.selectionSetCallback;\n\n    this.typeBundle = typeBundle;\n    this.name = name;\n    this.variableDefinitions = new VariableDefinitions(variables);\n    this.operationType = operationType;\n    if (operationType === 'query') {\n      this.selectionSet = new SelectionSet(typeBundle, typeBundle.queryType, selectionSetCallback);\n      this.typeSchema = schemaForType(typeBundle, typeBundle.queryType);\n    } else {\n      this.selectionSet = new SelectionSet(typeBundle, typeBundle.mutationType, selectionSetCallback);\n      this.typeSchema = schemaForType(typeBundle, typeBundle.mutationType);\n    }\n    Object.freeze(this);\n  }\n\n  /**\n   * Whether the operation is anonymous (i.e. has no name).\n   */\n\n  createClass(Operation, [{\n    key: 'toString',\n\n    /**\n     * Returns the GraphQL query or mutation string (e.g. `query myQuery { cat { name } }`).\n     *\n     * @return {String} The GraphQL query or mutation string.\n     */\n    value: function toString() {\n      var nameString = this.name ? ' ' + this.name : '';\n\n      return '' + this.operationType + nameString + this.variableDefinitions + this.selectionSet;\n    }\n  }, {\n    key: 'isAnonymous',\n    get: function get$$1() {\n      return !this.name;\n    }\n  }]);\n  return Operation;\n}();\n\n/**\n * GraphQL Query class.\n * @extends Operation\n */\n\nvar Query = function (_Operation) {\n  inherits(Query, _Operation);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory functions {@link Client#query} or {@link Document#addQuery} to create a Query.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {String} [name] A name for the query.\n   * @param {Object[]} [variables] A list of variables in the query. See {@link Client#variable}.\n   * @param {Function} selectionSetCallback The query builder callback.\n   *   A {@link SelectionSet} is created using this callback.\n   */\n  function Query(typeBundle) {\n    var _ref;\n\n    classCallCheck(this, Query);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return possibleConstructorReturn(this, (_ref = Query.__proto__ || Object.getPrototypeOf(Query)).call.apply(_ref, [this, typeBundle, 'query'].concat(args)));\n  }\n\n  return Query;\n}(Operation);\n\n/**\n * GraphQL Mutation class.\n * @extends Operation\n */\n\nvar Mutation = function (_Operation) {\n  inherits(Mutation, _Operation);\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory functions {@link Client#mutation} or {@link Document#addMutation} to create a Mutation.\n   *\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {String} [name] A name for the mutation.\n   * @param {Object[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n   * @param {Function} selectionSetCallback The mutation builder callback.\n   *   A {@link SelectionSet} is created using this callback.\n   */\n  function Mutation(typeBundle) {\n    var _ref;\n\n    classCallCheck(this, Mutation);\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return possibleConstructorReturn(this, (_ref = Mutation.__proto__ || Object.getPrototypeOf(Mutation)).call.apply(_ref, [this, typeBundle, 'mutation'].concat(args)));\n  }\n\n  return Mutation;\n}(Operation);\n\nfunction isAnonymous(operation) {\n  return operation.isAnonymous;\n}\n\nfunction hasAnonymousOperations(operations) {\n  return operations.some(isAnonymous);\n}\n\nfunction hasDuplicateOperationNames(operations) {\n  var names = operations.map(function (operation) {\n    return operation.name;\n  });\n\n  return names.reduce(function (hasDuplicates, name, index) {\n    return hasDuplicates || names.indexOf(name) !== index;\n  }, false);\n}\n\nfunction extractOperation(typeBundle, operationType) {\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  if (Operation.prototype.isPrototypeOf(args[0])) {\n    return args[0];\n  }\n\n  if (operationType === 'query') {\n    return new (Function.prototype.bind.apply(Query, [null].concat([typeBundle], args)))();\n  } else {\n    return new (Function.prototype.bind.apply(Mutation, [null].concat([typeBundle], args)))();\n  }\n}\n\nfunction isInvalidOperationCombination(operations) {\n  if (operations.length === 1) {\n    return false;\n  }\n\n  return hasAnonymousOperations(operations) || hasDuplicateOperationNames(operations);\n}\n\nfunction fragmentNameIsNotUnique(existingDefinitions, name) {\n  return existingDefinitions.some(function (definition) {\n    return definition.name === name;\n  });\n}\n\nvar Document = function () {\n\n  /**\n   * This constructor should not be invoked directly.\n   * Use the factory function {@link Client#document} to create a Document.\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   */\n  function Document(typeBundle) {\n    classCallCheck(this, Document);\n\n    this.typeBundle = typeBundle;\n    this.definitions = [];\n  }\n\n  /**\n   * Returns the GraphQL query string for the Document (e.g. `query queryOne { ... } query queryTwo { ... }`).\n   *\n   * @return {String} The GraphQL query string for the Document.\n   */\n\n  createClass(Document, [{\n    key: 'toString',\n    value: function toString() {\n      return join(this.definitions);\n    }\n\n    /**\n     * Adds an operation to the Document.\n     *\n     * @private\n     * @param {String} operationType The type of the operation. Either 'query' or 'mutation'.\n     * @param {(Operation|String)} [query|queryName] Either an instance of an operation\n     *   object, or the name of an operation. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the operation. See {@link Client#variable}.\n     * @param {Function} [callback] The query builder callback. If an operation\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n      */\n\n  }, {\n    key: 'addOperation',\n    value: function addOperation(operationType) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      var operation = extractOperation.apply(undefined, [this.typeBundle, operationType].concat(args));\n\n      if (isInvalidOperationCombination(this.operations.concat(operation))) {\n        throw new Error('All operations must be uniquely named on a multi-operation document');\n      }\n\n      this.definitions.push(operation);\n    }\n\n    /**\n     * Adds a query to the Document.\n     *\n     * @example\n     * document.addQuery('myQuery', (root) => {\n     *   root.add('cat', (cat) => {\n     *    cat.add('name');\n     *   });\n     * });\n     *\n     * @param {(Query|String)} [query|queryName] Either an instance of a query\n     *   object, or the name of a query. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the query. See {@link Client#variable}.\n     * @param {Function} [callback] The query builder callback. If a query\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n     */\n\n  }, {\n    key: 'addQuery',\n    value: function addQuery() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.addOperation.apply(this, ['query'].concat(args));\n    }\n\n    /**\n     * Adds a mutation to the Document.\n     *\n     * @example\n     * const input = client.variable('input', 'CatCreateInput!');\n     *\n     * document.addMutation('myMutation', [input], (root) => {\n     *   root.add('catCreate', {args: {input}}, (catCreate) => {\n     *     catCreate.add('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {(Mutation|String)} [mutation|mutationName] Either an instance of a mutation\n     *   object, or the name of a mutation. Both are optional.\n     * @param {Object[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n     * @param {Function} [callback] The mutation builder callback. If a mutation\n     *   instance is passed, this callback will be ignored.\n     *   A {@link SelectionSet} is created using this callback.\n     */\n\n  }, {\n    key: 'addMutation',\n    value: function addMutation() {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this.addOperation.apply(this, ['mutation'].concat(args));\n    }\n\n    /**\n     * Defines a fragment on the Document.\n     *\n     * @param {String} name The name of the fragment.\n     * @param {String} onType The type the fragment is on.\n     * @param {Function} [builderFunction] The query builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {FragmentSpread} A {@link FragmentSpread} to be used with {@link SelectionSetBuilder#addFragment}.\n     */\n\n  }, {\n    key: 'defineFragment',\n    value: function defineFragment(name, onType, builderFunction) {\n      if (fragmentNameIsNotUnique(this.fragmentDefinitions, name)) {\n        throw new Error('All fragments must be uniquely named on a multi-fragment document');\n      }\n\n      var selectionSet = new SelectionSet(this.typeBundle, onType, builderFunction);\n      var fragment = new FragmentDefinition(name, onType, selectionSet);\n\n      this.definitions.push(fragment);\n\n      return fragment.spread;\n    }\n\n    /**\n     * All operations ({@link Query} and {@link Mutation}) on the Document.\n     */\n\n  }, {\n    key: 'operations',\n    get: function get$$1() {\n      return this.definitions.filter(function (definition) {\n        return Operation.prototype.isPrototypeOf(definition);\n      });\n    }\n\n    /**\n     * All {@link FragmentDefinition}s on the Document.\n     */\n\n  }, {\n    key: 'fragmentDefinitions',\n    get: function get$$1() {\n      return this.definitions.filter(function (definition) {\n        return FragmentDefinition.prototype.isPrototypeOf(definition);\n      });\n    }\n  }]);\n  return Document;\n}();\n\n/**\n * The base class used when deserializing response data.\n * Provides rich features, like functions to generate queries to refetch a node or fetch the next page.\n *\n * @class\n */\nvar GraphModel =\n\n/**\n * @param {Object} attrs Attributes on the GraphModel.\n */\nfunction GraphModel(attrs) {\n  var _this = this;\n\n  classCallCheck(this, GraphModel);\n\n  Object.defineProperty(this, 'attrs', { value: attrs, enumerable: false });\n\n  Object.keys(this.attrs).filter(function (key) {\n    return !(key in _this);\n  }).forEach(function (key) {\n    var descriptor = void 0;\n\n    if (attrs[key] === null) {\n      descriptor = {\n        enumerable: true,\n        get: function get$$1() {\n          return null;\n        }\n      };\n    } else {\n      descriptor = {\n        enumerable: true,\n        get: function get$$1() {\n          return this.attrs[key].valueOf();\n        }\n      };\n    }\n    Object.defineProperty(_this, key, descriptor);\n  });\n};\n\n/**\n * A registry of classes used to deserialize the response data. Uses {@link GraphModel} by default.\n */\n\nvar ClassRegistry = function () {\n  function ClassRegistry() {\n    classCallCheck(this, ClassRegistry);\n\n    this.classStore = {};\n  }\n\n  /**\n   * Registers a class for a GraphQL type in the registry.\n   *\n   * @param {Class} constructor The constructor of the class.\n   * @param {String} type The GraphQL type of the object to deserialize into the class.\n   */\n\n  createClass(ClassRegistry, [{\n    key: 'registerClassForType',\n    value: function registerClassForType(constructor, type) {\n      this.classStore[type] = constructor;\n    }\n\n    /**\n     * Unregisters a class for a GraphQL type in the registry.\n     *\n     * @param {String} type The GraphQL type to unregister.\n     */\n\n  }, {\n    key: 'unregisterClassForType',\n    value: function unregisterClassForType(type) {\n      delete this.classStore[type];\n    }\n\n    /**\n     * Returns the class for the given GraphQL type.\n     *\n     * @param {String} type The GraphQL type to look up.\n     * @return {Class|GraphModel} The class for the given GraphQL type. Defaults to {@link GraphModel} if no class is registered for the GraphQL type.\n     */\n\n  }, {\n    key: 'classForType',\n    value: function classForType(type) {\n      return this.classStore[type] || GraphModel;\n    }\n  }]);\n  return ClassRegistry;\n}();\n\nfunction isValue(arg) {\n  return Object.prototype.toString.call(arg) !== '[object Null]' && Object.prototype.toString.call(arg) !== '[object Undefined]';\n}\n\nfunction isNodeContext(context) {\n  return context.selection.selectionSet.typeSchema.implementsNode;\n}\n\nfunction isConnection(context) {\n  return context.selection.selectionSet.typeSchema.name.endsWith('Connection');\n}\n\nfunction nearestNode(context) {\n  if (context == null) {\n    return null;\n  } else if (isNodeContext(context)) {\n    return context;\n  } else {\n    return nearestNode(context.parent);\n  }\n}\n\nfunction contextsFromRoot(context) {\n  if (context.parent) {\n    return contextsFromRoot(context.parent).concat(context);\n  } else {\n    return [context];\n  }\n}\n\nfunction contextsFromNearestNode(context) {\n  if (context.selection.selectionSet.typeSchema.implementsNode) {\n    return [context];\n  } else {\n    return contextsFromNearestNode(context.parent).concat(context);\n  }\n}\n\nfunction initializeDocumentAndVars(currentContext, contextChain) {\n  var lastInChain = contextChain[contextChain.length - 1];\n  var first = lastInChain.selection.args.first;\n  var variableDefinitions = Object.keys(lastInChain.selection.args).filter(function (key) {\n    return isVariable(lastInChain.selection.args[key]);\n  }).map(function (key) {\n    return lastInChain.selection.args[key];\n  });\n\n  var firstVar = variableDefinitions.find(function (definition) {\n    return definition.name === 'first';\n  });\n\n  if (!firstVar) {\n    if (isVariable(first)) {\n      firstVar = first;\n    } else {\n      firstVar = variable('first', 'Int', first);\n      variableDefinitions.push(firstVar);\n    }\n  }\n\n  var document = new Document(currentContext.selection.selectionSet.typeBundle);\n\n  return [document, variableDefinitions, firstVar];\n}\n\nfunction addNextFieldTo(currentSelection, contextChain, path, cursor) {\n  // There are always at least two. When we start, it's the root context, and the first set\n  var nextContext = contextChain.shift();\n\n  path.push(nextContext.selection.responseKey);\n\n  if (contextChain.length) {\n    currentSelection.add(nextContext.selection.name, { alias: nextContext.selection.alias, args: nextContext.selection.args }, function (newSelection) {\n      addNextFieldTo(newSelection, contextChain, path, cursor);\n    });\n  } else {\n    var edgesField = nextContext.selection.selectionSet.selections.find(function (field) {\n      return field.name === 'edges';\n    });\n    var nodeField = edgesField.selectionSet.selections.find(function (field) {\n      return field.name === 'node';\n    });\n    var first = void 0;\n\n    if (isVariable(nextContext.selection.args.first)) {\n      first = nextContext.selection.args.first;\n    } else {\n      first = variable('first', 'Int', nextContext.selection.args.first);\n    }\n\n    var options = {\n      alias: nextContext.selection.alias,\n      args: Object.assign({}, nextContext.selection.args, { after: cursor, first: first })\n    };\n\n    currentSelection.addConnection(nextContext.selection.name, options, nodeField.selectionSet);\n  }\n}\n\nfunction collectFragments(selections) {\n  return selections.reduce(function (fragmentDefinitions, field) {\n    if (FragmentSpread.prototype.isPrototypeOf(field)) {\n      fragmentDefinitions.push(field.toDefinition());\n    }\n\n    fragmentDefinitions.push.apply(fragmentDefinitions, toConsumableArray(collectFragments(field.selectionSet.selections)));\n\n    return fragmentDefinitions;\n  }, []);\n}\n\nfunction nextPageQueryAndPath(context, cursor) {\n  var nearestNodeContext = nearestNode(context);\n\n  if (nearestNodeContext) {\n    return function () {\n      var _document$definitions;\n\n      var path = [];\n      var nodeType = nearestNodeContext.selection.selectionSet.typeSchema;\n      var nodeId = nearestNodeContext.responseData.id;\n      var contextChain = contextsFromNearestNode(context);\n\n      var _initializeDocumentAn = initializeDocumentAndVars(context, contextChain),\n          _initializeDocumentAn2 = slicedToArray(_initializeDocumentAn, 2),\n          document = _initializeDocumentAn2[0],\n          variableDefinitions = _initializeDocumentAn2[1];\n\n      document.addQuery(variableDefinitions, function (root) {\n        path.push('node');\n        root.add('node', { args: { id: nodeId } }, function (node) {\n          node.addInlineFragmentOn(nodeType.name, function (fragment) {\n            addNextFieldTo(fragment, contextChain.slice(1), path, cursor);\n          });\n        });\n      });\n\n      var fragments = collectFragments(document.operations[0].selectionSet.selections);\n\n      (_document$definitions = document.definitions).unshift.apply(_document$definitions, toConsumableArray(fragments));\n\n      return [document, path];\n    };\n  } else {\n    return function () {\n      var _document$definitions2;\n\n      var path = [];\n      var contextChain = contextsFromRoot(context);\n\n      var _initializeDocumentAn3 = initializeDocumentAndVars(context, contextChain),\n          _initializeDocumentAn4 = slicedToArray(_initializeDocumentAn3, 2),\n          document = _initializeDocumentAn4[0],\n          variableDefinitions = _initializeDocumentAn4[1];\n\n      document.addQuery(variableDefinitions, function (root) {\n        addNextFieldTo(root, contextChain.slice(1), path, cursor);\n      });\n\n      var fragments = collectFragments(document.operations[0].selectionSet.selections);\n\n      (_document$definitions2 = document.definitions).unshift.apply(_document$definitions2, toConsumableArray(fragments));\n\n      return [document, path];\n    };\n  }\n}\n\nfunction hasNextPage$1(connection, edge) {\n  if (edge !== connection.edges[connection.edges.length - 1]) {\n    return new Scalar(true);\n  }\n\n  return connection.pageInfo.hasNextPage;\n}\n\nfunction hasPreviousPage(connection, edge) {\n  if (edge !== connection.edges[0]) {\n    return new Scalar(true);\n  }\n\n  return connection.pageInfo.hasPreviousPage;\n}\n\nfunction transformConnections(variableValues) {\n  return function (context, value) {\n    if (isConnection(context)) {\n      if (!(value.pageInfo && value.pageInfo.hasOwnProperty('hasNextPage') && value.pageInfo.hasOwnProperty('hasPreviousPage'))) {\n        throw new Error('Connections must include the selections \"pageInfo { hasNextPage, hasPreviousPage }\".');\n      }\n\n      return value.edges.map(function (edge) {\n        return Object.assign(edge.node, {\n          nextPageQueryAndPath: nextPageQueryAndPath(context, edge.cursor),\n          hasNextPage: hasNextPage$1(value, edge),\n          hasPreviousPage: hasPreviousPage(value, edge),\n          variableValues: variableValues\n        });\n      });\n    } else {\n      return value;\n    }\n  };\n}\n\n/* eslint-disable no-warning-comments */\nvar DecodingContext = function () {\n  function DecodingContext(selection, responseData) {\n    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    classCallCheck(this, DecodingContext);\n\n    this.selection = selection;\n    this.responseData = responseData;\n    this.parent = parent;\n    Object.freeze(this);\n  }\n\n  createClass(DecodingContext, [{\n    key: 'contextForObjectProperty',\n    value: function contextForObjectProperty(responseKey) {\n      var nestedSelections = this.selection.selectionSet.selectionsByResponseKey[responseKey];\n      var nextSelection = nestedSelections && nestedSelections[0];\n      var nextContext = void 0;\n\n      // fragment spreads operate inside the current context, so we recurse to get the proper\n      // selection set, but retain the current response context\n      if (Spread.prototype.isPrototypeOf(nextSelection)) {\n        nextContext = new DecodingContext(nextSelection, this.responseData, this.parent);\n      } else {\n        nextContext = new DecodingContext(nextSelection, this.responseData[responseKey], this);\n      }\n\n      if (!nextSelection) {\n        throw new Error('Unexpected response key \"' + responseKey + '\", not found in selection set: ' + this.selection.selectionSet);\n      }\n\n      if (Field.prototype.isPrototypeOf(nextSelection)) {\n        return nextContext;\n      } else {\n        return nextContext.contextForObjectProperty(responseKey);\n      }\n    }\n  }, {\n    key: 'contextForArrayItem',\n    value: function contextForArrayItem(item) {\n      return new DecodingContext(this.selection, item, this.parent);\n    }\n  }]);\n  return DecodingContext;\n}();\n\nfunction decodeArrayItems(context, transformers) {\n  return context.responseData.map(function (item) {\n    return decodeContext(context.contextForArrayItem(item), transformers);\n  });\n}\n\nfunction decodeObjectValues(context, transformers) {\n  return Object.keys(context.responseData).reduce(function (acc, responseKey) {\n    acc[responseKey] = decodeContext(context.contextForObjectProperty(responseKey), transformers);\n\n    return acc;\n  }, {});\n}\n\nfunction runTransformers(transformers, context, value) {\n  return transformers.reduce(function (acc, transformer) {\n    return transformer(context, acc);\n  }, value);\n}\n\nfunction decodeContext(context, transformers) {\n  var value = context.responseData;\n\n  if (Array.isArray(value)) {\n    value = decodeArrayItems(context, transformers);\n  } else if (isObject(value)) {\n    value = decodeObjectValues(context, transformers);\n  }\n\n  return runTransformers(transformers, context, value);\n}\n\nfunction generateRefetchQueries(context, value) {\n  if (isValue(value) && isNodeContext(context)) {\n    value.refetchQuery = function () {\n      return new Query(context.selection.selectionSet.typeBundle, function (root) {\n        root.add('node', { args: { id: context.responseData.id } }, function (node) {\n          node.addInlineFragmentOn(context.selection.selectionSet.typeSchema.name, context.selection.selectionSet);\n        });\n      });\n    };\n  }\n\n  return value;\n}\n\nfunction transformPojosToClassesWithRegistry(classRegistry) {\n  return function transformPojosToClasses(context, value) {\n    if (isObject(value)) {\n      var Klass = classRegistry.classForType(context.selection.selectionSet.typeSchema.name);\n\n      return new Klass(value);\n    } else {\n      return value;\n    }\n  };\n}\n\nfunction transformScalars(context, value) {\n  if (isValue(value)) {\n    if (context.selection.selectionSet.typeSchema.kind === 'SCALAR') {\n      return new Scalar(value);\n    } else if (context.selection.selectionSet.typeSchema.kind === 'ENUM') {\n      return new Enum(value);\n    }\n  }\n\n  return value;\n}\n\nfunction recordTypeInformation(context, value) {\n  var _context$selection$se = context.selection.selectionSet,\n      typeBundle = _context$selection$se.typeBundle,\n      typeSchema = _context$selection$se.typeSchema;\n\n  if (isValue(value)) {\n    if (value.__typename) {\n      value.type = schemaForType(typeBundle, value.__typename, typeSchema);\n    } else {\n      value.type = typeSchema;\n    }\n  }\n\n  return value;\n}\n\nfunction defaultTransformers(_ref) {\n  var _ref$classRegistry = _ref.classRegistry,\n      classRegistry = _ref$classRegistry === undefined ? new ClassRegistry() : _ref$classRegistry,\n      variableValues = _ref.variableValues;\n\n  return [transformScalars, generateRefetchQueries, transformConnections(variableValues), recordTypeInformation, transformPojosToClassesWithRegistry(classRegistry)];\n}\n\n/**\n * A function used to decode the response data.\n *\n * @function decode\n * @param {SelectionSet} selection The selection set used to query the response data.\n * @param {Object} responseData The response data returned.\n * @param {Object} [options] Options to use when decoding including:\n *   @param {ClassRegistry} [options.classRegistry] A class registry to use when deserializing the data into classes.\n * @return {GraphModel} The decoded response data.\n */\nfunction decode(selection, responseData) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var transformers = options.transformers || defaultTransformers(options);\n  var context = new DecodingContext(selection, responseData);\n\n  return decodeContext(context, transformers);\n}\n\nfunction httpFetcher(url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return function fetcher(graphQLParams, headers) {\n    return fetch(url, _extends({\n      body: JSON.stringify(graphQLParams),\n      method: 'POST',\n      mode: 'cors'\n    }, options, {\n      headers: _extends({\n        'Content-Type': 'application/json',\n        Accept: 'application/json'\n      }, options.headers, headers)\n    })).then(function (response) {\n      var contentType = response.headers.get('content-type');\n\n      if (contentType.indexOf('application/json') > -1) {\n        return response.json();\n      }\n\n      return response.text().then(function (text) {\n        return { text: text };\n      });\n    });\n  };\n}\n\nfunction hasNextPage(paginatedModels) {\n  return paginatedModels && paginatedModels.length && paginatedModels[paginatedModels.length - 1].hasNextPage;\n}\n\n/**\n * The Client class used to create and send GraphQL documents, fragments, queries and mutations.\n */\n\nvar Client$2 = function () {\n\n  /**\n   * @param {Object} typeBundle A set of ES6 modules generated by {@link https://github.com/Shopify/graphql-js-schema|graphql-js-schema}.\n   * @param {Object} options An options object. Must include either `url` and optional `fetcherOptions` OR a `fetcher` function.\n   *   @param {(String|Function)} options.url|fetcher Either the URL of the GraphQL API endpoint, or a custom fetcher function for further customization.\n   *   @param {Object} [options.fetcherOptions] Additional options to use with `fetch`, like headers. Do not specify this argument if `fetcher` is specified.\n   *   @param {ClassRegistry} [options.registry=new ClassRegistry()] A {@link ClassRegistry} used to decode the response data.\n   */\n  function Client(typeBundle, _ref) {\n    var url = _ref.url,\n        fetcherOptions = _ref.fetcherOptions,\n        fetcher = _ref.fetcher,\n        _ref$registry = _ref.registry,\n        registry = _ref$registry === undefined ? new ClassRegistry() : _ref$registry;\n    classCallCheck(this, Client);\n\n    this.typeBundle = typeBundle;\n    this.classRegistry = registry;\n\n    if (url && fetcher) {\n      throw new Error('Arguments not supported: supply either `url` and optional `fetcherOptions` OR use a `fetcher` function for further customization.');\n    }\n\n    if (url) {\n      this.fetcher = httpFetcher(url, fetcherOptions);\n    } else if (fetcher) {\n      if (fetcherOptions) {\n        throw new Error('Arguments not supported: when specifying your own `fetcher`, set options through it and not with `fetcherOptions`');\n      }\n\n      this.fetcher = fetcher;\n    } else {\n      throw new Error('Invalid arguments: one of `url` or `fetcher` is needed.');\n    }\n  }\n\n  /**\n   * Creates a GraphQL document.\n   *\n   * @example\n   * const document = client.document();\n   *\n   * @return {Document} A GraphQL document.\n   */\n\n  createClass(Client, [{\n    key: 'document',\n    value: function document() {\n      return new Document(this.typeBundle);\n    }\n\n    /**\n     * Creates a GraphQL query.\n     *\n     * @example\n     * const query = client.query('myQuery', (root) => {\n     *   root.add('cat', (cat) => {\n     *    cat.add('name');\n     *   });\n     * });\n     *\n     * @param {String} [name] A name for the query.\n     * @param {VariableDefinition[]} [variables] A list of variables in the query. See {@link Client#variable}.\n     * @param {Function} selectionSetCallback The query builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {Query} A GraphQL query.\n     */\n\n  }, {\n    key: 'query',\n    value: function query() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return new (Function.prototype.bind.apply(Query, [null].concat([this.typeBundle], args)))();\n    }\n\n    /**\n     * Creates a GraphQL mutation.\n     *\n     * @example\n     * const input = client.variable('input', 'CatCreateInput!');\n     *\n     * const mutation = client.mutation('myMutation', [input], (root) => {\n     *   root.add('catCreate', {args: {input}}, (catCreate) => {\n     *     catCreate.add('cat', (cat) => {\n     *       cat.add('name');\n     *     });\n     *   });\n     * });\n     *\n     * @param {String} [name] A name for the mutation.\n     * @param {VariableDefinition[]} [variables] A list of variables in the mutation. See {@link Client#variable}.\n     * @param {Function} selectionSetCallback The mutation builder callback.\n     *   A {@link SelectionSet} is created using this callback.\n     * @return {Mutation} A GraphQL mutation.\n     */\n\n  }, {\n    key: 'mutation',\n    value: function mutation() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return new (Function.prototype.bind.apply(Mutation, [null].concat([this.typeBundle], args)))();\n    }\n\n    /**\n     * Sends a GraphQL operation (query or mutation) or a document.\n     *\n     * @example\n     * client.send(query, {id: '12345'}).then((result) => {\n     *   // Do something with the returned result\n     *   console.log(result);\n     * });\n     *\n     * @param {(Query|Mutation|Document|Function)} request The operation or document to send. If represented\n     * as a function, it must return `Query`, `Mutation`, or `Document` and recieve the client as the only param.\n     * @param {Object} [variableValues] The values for variables in the operation or document.\n     * @param {Object} [otherProperties] Other properties to send with the query. For example, a custom operation name.\n     * @param {Object} [headers] Additional headers to be applied on a request by request basis.\n     * @return {Promise.<Object>} A promise resolving to an object containing the response data.\n     */\n\n  }, {\n    key: 'send',\n    value: function send(request) {\n      var variableValues = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var _this = this;\n\n      var otherProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n      var operationOrDocument = void 0;\n\n      if (Function.prototype.isPrototypeOf(request)) {\n        operationOrDocument = request(this);\n      } else {\n        operationOrDocument = request;\n      }\n\n      var graphQLParams = { query: operationOrDocument.toString() };\n\n      if (variableValues) {\n        graphQLParams.variables = variableValues;\n      }\n\n      Object.assign(graphQLParams, otherProperties);\n\n      var operation = void 0;\n\n      if (Operation.prototype.isPrototypeOf(operationOrDocument)) {\n        operation = operationOrDocument;\n      } else {\n        var document = operationOrDocument;\n\n        if (document.operations.length === 1) {\n          operation = document.operations[0];\n        } else if (otherProperties.operationName) {\n          operation = document.operations.find(function (documentOperation) {\n            return documentOperation.name === otherProperties.operationName;\n          });\n        } else {\n          throw new Error('\\n          A document must contain exactly one operation, or an operationName\\n          must be specified. Example:\\n\\n            client.send(document, null, {operationName: \\'myFancyQuery\\'});\\n        ');\n        }\n      }\n\n      return this.fetcher(graphQLParams, headers).then(function (response) {\n        if (response.data) {\n          response.model = decode(operation, response.data, {\n            classRegistry: _this.classRegistry,\n            variableValues: variableValues\n          });\n        }\n\n        return response;\n      });\n    }\n\n    /**\n     * Fetches the next page of a paginated node or array of nodes.\n     *\n     * @example\n     * client.fetchNextPage(node, {first: 10}).then((result) => {\n     *   // Do something with the next page\n     *   console.log(result);\n     * });\n     *\n     * @param {(GraphModel|GraphModel[])} nodeOrNodes The node or list of nodes on which to fetch the next page.\n     * @param {Object} [options] Options object containing:\n     *   @param {Integer} [options.first] The number of nodes to query on the next page. Defaults to the page size of the previous query.\n     * @return {Promise.<GraphModel[]>} A promise resolving with the next page of {@link GraphModel}s.\n     */\n\n  }, {\n    key: 'fetchNextPage',\n    value: function fetchNextPage(nodeOrNodes, options) {\n      var node = void 0;\n\n      if (Array.isArray(nodeOrNodes)) {\n        node = nodeOrNodes[nodeOrNodes.length - 1];\n      } else {\n        node = nodeOrNodes;\n      }\n\n      var _node$nextPageQueryAn = node.nextPageQueryAndPath(),\n          _node$nextPageQueryAn2 = slicedToArray(_node$nextPageQueryAn, 2),\n          query = _node$nextPageQueryAn2[0],\n          path = _node$nextPageQueryAn2[1];\n\n      var variableValues = void 0;\n\n      if (node.variableValues || options) {\n        variableValues = Object.assign({}, node.variableValues, options);\n      }\n\n      return this.send(query, variableValues).then(function (response) {\n        response.model = path.reduce(function (object, key) {\n          return object[key];\n        }, response.model);\n\n        return response;\n      });\n    }\n\n    /**\n     * Fetches all subsequent pages of a paginated array of nodes.\n     *\n     * @example\n     * client.fetchAllPages(nodes, {pageSize: 20}).then((result) => {\n     *   // Do something with all the models\n     *   console.log(result);\n     * });\n     *\n     * @param {GraphModel[]} paginatedModels The list of nodes on which to fetch all pages.\n     * @param {Object} options Options object containing:\n     *   @param {Integer} options.pageSize The number of nodes to query on each page.\n     * @return {Promise.<GraphModel[]>} A promise resolving with all pages of {@link GraphModel}s, including the original list.\n     */\n\n  }, {\n    key: 'fetchAllPages',\n    value: function fetchAllPages(paginatedModels, _ref2) {\n      var _this2 = this;\n\n      var pageSize = _ref2.pageSize;\n\n      if (hasNextPage(paginatedModels)) {\n        return this.fetchNextPage(paginatedModels, { first: pageSize }).then(function (_ref3) {\n          var model = _ref3.model;\n\n          var pages = paginatedModels.concat(model);\n\n          return _this2.fetchAllPages(pages, { pageSize: pageSize });\n        });\n      }\n\n      return Promise.resolve(paginatedModels);\n    }\n\n    /**\n     * Refetches a {@link GraphModel} whose type implements `Node`.\n     *\n     * @example\n     * client.refetch(node).then((result) => {\n     *   // Do something with the refetched node\n     *   console.log(result);\n     * });\n     *\n     * @param {GraphModel} nodeType A {@link GraphModel} whose type implements `Node`.\n     * @return {Promise.<GraphModel>} The refetched {@link GraphModel}.\n     */\n\n  }, {\n    key: 'refetch',\n    value: function refetch(nodeType) {\n      if (!nodeType) {\n        throw new Error('\\'client#refetch\\' must be called with a non-null instance of a Node.');\n      } else if (!nodeType.type.implementsNode) {\n        throw new Error('\\'client#refetch\\' must be called with a type that implements Node. Received ' + nodeType.type.name + '.');\n      }\n\n      return this.send(nodeType.refetchQuery()).then(function (_ref4) {\n        var model = _ref4.model;\n        return model.node;\n      });\n    }\n\n    /**\n     * Creates a variable to be used in a {@link Query} or {@link Mutation}.\n     *\n     * @example\n     * const idVariable = client.variable('id', 'ID!', '12345');\n     *\n     * @param {String} name The name of the variable.\n     * @param {String} type The GraphQL type of the variable.\n     * @param {*} [defaultValue] The default value of the variable.\n     * @return {VariableDefinition} A variable object that can be used in a {@link Query} or {@link Mutation}.\n     */\n\n  }, {\n    key: 'variable',\n    value: function variable$$1(name, type, defaultValue) {\n      return variable(name, type, defaultValue);\n    }\n\n    /**\n     * Creates an enum to be used in a {@link Query} or {@link Mutation}.\n     *\n     * @example\n     * const titleEnum = client.enum('TITLE');\n     *\n     * @param {String} key The key of the enum.\n     * @return {Enum} An enum object that can be used in a {@link Query} or {@link Mutation}.\n     */\n\n  }, {\n    key: 'enum',\n    value: function _enum(key) {\n      return enumFunction(key);\n    }\n  }]);\n  return Client;\n}();\n\n/**\n * The class used to configure the JS Buy SDK Client.\n * @class\n */\nvar Config = function () {\n  createClass$1(Config, [{\n    key: 'requiredProperties',\n\n\n    /**\n     * Properties that must be set on initializations\n     * @attribute requiredProperties\n     * @default ['storefrontAccessToken', 'domain']\n     * @type Array\n     * @private\n     */\n    get: function get$$1() {\n      return ['storefrontAccessToken', 'domain'];\n    }\n\n    /**\n     * Deprecated properties that map directly to required properties\n     * @attribute deprecatedProperties\n     * @default {'accessToken': 'storefrontAccessToken', 'apiKey': 'storefrontAccessToken'}\n     * @type Object\n     * @private\n     */\n\n  }, {\n    key: 'deprecatedProperties',\n    get: function get$$1() {\n      return {\n        accessToken: 'storefrontAccessToken',\n        apiKey: 'storefrontAccessToken'\n      };\n    }\n\n    /**\n     * @constructs Config\n     * @param {Object} attrs An object specifying the configuration. Requires the following properties:\n     *   @param {String} attrs.storefrontAccessToken The {@link https://help.shopify.com/api/reference/storefront_access_token|Storefront access token} for the shop.\n     *   @param {String} attrs.domain The `myshopify` domain for the shop (e.g. `graphql.myshopify.com`).\n     */\n\n  }]);\n\n  function Config(attrs) {\n    var _this = this;\n\n    classCallCheck$1(this, Config);\n\n    Object.keys(this.deprecatedProperties).forEach(function (key) {\n      if (!attrs.hasOwnProperty(key)) {\n        return;\n      }\n      // eslint-disable-next-line no-console\n      console.warn('[ShopifyBuy] Config property ' + key + ' is deprecated as of v1.0, please use ' + _this.deprecatedProperties[key] + ' instead.');\n      attrs[_this.deprecatedProperties[key]] = attrs[key];\n    });\n\n    this.requiredProperties.forEach(function (key) {\n      if (attrs.hasOwnProperty(key)) {\n        _this[key] = attrs[key];\n      } else {\n        throw new Error('new Config() requires the option \\'' + key + '\\'');\n      }\n    });\n\n    if (attrs.hasOwnProperty('apiVersion')) {\n      this.apiVersion = attrs.apiVersion;\n    } else {\n      this.apiVersion = '2024-04';\n    }\n\n    if (attrs.hasOwnProperty('source')) {\n      this.source = attrs.source;\n    }\n\n    if (attrs.hasOwnProperty('language')) {\n      this.language = attrs.language;\n    }\n  }\n\n  return Config;\n}();\n\nvar Resource = function Resource(client) {\n  classCallCheck$1(this, Resource);\n\n  this.graphQLClient = client;\n};\n\nvar defaultErrors = [{ message: 'an unknown error has occurred.' }];\n\nfunction defaultResolver(path) {\n  var keys = path.split('.');\n\n  return function (_ref) {\n    var model = _ref.model,\n        errors = _ref.errors;\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var result = keys.reduce(function (ref, key) {\n          return ref[key];\n        }, model);\n\n        resolve(result);\n      } catch (_) {\n        if (errors) {\n          reject(errors);\n        } else {\n          reject(defaultErrors);\n        }\n      }\n    });\n  };\n}\n\nfunction fetchResourcesForProducts(productOrProduct, client) {\n  var products = [].concat(productOrProduct);\n\n  return Promise.all(products.reduce(function (promiseAcc, product) {\n\n    // If the graphql query doesn't find a match, skip fetching variants and images.\n    if (product === null) {\n      return promiseAcc;\n    }\n\n    // Fetch the rest of the images and variants for this product\n    promiseAcc.push(client.fetchAllPages(product.images, { pageSize: 250 }).then(function (images) {\n      product.attrs.images = images;\n    }));\n\n    promiseAcc.push(client.fetchAllPages(product.variants, { pageSize: 250 }).then(function (variants) {\n      product.attrs.variants = variants;\n    }));\n\n    return promiseAcc;\n  }, []));\n}\n\nfunction paginateProductConnectionsAndResolve(client) {\n  return function (products) {\n    return fetchResourcesForProducts(products, client).then(function () {\n      return products;\n    });\n  };\n}\n\nfunction paginateCollectionsProductConnectionsAndResolve(client) {\n  return function (collectionOrCollections) {\n    var collections = [].concat(collectionOrCollections);\n\n    return Promise.all(collections.reduce(function (promiseAcc, collection) {\n      return promiseAcc.concat(fetchResourcesForProducts(collection.products, client));\n    }, [])).then(function () {\n      return collectionOrCollections;\n    });\n  };\n}\n\n/**\n * @namespace ProductHelpers\n */\nvar productHelpers = {\n\n  /**\n   * Returns the variant of a product corresponding to the options given.\n   *\n   * @example\n   * const selectedVariant = client.product.helpers.variantForOptions(product, {\n   *   size: \"Small\",\n   *   color: \"Red\"\n   * });\n   *\n   * @memberof ProductHelpers\n   * @method variantForOptions\n   * @param {GraphModel} product The product to find the variant on. Must include `variants`.\n   * @param {Object} options An object containing the options for the variant.\n   * @return {GraphModel} The variant corresponding to the options given.\n   */\n  variantForOptions: function variantForOptions(product, options) {\n    return product.variants.find(function (variant) {\n      return variant.selectedOptions.every(function (selectedOption) {\n        return options[selectedOption.name] === selectedOption.value.valueOf();\n      });\n    });\n  }\n};\n\nfunction query(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$1(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.ids = client.variable(\"ids\", \"[ID!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.ids], function (root) {\n    root.add(\"nodes\", {\n      args: {\n        ids: variables.__defaultOperation__.ids\n      }\n    }, function (nodes) {\n      nodes.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$2(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"ProductSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse], function (root) {\n    root.add(\"products\", {\n      args: {\n        first: variables.__defaultOperation__.first,\n        query: variables.__defaultOperation__.query,\n        sortKey: variables.__defaultOperation__.sortKey,\n        reverse: variables.__defaultOperation__.reverse\n      }\n    }, function (products) {\n      products.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      products.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.ProductFragment);\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$3(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.handle = client.variable(\"handle\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.handle], function (root) {\n    root.add(\"productByHandle\", {\n      args: {\n        handle: variables.__defaultOperation__.handle\n      }\n    }, function (productByHandle) {\n      productByHandle.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$4(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.productId = client.variable(\"productId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.productId], function (root) {\n    root.add(\"productRecommendations\", {\n      args: {\n        productId: variables.__defaultOperation__.productId\n      }\n    }, function (productRecommendations) {\n      productRecommendations.addFragment(spreads.ProductFragment);\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK product resource\n * @class\n */\n\nvar ProductResource = function (_Resource) {\n  inherits$1(ProductResource, _Resource);\n\n  function ProductResource() {\n    classCallCheck$1(this, ProductResource);\n    return possibleConstructorReturn$1(this, (ProductResource.__proto__ || Object.getPrototypeOf(ProductResource)).apply(this, arguments));\n  }\n\n  createClass$1(ProductResource, [{\n    key: 'fetchAll',\n\n\n    /**\n     * Fetches all products on the shop.\n     *\n     * @example\n     * client.product.fetchAll().then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {Int} [pageSize] The number of products to fetch per page\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n    value: function fetchAll() {\n      var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n      return this.graphQLClient.send(query$2, { first: first }).then(defaultResolver('products')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single product by ID on the shop.\n     *\n     * @example\n     * client.product.fetch('Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==').then((product) => {\n     *   // Do something with the product\n     * });\n     *\n     * @param {String} id The id of the product to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function fetch(id) {\n      return this.graphQLClient.send(query, { id: id }).then(defaultResolver('node')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches multiple products by ID on the shop.\n     *\n     * @example\n     * const ids = ['Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==', 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0Lzc4NTc5ODkzODQ='];\n     * client.product.fetchMultiple(ids).then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {String[]} ids The ids of the products to fetch\n     * @return {Promise|GraphModel[]} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetchMultiple',\n    value: function fetchMultiple(ids) {\n      return this.graphQLClient.send(query$1, { ids: ids }).then(defaultResolver('nodes')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single product by handle on the shop.\n     *\n     * @example\n     * client.product.fetchByHandle('my-product').then((product) => {\n     *   // Do something with the product\n     * });\n     *\n     * @param {String} handle The handle of the product to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the product.\n     */\n\n  }, {\n    key: 'fetchByHandle',\n    value: function fetchByHandle(handle) {\n      return this.graphQLClient.send(query$3, { handle: handle }).then(defaultResolver('productByHandle')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches all products on the shop that match the query.\n     *\n     * @example\n     * client.product.fetchQuery({first: 20, sortKey: 'CREATED_AT', reverse: true}).then((products) => {\n     *   // Do something with the first 10 products sorted by title in ascending order\n     * });\n     *\n     * @param {Object} [args] An object specifying the query data containing zero or more of:\n     *   @param {Int} [args.first=20] The relay `first` param. This specifies page size.\n     *   @param {String} [args.sortKey=ID] The key to sort results by. Available values are\n     *   documented as {@link https://help.shopify.com/api/storefront-api/reference/enum/productsortkeys|Product Sort Keys}.\n     *   @param {String} [args.query] A query string. See full documentation {@link https://help.shopify.com/api/storefront-api/reference/object/shop#products|here}\n     *   @param {Boolean} [args.reverse] Whether or not to reverse the sort order of the results\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n\n  }, {\n    key: 'fetchQuery',\n    value: function fetchQuery() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$first = _ref.first,\n          first = _ref$first === undefined ? 20 : _ref$first,\n          _ref$sortKey = _ref.sortKey,\n          sortKey = _ref$sortKey === undefined ? 'ID' : _ref$sortKey,\n          query$$1 = _ref.query,\n          reverse = _ref.reverse;\n\n      return this.graphQLClient.send(query$2, {\n        first: first,\n        sortKey: sortKey,\n        query: query$$1,\n        reverse: reverse\n      }).then(defaultResolver('products')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Find recommended products related to a given productId.\n     * To learn more about how recommendations are generated, see https://shopify.dev/themes/product-merchandising/recommendations.\n     *\n     * @example\n     * const productId 'Xk9lM2JkNzFmNzIQ4NTIY4ZDFi9DaGVja291dC9lM2JkN==';\n     * client.product.fetchProductRecommendations(productId).then((products) => {\n     *   // Do something with the products\n     * });\n     *\n     * @param {String} productId The id of the product to fetch.\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the products.\n     */\n\n  }, {\n    key: 'fetchRecommendations',\n    value: function fetchRecommendations(productId) {\n      return this.graphQLClient.send(query$4, { productId: productId }).then(defaultResolver('productRecommendations')).then(paginateProductConnectionsAndResolve(this.graphQLClient));\n    }\n  }, {\n    key: 'helpers',\n    get: function get$$1() {\n      return productHelpers;\n    }\n  }]);\n  return ProductResource;\n}(Resource);\n\nfunction query$5(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CollectionFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$6(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  variables.__defaultOperation__.productsFirst = client.variable(\"productsFirst\", \"Int!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id, variables.__defaultOperation__.productsFirst], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CollectionFragment);\n      node.addInlineFragmentOn(\"Collection\", function (Collection) {\n        Collection.add(\"products\", {\n          args: {\n            first: variables.__defaultOperation__.productsFirst\n          }\n        }, function (products) {\n          products.add(\"pageInfo\", function (pageInfo) {\n            pageInfo.add(\"hasNextPage\");\n            pageInfo.add(\"hasPreviousPage\");\n          });\n          products.add(\"edges\", function (edges) {\n            edges.add(\"cursor\");\n            edges.add(\"node\", function (node) {\n              node.addFragment(spreads.ProductFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$7(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"CollectionSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse], function (root) {\n    root.add(\"collections\", {\n      args: {\n        first: variables.__defaultOperation__.first,\n        query: variables.__defaultOperation__.query,\n        sortKey: variables.__defaultOperation__.sortKey,\n        reverse: variables.__defaultOperation__.reverse\n      }\n    }, function (collections) {\n      collections.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      collections.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.CollectionFragment);\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$8(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.first = client.variable(\"first\", \"Int!\");\n  variables.__defaultOperation__.query = client.variable(\"query\", \"String\");\n  variables.__defaultOperation__.sortKey = client.variable(\"sortKey\", \"CollectionSortKeys\");\n  variables.__defaultOperation__.reverse = client.variable(\"reverse\", \"Boolean\");\n  variables.__defaultOperation__.productsFirst = client.variable(\"productsFirst\", \"Int!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.first, variables.__defaultOperation__.query, variables.__defaultOperation__.sortKey, variables.__defaultOperation__.reverse, variables.__defaultOperation__.productsFirst], function (root) {\n    root.add(\"collections\", {\n      args: {\n        first: variables.__defaultOperation__.first,\n        query: variables.__defaultOperation__.query,\n        sortKey: variables.__defaultOperation__.sortKey,\n        reverse: variables.__defaultOperation__.reverse\n      }\n    }, function (collections) {\n      collections.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      collections.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.CollectionFragment);\n          node.add(\"products\", {\n            args: {\n              first: variables.__defaultOperation__.productsFirst\n            }\n          }, function (products) {\n            products.add(\"pageInfo\", function (pageInfo) {\n              pageInfo.add(\"hasNextPage\");\n              pageInfo.add(\"hasPreviousPage\");\n            });\n            products.add(\"edges\", function (edges) {\n              edges.add(\"cursor\");\n              edges.add(\"node\", function (node) {\n                node.addFragment(spreads.ProductFragment);\n              });\n            });\n          });\n        });\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$9(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.handle = client.variable(\"handle\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.ProductFragment = document.defineFragment(\"ProductFragment\", \"Product\", function (root) {\n    root.add(\"id\");\n    root.add(\"availableForSale\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"descriptionHtml\");\n    root.add(\"description\");\n    root.add(\"handle\");\n    root.add(\"productType\");\n    root.add(\"title\");\n    root.add(\"vendor\");\n    root.add(\"publishedAt\");\n    root.add(\"onlineStoreUrl\");\n    root.add(\"options\", function (options) {\n      options.add(\"name\");\n      options.add(\"values\");\n    });\n    root.add(\"images\", {\n      args: {\n        first: 250\n      }\n    }, function (images) {\n      images.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      images.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"url\", {\n            alias: \"src\"\n          });\n          node.add(\"altText\");\n          node.add(\"width\");\n          node.add(\"height\");\n        });\n      });\n    });\n    root.add(\"variants\", {\n      args: {\n        first: 250\n      }\n    }, function (variants) {\n      variants.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      variants.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.VariantFragment);\n        });\n      });\n    });\n  });\n  spreads.CollectionFragment = document.defineFragment(\"CollectionFragment\", \"Collection\", function (root) {\n    root.add(\"id\");\n    root.add(\"handle\");\n    root.add(\"description\");\n    root.add(\"descriptionHtml\");\n    root.add(\"updatedAt\");\n    root.add(\"title\");\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n    });\n  });\n  spreads.CollectionsProductsFragment = document.defineFragment(\"CollectionsProductsFragment\", \"Collection\", function (root) {\n    root.add(\"products\", {\n      args: {\n        first: 20\n      }\n    }, function (products) {\n      products.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      products.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.ProductFragment);\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.handle], function (root) {\n    root.add(\"collectionByHandle\", {\n      args: {\n        handle: variables.__defaultOperation__.handle\n      }\n    }, function (collectionByHandle) {\n      collectionByHandle.addFragment(spreads.CollectionFragment);\n      collectionByHandle.addFragment(spreads.CollectionsProductsFragment);\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK collection resource\n * @class\n */\n\nvar CollectionResource = function (_Resource) {\n  inherits$1(CollectionResource, _Resource);\n\n  function CollectionResource() {\n    classCallCheck$1(this, CollectionResource);\n    return possibleConstructorReturn$1(this, (CollectionResource.__proto__ || Object.getPrototypeOf(CollectionResource)).apply(this, arguments));\n  }\n\n  createClass$1(CollectionResource, [{\n    key: 'fetchAll',\n\n\n    /**\n     * Fetches all collections on the shop, not including products.\n     * To fetch collections with products use [fetchAllsWithProducts]{@link Client#fetchAllsWithProducts}.\n     *\n     * @example\n     * client.collection.fetchAll().then((collections) => {\n     *   // Do something with the collections\n     * });\n     *\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n    value: function fetchAll() {\n      var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n      return this.graphQLClient.send(query$7, { first: first }).then(defaultResolver('collections'));\n    }\n\n    /**\n     * Fetches all collections on the shop, including products.\n     *\n     * @example\n     * client.collection.fetchAllWithProducts().then((collections) => {\n     *   // Do something with the collections\n     * });\n     *\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n\n  }, {\n    key: 'fetchAllWithProducts',\n    value: function fetchAllWithProducts() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$first = _ref.first,\n          first = _ref$first === undefined ? 20 : _ref$first,\n          _ref$productsFirst = _ref.productsFirst,\n          productsFirst = _ref$productsFirst === undefined ? 20 : _ref$productsFirst;\n\n      return this.graphQLClient.send(query$8, { first: first, productsFirst: productsFirst }).then(defaultResolver('collections')).then(paginateCollectionsProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a single collection by ID on the shop, not including products.\n     * To fetch the collection with products use [fetchWithProducts]{@link Client#fetchWithProducts}.\n     *\n     * @example\n     * client.collection.fetch('Xk9lM2JkNzFmNzIQ4NTIY4ZDFiZTUyZTUwNTE2MDNhZjg==').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} id The id of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetch',\n    value: function fetch(id) {\n      return this.graphQLClient.send(query$5, { id: id }).then(defaultResolver('node'));\n    }\n\n    /**\n     * Fetches a single collection by ID on the shop, including products.\n     *\n     * @example\n     * client.collection.fetchWithProducts('Xk9lM2JkNzFmNzIQ4NTIY4ZDFiZTUyZTUwNTE2MDNhZjg==').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} id The id of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetchWithProducts',\n    value: function fetchWithProducts(id) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$productsFirst = _ref2.productsFirst,\n          productsFirst = _ref2$productsFirst === undefined ? 20 : _ref2$productsFirst;\n\n      return this.graphQLClient.send(query$6, { id: id, productsFirst: productsFirst }).then(defaultResolver('node')).then(paginateCollectionsProductConnectionsAndResolve(this.graphQLClient));\n    }\n\n    /**\n     * Fetches a collection by handle on the shop.\n     *\n     * @example\n     * client.collection.fetchByHandle('my-collection').then((collection) => {\n     *   // Do something with the collection\n     * });\n     *\n     * @param {String} handle The handle of the collection to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the collection.\n     */\n\n  }, {\n    key: 'fetchByHandle',\n    value: function fetchByHandle(handle) {\n      return this.graphQLClient.send(query$9, { handle: handle }).then(defaultResolver('collectionByHandle'));\n    }\n\n    /**\n     * Fetches all collections on the shop that match the query.\n     *\n     * @example\n     * client.collection.fetchQuery({first: 20, sortKey: 'CREATED_AT', reverse: true}).then((collections) => {\n     *   // Do something with the first 10 collections sorted by title in ascending order\n     * });\n     *\n     * @param {Object} [args] An object specifying the query data containing zero or more of:\n     *   @param {Int} [args.first=20] The relay `first` param. This specifies page size.\n     *   @param {String} [args.sortKey=ID] The key to sort results by. Available values are\n     *   documented as {@link https://help.shopify.com/api/storefront-api/reference/enum/collectionsortkeys|Collection Sort Keys}.\n     *   @param {String} [args.query] A query string. See full documentation {@link https://help.shopify.com/api/storefront-api/reference/object/shop#collections|here}\n     *   @param {Boolean} [args.reverse] Whether or not to reverse the sort order of the results\n     * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the collections.\n     */\n\n  }, {\n    key: 'fetchQuery',\n    value: function fetchQuery() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$first = _ref3.first,\n          first = _ref3$first === undefined ? 20 : _ref3$first,\n          _ref3$sortKey = _ref3.sortKey,\n          sortKey = _ref3$sortKey === undefined ? 'ID' : _ref3$sortKey,\n          query = _ref3.query,\n          reverse = _ref3.reverse;\n\n      return this.graphQLClient.send(query$7, {\n        first: first,\n        sortKey: sortKey,\n        query: query,\n        reverse: reverse\n      }).then(defaultResolver('collections'));\n    }\n  }]);\n  return CollectionResource;\n}(Resource);\n\nfunction query$10(client) {\n  var document = client.document();\n  document.addQuery(function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"paymentSettings\", function (paymentSettings) {\n        paymentSettings.add(\"enabledPresentmentCurrencies\");\n      });\n      shop.add(\"description\");\n      shop.add(\"moneyFormat\");\n      shop.add(\"name\");\n      shop.add(\"primaryDomain\", function (primaryDomain) {\n        primaryDomain.add(\"host\");\n        primaryDomain.add(\"sslEnabled\");\n        primaryDomain.add(\"url\");\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$11(client) {\n  var document = client.document();\n  var spreads = {};\n  spreads.PolicyFragment = document.defineFragment(\"PolicyFragment\", \"ShopPolicy\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"url\");\n    root.add(\"body\");\n  });\n  document.addQuery(function (root) {\n    root.add(\"shop\", function (shop) {\n      shop.add(\"privacyPolicy\", function (privacyPolicy) {\n        privacyPolicy.addFragment(spreads.PolicyFragment);\n      });\n      shop.add(\"termsOfService\", function (termsOfService) {\n        termsOfService.addFragment(spreads.PolicyFragment);\n      });\n      shop.add(\"refundPolicy\", function (refundPolicy) {\n        refundPolicy.addFragment(spreads.PolicyFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK shop resource\n * @class\n */\n\nvar ShopResource = function (_Resource) {\n  inherits$1(ShopResource, _Resource);\n\n  function ShopResource() {\n    classCallCheck$1(this, ShopResource);\n    return possibleConstructorReturn$1(this, (ShopResource.__proto__ || Object.getPrototypeOf(ShopResource)).apply(this, arguments));\n  }\n\n  createClass$1(ShopResource, [{\n    key: 'fetchInfo',\n\n\n    /**\n     * Fetches shop information (`currencyCode`, `description`, `moneyFormat`, `name`, and `primaryDomain`).\n     * See the {@link https://help.shopify.com/api/storefront-api/reference/object/shop|Storefront API reference} for more information.\n     *\n     * @example\n     * client.shop.fetchInfo().then((shop) => {\n     *   // Do something with the shop\n     * });\n     *\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the shop.\n     */\n    value: function fetchInfo() {\n      return this.graphQLClient.send(query$10).then(defaultResolver('shop'));\n    }\n\n    /**\n     * Fetches shop policies (privacy policy, terms of service and refund policy).\n     *\n     * @example\n     * client.shop.fetchPolicies().then((shop) => {\n     *   // Do something with the shop\n     * });\n     *\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the shop.\n     */\n\n  }, {\n    key: 'fetchPolicies',\n    value: function fetchPolicies() {\n      return this.graphQLClient.send(query$11).then(defaultResolver('shop'));\n    }\n  }]);\n  return ShopResource;\n}(Resource);\n\nfunction handleCheckoutMutation(mutationRootKey, client) {\n  return function (_ref) {\n    var _ref$data = _ref.data,\n        data = _ref$data === undefined ? {} : _ref$data,\n        errors = _ref.errors,\n        _ref$model = _ref.model,\n        model = _ref$model === undefined ? {} : _ref$model;\n\n    var rootData = data[mutationRootKey];\n    var rootModel = model[mutationRootKey];\n\n    if (rootData && rootData.checkout) {\n      return client.fetchAllPages(rootModel.checkout.lineItems, { pageSize: 250 }).then(function (lineItems) {\n        rootModel.checkout.attrs.lineItems = lineItems;\n        rootModel.checkout.errors = errors;\n        rootModel.checkout.userErrors = rootModel.userErrors;\n\n        return rootModel.checkout;\n      });\n    }\n\n    if (errors && errors.length) {\n      return Promise.reject(new Error(JSON.stringify(errors)));\n    }\n\n    if (rootData && rootData.checkoutUserErrors && rootData.checkoutUserErrors.length) {\n      return Promise.reject(new Error(JSON.stringify(rootData.checkoutUserErrors)));\n    }\n\n    if (rootData && rootData.userErrors && rootData.userErrors.length) {\n      return Promise.reject(new Error(JSON.stringify(rootData.userErrors)));\n    }\n\n    return Promise.reject(new Error(\"The \" + mutationRootKey + \" mutation failed due to an unknown error.\"));\n  };\n}\n\nfunction query$12(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.id = client.variable(\"id\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addQuery([variables.__defaultOperation__.id], function (root) {\n    root.add(\"node\", {\n      args: {\n        id: variables.__defaultOperation__.id\n      }\n    }, function (node) {\n      node.addFragment(spreads.CheckoutFragment);\n    });\n  });\n  return document;\n}\n\nfunction query$13(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.input = client.variable(\"input\", \"CheckoutCreateInput!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.input], function (root) {\n    root.add(\"checkoutCreate\", {\n      args: {\n        input: variables.__defaultOperation__.input\n      }\n    }, function (checkoutCreate) {\n      checkoutCreate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutCreate.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutCreate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$14(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsAdd\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsAdd) {\n      checkoutLineItemsAdd.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsAdd.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutLineItemsAdd.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$15(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItemIds = client.variable(\"lineItemIds\", \"[ID!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItemIds], function (root) {\n    root.add(\"checkoutLineItemsRemove\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItemIds: variables.__defaultOperation__.lineItemIds\n      }\n    }, function (checkoutLineItemsRemove) {\n      checkoutLineItemsRemove.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsRemove.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutLineItemsRemove.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$16(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsReplace\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsReplace) {\n      checkoutLineItemsReplace.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutLineItemsReplace.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$17(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.__defaultOperation__ = {};\n  variables.__defaultOperation__.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.__defaultOperation__.lineItems = client.variable(\"lineItems\", \"[CheckoutLineItemUpdateInput!]!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation([variables.__defaultOperation__.checkoutId, variables.__defaultOperation__.lineItems], function (root) {\n    root.add(\"checkoutLineItemsUpdate\", {\n      args: {\n        checkoutId: variables.__defaultOperation__.checkoutId,\n        lineItems: variables.__defaultOperation__.lineItems\n      }\n    }, function (checkoutLineItemsUpdate) {\n      checkoutLineItemsUpdate.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutLineItemsUpdate.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutLineItemsUpdate.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$18(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutAttributesUpdateV2 = {};\n  variables.checkoutAttributesUpdateV2.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.checkoutAttributesUpdateV2.input = client.variable(\"input\", \"CheckoutAttributesUpdateV2Input!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutAttributesUpdateV2\", [variables.checkoutAttributesUpdateV2.checkoutId, variables.checkoutAttributesUpdateV2.input], function (root) {\n    root.add(\"checkoutAttributesUpdateV2\", {\n      args: {\n        checkoutId: variables.checkoutAttributesUpdateV2.checkoutId,\n        input: variables.checkoutAttributesUpdateV2.input\n      }\n    }, function (checkoutAttributesUpdateV2) {\n      checkoutAttributesUpdateV2.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutAttributesUpdateV2.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutAttributesUpdateV2.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$19(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutDiscountCodeApplyV2 = {};\n  variables.checkoutDiscountCodeApplyV2.discountCode = client.variable(\"discountCode\", \"String!\");\n  variables.checkoutDiscountCodeApplyV2.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutDiscountCodeApplyV2\", [variables.checkoutDiscountCodeApplyV2.discountCode, variables.checkoutDiscountCodeApplyV2.checkoutId], function (root) {\n    root.add(\"checkoutDiscountCodeApplyV2\", {\n      args: {\n        discountCode: variables.checkoutDiscountCodeApplyV2.discountCode,\n        checkoutId: variables.checkoutDiscountCodeApplyV2.checkoutId\n      }\n    }, function (checkoutDiscountCodeApplyV2) {\n      checkoutDiscountCodeApplyV2.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutDiscountCodeApplyV2.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutDiscountCodeApplyV2.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$20(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutDiscountCodeRemove = {};\n  variables.checkoutDiscountCodeRemove.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutDiscountCodeRemove\", [variables.checkoutDiscountCodeRemove.checkoutId], function (root) {\n    root.add(\"checkoutDiscountCodeRemove\", {\n      args: {\n        checkoutId: variables.checkoutDiscountCodeRemove.checkoutId\n      }\n    }, function (checkoutDiscountCodeRemove) {\n      checkoutDiscountCodeRemove.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutDiscountCodeRemove.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutDiscountCodeRemove.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$21(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutGiftCardsAppend = {};\n  variables.checkoutGiftCardsAppend.giftCardCodes = client.variable(\"giftCardCodes\", \"[String!]!\");\n  variables.checkoutGiftCardsAppend.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutGiftCardsAppend\", [variables.checkoutGiftCardsAppend.giftCardCodes, variables.checkoutGiftCardsAppend.checkoutId], function (root) {\n    root.add(\"checkoutGiftCardsAppend\", {\n      args: {\n        giftCardCodes: variables.checkoutGiftCardsAppend.giftCardCodes,\n        checkoutId: variables.checkoutGiftCardsAppend.checkoutId\n      }\n    }, function (checkoutGiftCardsAppend) {\n      checkoutGiftCardsAppend.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutGiftCardsAppend.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutGiftCardsAppend.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$22(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutGiftCardRemoveV2 = {};\n  variables.checkoutGiftCardRemoveV2.appliedGiftCardId = client.variable(\"appliedGiftCardId\", \"ID!\");\n  variables.checkoutGiftCardRemoveV2.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutGiftCardRemoveV2\", [variables.checkoutGiftCardRemoveV2.appliedGiftCardId, variables.checkoutGiftCardRemoveV2.checkoutId], function (root) {\n    root.add(\"checkoutGiftCardRemoveV2\", {\n      args: {\n        appliedGiftCardId: variables.checkoutGiftCardRemoveV2.appliedGiftCardId,\n        checkoutId: variables.checkoutGiftCardRemoveV2.checkoutId\n      }\n    }, function (checkoutGiftCardRemoveV2) {\n      checkoutGiftCardRemoveV2.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutGiftCardRemoveV2.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutGiftCardRemoveV2.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$23(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutEmailUpdateV2 = {};\n  variables.checkoutEmailUpdateV2.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  variables.checkoutEmailUpdateV2.email = client.variable(\"email\", \"String!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutEmailUpdateV2\", [variables.checkoutEmailUpdateV2.checkoutId, variables.checkoutEmailUpdateV2.email], function (root) {\n    root.add(\"checkoutEmailUpdateV2\", {\n      args: {\n        checkoutId: variables.checkoutEmailUpdateV2.checkoutId,\n        email: variables.checkoutEmailUpdateV2.email\n      }\n    }, function (checkoutEmailUpdateV2) {\n      checkoutEmailUpdateV2.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutEmailUpdateV2.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutEmailUpdateV2.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\nfunction query$24(client) {\n  var document = client.document();\n  var spreads = {};\n  var variables = {};\n  variables.checkoutShippingAddressUpdateV2 = {};\n  variables.checkoutShippingAddressUpdateV2.shippingAddress = client.variable(\"shippingAddress\", \"MailingAddressInput!\");\n  variables.checkoutShippingAddressUpdateV2.checkoutId = client.variable(\"checkoutId\", \"ID!\");\n  spreads.VariantFragment = document.defineFragment(\"VariantFragment\", \"ProductVariant\", function (root) {\n    root.add(\"id\");\n    root.add(\"title\");\n    root.add(\"price\", function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"price\", {\n      alias: \"priceV2\"\n    }, function (price) {\n      price.add(\"amount\");\n      price.add(\"currencyCode\");\n    });\n    root.add(\"weight\");\n    root.add(\"availableForSale\", {\n      alias: \"available\"\n    });\n    root.add(\"sku\");\n    root.add(\"compareAtPrice\", function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"compareAtPrice\", {\n      alias: \"compareAtPriceV2\"\n    }, function (compareAtPrice) {\n      compareAtPrice.add(\"amount\");\n      compareAtPrice.add(\"currencyCode\");\n    });\n    root.add(\"image\", function (image) {\n      image.add(\"id\");\n      image.add(\"url\", {\n        alias: \"src\"\n      });\n      image.add(\"altText\");\n      image.add(\"width\");\n      image.add(\"height\");\n    });\n    root.add(\"selectedOptions\", function (selectedOptions) {\n      selectedOptions.add(\"name\");\n      selectedOptions.add(\"value\");\n    });\n    root.add(\"unitPrice\", function (unitPrice) {\n      unitPrice.add(\"amount\");\n      unitPrice.add(\"currencyCode\");\n    });\n    root.add(\"unitPriceMeasurement\", function (unitPriceMeasurement) {\n      unitPriceMeasurement.add(\"measuredType\");\n      unitPriceMeasurement.add(\"quantityUnit\");\n      unitPriceMeasurement.add(\"quantityValue\");\n      unitPriceMeasurement.add(\"referenceUnit\");\n      unitPriceMeasurement.add(\"referenceValue\");\n    });\n  });\n  spreads.DiscountApplicationFragment = document.defineFragment(\"DiscountApplicationFragment\", \"DiscountApplication\", function (root) {\n    root.add(\"targetSelection\");\n    root.add(\"allocationMethod\");\n    root.add(\"targetType\");\n    root.add(\"value\", function (value) {\n      value.addInlineFragmentOn(\"MoneyV2\", function (MoneyV2) {\n        MoneyV2.add(\"amount\");\n        MoneyV2.add(\"currencyCode\");\n      });\n      value.addInlineFragmentOn(\"PricingPercentageValue\", function (PricingPercentageValue) {\n        PricingPercentageValue.add(\"percentage\");\n      });\n    });\n    root.addInlineFragmentOn(\"ManualDiscountApplication\", function (ManualDiscountApplication) {\n      ManualDiscountApplication.add(\"title\");\n      ManualDiscountApplication.add(\"description\");\n    });\n    root.addInlineFragmentOn(\"DiscountCodeApplication\", function (DiscountCodeApplication) {\n      DiscountCodeApplication.add(\"code\");\n      DiscountCodeApplication.add(\"applicable\");\n    });\n    root.addInlineFragmentOn(\"ScriptDiscountApplication\", function (ScriptDiscountApplication) {\n      ScriptDiscountApplication.add(\"title\");\n    });\n    root.addInlineFragmentOn(\"AutomaticDiscountApplication\", function (AutomaticDiscountApplication) {\n      AutomaticDiscountApplication.add(\"title\");\n    });\n  });\n  spreads.AppliedGiftCardFragment = document.defineFragment(\"AppliedGiftCardFragment\", \"AppliedGiftCard\", function (root) {\n    root.add(\"amountUsed\", function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"amountUsed\", {\n      alias: \"amountUsedV2\"\n    }, function (amountUsed) {\n      amountUsed.add(\"amount\");\n      amountUsed.add(\"currencyCode\");\n    });\n    root.add(\"balance\", function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"balance\", {\n      alias: \"balanceV2\"\n    }, function (balance) {\n      balance.add(\"amount\");\n      balance.add(\"currencyCode\");\n    });\n    root.add(\"presentmentAmountUsed\", function (presentmentAmountUsed) {\n      presentmentAmountUsed.add(\"amount\");\n      presentmentAmountUsed.add(\"currencyCode\");\n    });\n    root.add(\"id\");\n    root.add(\"lastCharacters\");\n  });\n  spreads.VariantWithProductFragment = document.defineFragment(\"VariantWithProductFragment\", \"ProductVariant\", function (root) {\n    root.addFragment(spreads.VariantFragment);\n    root.add(\"product\", function (product) {\n      product.add(\"id\");\n      product.add(\"handle\");\n    });\n  });\n  spreads.UserErrorFragment = document.defineFragment(\"UserErrorFragment\", \"UserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n  });\n  spreads.CheckoutUserErrorFragment = document.defineFragment(\"CheckoutUserErrorFragment\", \"CheckoutUserError\", function (root) {\n    root.add(\"field\");\n    root.add(\"message\");\n    root.add(\"code\");\n  });\n  spreads.MailingAddressFragment = document.defineFragment(\"MailingAddressFragment\", \"MailingAddress\", function (root) {\n    root.add(\"id\");\n    root.add(\"address1\");\n    root.add(\"address2\");\n    root.add(\"city\");\n    root.add(\"company\");\n    root.add(\"country\");\n    root.add(\"firstName\");\n    root.add(\"formatted\");\n    root.add(\"lastName\");\n    root.add(\"latitude\");\n    root.add(\"longitude\");\n    root.add(\"phone\");\n    root.add(\"province\");\n    root.add(\"zip\");\n    root.add(\"name\");\n    root.add(\"countryCodeV2\", {\n      alias: \"countryCode\"\n    });\n    root.add(\"provinceCode\");\n  });\n  spreads.CheckoutFragment = document.defineFragment(\"CheckoutFragment\", \"Checkout\", function (root) {\n    root.add(\"id\");\n    root.add(\"ready\");\n    root.add(\"requiresShipping\");\n    root.add(\"note\");\n    root.add(\"paymentDue\", function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"paymentDue\", {\n      alias: \"paymentDueV2\"\n    }, function (paymentDue) {\n      paymentDue.add(\"amount\");\n      paymentDue.add(\"currencyCode\");\n    });\n    root.add(\"webUrl\");\n    root.add(\"orderStatusUrl\");\n    root.add(\"taxExempt\");\n    root.add(\"taxesIncluded\");\n    root.add(\"currencyCode\");\n    root.add(\"totalTax\", function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"totalTax\", {\n      alias: \"totalTaxV2\"\n    }, function (totalTax) {\n      totalTax.add(\"amount\");\n      totalTax.add(\"currencyCode\");\n    });\n    root.add(\"lineItemsSubtotalPrice\", function (lineItemsSubtotalPrice) {\n      lineItemsSubtotalPrice.add(\"amount\");\n      lineItemsSubtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"subtotalPrice\", {\n      alias: \"subtotalPriceV2\"\n    }, function (subtotalPrice) {\n      subtotalPrice.add(\"amount\");\n      subtotalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"totalPrice\", {\n      alias: \"totalPriceV2\"\n    }, function (totalPrice) {\n      totalPrice.add(\"amount\");\n      totalPrice.add(\"currencyCode\");\n    });\n    root.add(\"completedAt\");\n    root.add(\"createdAt\");\n    root.add(\"updatedAt\");\n    root.add(\"email\");\n    root.add(\"discountApplications\", {\n      args: {\n        first: 10\n      }\n    }, function (discountApplications) {\n      discountApplications.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      discountApplications.add(\"edges\", function (edges) {\n        edges.add(\"node\", function (node) {\n          node.addFragment(spreads.DiscountApplicationFragment);\n        });\n      });\n    });\n    root.add(\"appliedGiftCards\", function (appliedGiftCards) {\n      appliedGiftCards.addFragment(spreads.AppliedGiftCardFragment);\n    });\n    root.add(\"shippingAddress\", function (shippingAddress) {\n      shippingAddress.addFragment(spreads.MailingAddressFragment);\n    });\n    root.add(\"shippingLine\", function (shippingLine) {\n      shippingLine.add(\"handle\");\n      shippingLine.add(\"price\", function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"price\", {\n        alias: \"priceV2\"\n      }, function (price) {\n        price.add(\"amount\");\n        price.add(\"currencyCode\");\n      });\n      shippingLine.add(\"title\");\n    });\n    root.add(\"customAttributes\", function (customAttributes) {\n      customAttributes.add(\"key\");\n      customAttributes.add(\"value\");\n    });\n    root.add(\"order\", function (order) {\n      order.add(\"id\");\n      order.add(\"processedAt\");\n      order.add(\"orderNumber\");\n      order.add(\"subtotalPrice\", function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"subtotalPrice\", {\n        alias: \"subtotalPriceV2\"\n      }, function (subtotalPrice) {\n        subtotalPrice.add(\"amount\");\n        subtotalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalShippingPrice\", {\n        alias: \"totalShippingPriceV2\"\n      }, function (totalShippingPrice) {\n        totalShippingPrice.add(\"amount\");\n        totalShippingPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalTax\", {\n        alias: \"totalTaxV2\"\n      }, function (totalTax) {\n        totalTax.add(\"amount\");\n        totalTax.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"totalPrice\", {\n        alias: \"totalPriceV2\"\n      }, function (totalPrice) {\n        totalPrice.add(\"amount\");\n        totalPrice.add(\"currencyCode\");\n      });\n      order.add(\"currencyCode\");\n      order.add(\"totalRefunded\", function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"totalRefunded\", {\n        alias: \"totalRefundedV2\"\n      }, function (totalRefunded) {\n        totalRefunded.add(\"amount\");\n        totalRefunded.add(\"currencyCode\");\n      });\n      order.add(\"customerUrl\");\n      order.add(\"shippingAddress\", function (shippingAddress) {\n        shippingAddress.addFragment(spreads.MailingAddressFragment);\n      });\n      order.add(\"lineItems\", {\n        args: {\n          first: 250\n        }\n      }, function (lineItems) {\n        lineItems.add(\"pageInfo\", function (pageInfo) {\n          pageInfo.add(\"hasNextPage\");\n          pageInfo.add(\"hasPreviousPage\");\n        });\n        lineItems.add(\"edges\", function (edges) {\n          edges.add(\"cursor\");\n          edges.add(\"node\", function (node) {\n            node.add(\"title\");\n            node.add(\"variant\", function (variant) {\n              variant.addFragment(spreads.VariantWithProductFragment);\n            });\n            node.add(\"quantity\");\n            node.add(\"customAttributes\", function (customAttributes) {\n              customAttributes.add(\"key\");\n              customAttributes.add(\"value\");\n            });\n          });\n        });\n      });\n    });\n    root.add(\"lineItems\", {\n      args: {\n        first: 250\n      }\n    }, function (lineItems) {\n      lineItems.add(\"pageInfo\", function (pageInfo) {\n        pageInfo.add(\"hasNextPage\");\n        pageInfo.add(\"hasPreviousPage\");\n      });\n      lineItems.add(\"edges\", function (edges) {\n        edges.add(\"cursor\");\n        edges.add(\"node\", function (node) {\n          node.add(\"id\");\n          node.add(\"title\");\n          node.add(\"variant\", function (variant) {\n            variant.addFragment(spreads.VariantWithProductFragment);\n          });\n          node.add(\"quantity\");\n          node.add(\"customAttributes\", function (customAttributes) {\n            customAttributes.add(\"key\");\n            customAttributes.add(\"value\");\n          });\n          node.add(\"discountAllocations\", function (discountAllocations) {\n            discountAllocations.add(\"allocatedAmount\", function (allocatedAmount) {\n              allocatedAmount.add(\"amount\");\n              allocatedAmount.add(\"currencyCode\");\n            });\n            discountAllocations.add(\"discountApplication\", function (discountApplication) {\n              discountApplication.addFragment(spreads.DiscountApplicationFragment);\n            });\n          });\n        });\n      });\n    });\n  });\n  document.addMutation(\"checkoutShippingAddressUpdateV2\", [variables.checkoutShippingAddressUpdateV2.shippingAddress, variables.checkoutShippingAddressUpdateV2.checkoutId], function (root) {\n    root.add(\"checkoutShippingAddressUpdateV2\", {\n      args: {\n        shippingAddress: variables.checkoutShippingAddressUpdateV2.shippingAddress,\n        checkoutId: variables.checkoutShippingAddressUpdateV2.checkoutId\n      }\n    }, function (checkoutShippingAddressUpdateV2) {\n      checkoutShippingAddressUpdateV2.add(\"userErrors\", function (userErrors) {\n        userErrors.addFragment(spreads.UserErrorFragment);\n      });\n      checkoutShippingAddressUpdateV2.add(\"checkoutUserErrors\", function (checkoutUserErrors) {\n        checkoutUserErrors.addFragment(spreads.CheckoutUserErrorFragment);\n      });\n      checkoutShippingAddressUpdateV2.add(\"checkout\", function (checkout) {\n        checkout.addFragment(spreads.CheckoutFragment);\n      });\n    });\n  });\n  return document;\n}\n\n// GraphQL\n/**\n * The JS Buy SDK checkout resource\n * @class\n */\n\nvar CheckoutResource = function (_Resource) {\n  inherits$1(CheckoutResource, _Resource);\n\n  function CheckoutResource() {\n    classCallCheck$1(this, CheckoutResource);\n    return possibleConstructorReturn$1(this, (CheckoutResource.__proto__ || Object.getPrototypeOf(CheckoutResource)).apply(this, arguments));\n  }\n\n  createClass$1(CheckoutResource, [{\n    key: 'fetch',\n\n\n    /**\n     * Fetches a checkout by ID.\n     *\n     * @example\n     * client.checkout.fetch('FlZj9rZXlN5MDY4ZDFiZTUyZTUwNTE2MDNhZjg=').then((checkout) => {\n     *   // Do something with the checkout\n     * });\n     *\n     * @param {String} id The id of the checkout to fetch.\n     * @return {Promise|GraphModel} A promise resolving with a `GraphModel` of the checkout.\n     */\n    value: function fetch(id) {\n      var _this2 = this;\n\n      return this.graphQLClient.send(query$12, { id: id }).then(defaultResolver('node')).then(function (checkout) {\n        if (!checkout) {\n          return null;\n        }\n\n        return _this2.graphQLClient.fetchAllPages(checkout.lineItems, { pageSize: 250 }).then(function (lineItems) {\n          checkout.attrs.lineItems = lineItems;\n\n          return checkout;\n        });\n      });\n    }\n\n    /**\n     * Creates a checkout.\n     *\n     * @example\n     * const input = {\n     *   lineItems: [\n     *     {variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}\n     *   ]\n     * };\n     *\n     * client.checkout.create(input).then((checkout) => {\n     *   // Do something with the newly created checkout\n     * });\n     *\n     * @param {Object} [input] An input object containing zero or more of:\n     *   @param {String} [input.email] An email connected to the checkout.\n     *   @param {Object[]} [input.lineItems] A list of line items in the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     *   @param {Object} [input.shippingAddress] A shipping address. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/mailingaddressinput|Storefront API reference} for valid input fields.\n     *   @param {String} [input.note] A note for the checkout.\n     *   @param {Object[]} [input.customAttributes] A list of custom attributes for the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/attributeinput|Storefront API reference} for valid input fields.\n     *   @param {String} [input.presentmentCurrencyCode ] A presentment currency code. See the {@link https://help.shopify.com/en/api/storefront-api/reference/enum/currencycode|Storefront API reference} for valid currency code values.\n     * @return {Promise|GraphModel} A promise resolving with the created checkout.\n     */\n\n  }, {\n    key: 'create',\n    value: function create() {\n      var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.graphQLClient.send(query$13, { input: input }).then(handleCheckoutMutation('checkoutCreate', this.graphQLClient));\n    }\n\n    /**\n     * Replaces the value of checkout's custom attributes and/or note with values defined in the input\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const input = {customAttributes: [{key: \"MyKey\", value: \"MyValue\"}]};\n     *\n     * client.checkout.updateAttributes(checkoutId, input).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to update.\n     * @param {Object} [input] An input object containing zero or more of:\n     *   @param {Boolean} [input.allowPartialAddresses] An email connected to the checkout.\n     *   @param {Object[]} [input.customAttributes] A list of custom attributes for the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/attributeinput|Storefront API reference} for valid input fields.\n     *   @param {String} [input.note] A note for the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateAttributes',\n    value: function updateAttributes(checkoutId) {\n      var input = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return this.graphQLClient.send(query$18, { checkoutId: checkoutId, input: input }).then(handleCheckoutMutation('checkoutAttributesUpdateV2', this.graphQLClient));\n    }\n\n    /**\n     * Replaces the value of checkout's email address\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const email = 'user@example.com';\n     *\n     * client.checkout.updateEmail(checkoutId, email).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to update.\n     * @param {String} email The email address to apply to the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateEmail',\n    value: function updateEmail(checkoutId, email) {\n      return this.graphQLClient.send(query$23, { checkoutId: checkoutId, email: email }).then(handleCheckoutMutation('checkoutEmailUpdateV2', this.graphQLClient));\n    }\n\n    /**\n     * Adds line items to an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [{variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}];\n     *\n     * client.checkout.addLineItems(checkoutId, lineItems).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add line items to.\n     * @param {Object[]} lineItems A list of line items to add to the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'addLineItems',\n    value: function addLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$14, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsAdd', this.graphQLClient));\n    }\n\n    /**\n     * Applies a discount to an existing checkout using a discount code.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const discountCode = 'best-discount-ever';\n     *\n     * client.checkout.addDiscount(checkoutId, discountCode).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add discount to.\n     * @param {String} discountCode The discount code to apply to the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'addDiscount',\n    value: function addDiscount(checkoutId, discountCode) {\n      return this.graphQLClient.send(query$19, { checkoutId: checkoutId, discountCode: discountCode }).then(handleCheckoutMutation('checkoutDiscountCodeApplyV2', this.graphQLClient));\n    }\n\n    /**\n     * Removes the applied discount from an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     *\n     * client.checkout.removeDiscount(checkoutId).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to remove the discount from.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'removeDiscount',\n    value: function removeDiscount(checkoutId) {\n      return this.graphQLClient.send(query$20, { checkoutId: checkoutId }).then(handleCheckoutMutation('checkoutDiscountCodeRemove', this.graphQLClient));\n    }\n\n    /**\n     * Applies gift cards to an existing checkout using a list of gift card codes\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const giftCardCodes = ['6FD8853DAGAA949F'];\n     *\n     * client.checkout.addGiftCards(checkoutId, giftCardCodes).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add gift cards to.\n     * @param {String[]} giftCardCodes The gift card codes to apply to the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'addGiftCards',\n    value: function addGiftCards(checkoutId, giftCardCodes) {\n      return this.graphQLClient.send(query$21, { checkoutId: checkoutId, giftCardCodes: giftCardCodes }).then(handleCheckoutMutation('checkoutGiftCardsAppend', this.graphQLClient));\n    }\n\n    /**\n     * Remove a gift card from an existing checkout\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const appliedGiftCardId = 'Z2lkOi8vc2hvcGlmeS9BcHBsaWVkR2lmdENhcmQvNDI4NTQ1ODAzMTI=';\n     *\n     * client.checkout.removeGiftCard(checkoutId, appliedGiftCardId).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add gift cards to.\n     * @param {String} appliedGiftCardId The gift card id to remove from the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'removeGiftCard',\n    value: function removeGiftCard(checkoutId, appliedGiftCardId) {\n      return this.graphQLClient.send(query$22, { checkoutId: checkoutId, appliedGiftCardId: appliedGiftCardId }).then(handleCheckoutMutation('checkoutGiftCardRemoveV2', this.graphQLClient));\n    }\n\n    /**\n     * Removes line items from an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItemIds = ['TViZGE5Y2U1ZDFhY2FiMmM2YT9rZXk9NTc2YjBhODcwNWIxYzg0YjE5ZjRmZGQ5NjczNGVkZGU='];\n     *\n     * client.checkout.removeLineItems(checkoutId, lineItemIds).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to remove line items from.\n     * @param {String[]} lineItemIds A list of the ids of line items to remove from the checkout.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'removeLineItems',\n    value: function removeLineItems(checkoutId, lineItemIds) {\n      return this.graphQLClient.send(query$15, { checkoutId: checkoutId, lineItemIds: lineItemIds }).then(handleCheckoutMutation('checkoutLineItemsRemove', this.graphQLClient));\n    }\n\n    /**\n     * Replace line items on an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [{variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg==', quantity: 5}];\n     *\n     * client.checkout.replaceLineItems(checkoutId, lineItems).then((checkout) => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to add line items to.\n     * @param {Object[]} lineItems A list of line items to set on the checkout. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/checkoutlineiteminput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'replaceLineItems',\n    value: function replaceLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$16, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsReplace', this.graphQLClient));\n    }\n\n    /**\n     * Updates line items on an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const lineItems = [\n     *   {\n     *     id: 'TViZGE5Y2U1ZDFhY2FiMmM2YT9rZXk9NTc2YjBhODcwNWIxYzg0YjE5ZjRmZGQ5NjczNGVkZGU=',\n     *     quantity: 5,\n     *     variantId: 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8yOTEwNjAyMjc5Mg=='\n     *   }\n     * ];\n     *\n     * client.checkout.updateLineItems(checkoutId, lineItems).then(checkout => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param {String} checkoutId The ID of the checkout to update a line item on.\n     * @param {Object[]} lineItems A list of line item information to update. See the {@link https://help.shopify.com/api/storefront-api/reference/input-object/checkoutlineitemupdateinput|Storefront API reference} for valid input fields for each line item.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateLineItems',\n    value: function updateLineItems(checkoutId, lineItems) {\n      return this.graphQLClient.send(query$17, { checkoutId: checkoutId, lineItems: lineItems }).then(handleCheckoutMutation('checkoutLineItemsUpdate', this.graphQLClient));\n    }\n\n    /**\n     * Updates shipping address on an existing checkout.\n     *\n     * @example\n     * const checkoutId = 'Z2lkOi8vc2hvcGlmeS9DaGVja291dC9kMTZmM2EzMDM4Yjc4N=';\n     * const shippingAddress = {\n     *    address1: 'Chestnut Street 92',\n     *    address2: 'Apartment 2',\n     *    city: 'Louisville',\n     *    company: null,\n     *    country: 'United States',\n     *    firstName: 'Bob',\n     *    lastName: 'Norman',\n     *    phone: '555-625-1199',\n     *    province: 'Kentucky',\n     *    zip: '40202'\n     *  };\n     *\n     * client.checkout.updateShippingAddress(checkoutId, shippingAddress).then(checkout => {\n     *   // Do something with the updated checkout\n     * });\n     *\n     * @param  {String} checkoutId The ID of the checkout to update shipping address.\n     * @param  {Object} shippingAddress A shipping address.\n     * @return {Promise|GraphModel} A promise resolving with the updated checkout.\n     */\n\n  }, {\n    key: 'updateShippingAddress',\n    value: function updateShippingAddress(checkoutId, shippingAddress) {\n      return this.graphQLClient.send(query$24, { checkoutId: checkoutId, shippingAddress: shippingAddress }).then(handleCheckoutMutation('checkoutShippingAddressUpdateV2', this.graphQLClient));\n    }\n  }]);\n  return CheckoutResource;\n}(Resource);\n\n/**\n * @namespace ImageHelpers\n */\nvar imageHelpers = {\n\n  /**\n   * Generates the image src for a resized image with maximum dimensions `maxWidth` and `maxHeight`.\n   * Images do not scale up.\n   *\n   * @example\n   * const url = client.image.helpers.imageForSize(product.variants[0].image, {maxWidth: 50, maxHeight: 50});\n   *\n   * @memberof ImageHelpers\n   * @method imageForSize\n   * @param {Object} image The original image model to generate the image src for.\n   * @param {Object} options An options object containing:\n   *  @param {Integer} options.maxWidth The maximum width for the image.\n   *  @param {Integer} options.maxHeight The maximum height for the image.\n   * @return {String} The image src for the resized image.\n   */\n  imageForSize: function imageForSize(image, _ref) {\n    var maxWidth = _ref.maxWidth,\n        maxHeight = _ref.maxHeight;\n\n    var splitUrl = image.src.split('?');\n    var notQuery = splitUrl[0];\n    var query = splitUrl[1] ? '?' + splitUrl[1] : '';\n\n    // Use the section before the query\n    var imageTokens = notQuery.split('.');\n\n    // Take the token before the file extension and append the dimensions\n    var imagePathIndex = imageTokens.length - 2;\n\n    imageTokens[imagePathIndex] = imageTokens[imagePathIndex] + '_' + maxWidth + 'x' + maxHeight;\n\n    return '' + imageTokens.join('.') + query;\n  }\n};\n\n/**\n * The JS Buy SDK image resource\n * @class\n */\n\nvar ImageResource = function (_Resource) {\n  inherits$1(ImageResource, _Resource);\n\n  function ImageResource() {\n    classCallCheck$1(this, ImageResource);\n    return possibleConstructorReturn$1(this, (ImageResource.__proto__ || Object.getPrototypeOf(ImageResource)).apply(this, arguments));\n  }\n\n  createClass$1(ImageResource, [{\n    key: 'helpers',\n    get: function get$$1() {\n      return imageHelpers;\n    }\n  }]);\n  return ImageResource;\n}(Resource);\n\nvar version = \"2.22.0\";\n\nvar AppliedGiftCard = {\n  \"name\": \"AppliedGiftCard\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"amountUsed\": \"MoneyV2\",\n    \"balance\": \"MoneyV2\",\n    \"id\": \"ID\",\n    \"lastCharacters\": \"String\",\n    \"presentmentAmountUsed\": \"MoneyV2\"\n  },\n  \"implementsNode\": true\n};\n\nvar Attribute = {\n  \"name\": \"Attribute\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"key\": \"String\",\n    \"value\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar AutomaticDiscountApplication = {\n  \"name\": \"AutomaticDiscountApplication\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"title\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Boolean$1 = {\n  \"name\": \"Boolean\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Checkout = {\n  \"name\": \"Checkout\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"appliedGiftCards\": \"AppliedGiftCard\",\n    \"completedAt\": \"DateTime\",\n    \"createdAt\": \"DateTime\",\n    \"currencyCode\": \"CurrencyCode\",\n    \"customAttributes\": \"Attribute\",\n    \"discountApplications\": \"DiscountApplicationConnection\",\n    \"email\": \"String\",\n    \"id\": \"ID\",\n    \"lineItems\": \"CheckoutLineItemConnection\",\n    \"lineItemsSubtotalPrice\": \"MoneyV2\",\n    \"note\": \"String\",\n    \"order\": \"Order\",\n    \"orderStatusUrl\": \"URL\",\n    \"paymentDue\": \"MoneyV2\",\n    \"ready\": \"Boolean\",\n    \"requiresShipping\": \"Boolean\",\n    \"shippingAddress\": \"MailingAddress\",\n    \"shippingLine\": \"ShippingRate\",\n    \"subtotalPrice\": \"MoneyV2\",\n    \"taxExempt\": \"Boolean\",\n    \"taxesIncluded\": \"Boolean\",\n    \"totalPrice\": \"MoneyV2\",\n    \"totalTax\": \"MoneyV2\",\n    \"updatedAt\": \"DateTime\",\n    \"webUrl\": \"URL\"\n  },\n  \"implementsNode\": true\n};\n\nvar CheckoutAttributesUpdateV2Payload = {\n  \"name\": \"CheckoutAttributesUpdateV2Payload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutCreatePayload = {\n  \"name\": \"CheckoutCreatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutDiscountCodeApplyV2Payload = {\n  \"name\": \"CheckoutDiscountCodeApplyV2Payload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutDiscountCodeRemovePayload = {\n  \"name\": \"CheckoutDiscountCodeRemovePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutEmailUpdateV2Payload = {\n  \"name\": \"CheckoutEmailUpdateV2Payload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutErrorCode = {\n  \"name\": \"CheckoutErrorCode\",\n  \"kind\": \"ENUM\"\n};\n\nvar CheckoutGiftCardRemoveV2Payload = {\n  \"name\": \"CheckoutGiftCardRemoveV2Payload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutGiftCardsAppendPayload = {\n  \"name\": \"CheckoutGiftCardsAppendPayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItem = {\n  \"name\": \"CheckoutLineItem\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"customAttributes\": \"Attribute\",\n    \"discountAllocations\": \"DiscountAllocation\",\n    \"id\": \"ID\",\n    \"quantity\": \"Int\",\n    \"title\": \"String\",\n    \"variant\": \"ProductVariant\"\n  },\n  \"implementsNode\": true\n};\n\nvar CheckoutLineItemConnection = {\n  \"name\": \"CheckoutLineItemConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"CheckoutLineItemEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemEdge = {\n  \"name\": \"CheckoutLineItemEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"CheckoutLineItem\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsAddPayload = {\n  \"name\": \"CheckoutLineItemsAddPayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsRemovePayload = {\n  \"name\": \"CheckoutLineItemsRemovePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsReplacePayload = {\n  \"name\": \"CheckoutLineItemsReplacePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"userErrors\": \"CheckoutUserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutLineItemsUpdatePayload = {\n  \"name\": \"CheckoutLineItemsUpdatePayload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutShippingAddressUpdateV2Payload = {\n  \"name\": \"CheckoutShippingAddressUpdateV2Payload\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkout\": \"Checkout\",\n    \"checkoutUserErrors\": \"CheckoutUserError\",\n    \"userErrors\": \"UserError\"\n  },\n  \"implementsNode\": false\n};\n\nvar CheckoutUserError = {\n  \"name\": \"CheckoutUserError\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"code\": \"CheckoutErrorCode\",\n    \"field\": \"String\",\n    \"message\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Collection = {\n  \"name\": \"Collection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"description\": \"String\",\n    \"descriptionHtml\": \"HTML\",\n    \"handle\": \"String\",\n    \"id\": \"ID\",\n    \"image\": \"Image\",\n    \"products\": \"ProductConnection\",\n    \"title\": \"String\",\n    \"updatedAt\": \"DateTime\"\n  },\n  \"implementsNode\": true\n};\n\nvar CollectionConnection = {\n  \"name\": \"CollectionConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"CollectionEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar CollectionEdge = {\n  \"name\": \"CollectionEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Collection\"\n  },\n  \"implementsNode\": false\n};\n\nvar CountryCode = {\n  \"name\": \"CountryCode\",\n  \"kind\": \"ENUM\"\n};\n\nvar CurrencyCode = {\n  \"name\": \"CurrencyCode\",\n  \"kind\": \"ENUM\"\n};\n\nvar DateTime = {\n  \"name\": \"DateTime\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Decimal = {\n  \"name\": \"Decimal\",\n  \"kind\": \"SCALAR\"\n};\n\nvar DiscountAllocation = {\n  \"name\": \"DiscountAllocation\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"allocatedAmount\": \"MoneyV2\",\n    \"discountApplication\": \"DiscountApplication\"\n  },\n  \"implementsNode\": false\n};\n\nvar DiscountApplication = {\n  \"name\": \"DiscountApplication\",\n  \"kind\": \"INTERFACE\",\n  \"fieldBaseTypes\": {\n    \"allocationMethod\": \"DiscountApplicationAllocationMethod\",\n    \"targetSelection\": \"DiscountApplicationTargetSelection\",\n    \"targetType\": \"DiscountApplicationTargetType\",\n    \"value\": \"PricingValue\"\n  },\n  \"possibleTypes\": [\"AutomaticDiscountApplication\", \"DiscountCodeApplication\", \"ManualDiscountApplication\", \"ScriptDiscountApplication\"]\n};\n\nvar DiscountApplicationAllocationMethod = {\n  \"name\": \"DiscountApplicationAllocationMethod\",\n  \"kind\": \"ENUM\"\n};\n\nvar DiscountApplicationConnection = {\n  \"name\": \"DiscountApplicationConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"DiscountApplicationEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar DiscountApplicationEdge = {\n  \"name\": \"DiscountApplicationEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"node\": \"DiscountApplication\"\n  },\n  \"implementsNode\": false\n};\n\nvar DiscountApplicationTargetSelection = {\n  \"name\": \"DiscountApplicationTargetSelection\",\n  \"kind\": \"ENUM\"\n};\n\nvar DiscountApplicationTargetType = {\n  \"name\": \"DiscountApplicationTargetType\",\n  \"kind\": \"ENUM\"\n};\n\nvar DiscountCodeApplication = {\n  \"name\": \"DiscountCodeApplication\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"applicable\": \"Boolean\",\n    \"code\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Domain = {\n  \"name\": \"Domain\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"host\": \"String\",\n    \"sslEnabled\": \"Boolean\",\n    \"url\": \"URL\"\n  },\n  \"implementsNode\": false\n};\n\nvar Float = {\n  \"name\": \"Float\",\n  \"kind\": \"SCALAR\"\n};\n\nvar HTML = {\n  \"name\": \"HTML\",\n  \"kind\": \"SCALAR\"\n};\n\nvar ID = {\n  \"name\": \"ID\",\n  \"kind\": \"SCALAR\"\n};\n\nvar Image = {\n  \"name\": \"Image\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"altText\": \"String\",\n    \"height\": \"Int\",\n    \"id\": \"ID\",\n    \"url\": \"URL\",\n    \"width\": \"Int\"\n  },\n  \"implementsNode\": false\n};\n\nvar ImageConnection = {\n  \"name\": \"ImageConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ImageEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ImageEdge = {\n  \"name\": \"ImageEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Image\"\n  },\n  \"implementsNode\": false\n};\n\nvar Int = {\n  \"name\": \"Int\",\n  \"kind\": \"SCALAR\"\n};\n\nvar MailingAddress = {\n  \"name\": \"MailingAddress\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"address1\": \"String\",\n    \"address2\": \"String\",\n    \"city\": \"String\",\n    \"company\": \"String\",\n    \"country\": \"String\",\n    \"countryCodeV2\": \"CountryCode\",\n    \"firstName\": \"String\",\n    \"formatted\": \"String\",\n    \"id\": \"ID\",\n    \"lastName\": \"String\",\n    \"latitude\": \"Float\",\n    \"longitude\": \"Float\",\n    \"name\": \"String\",\n    \"phone\": \"String\",\n    \"province\": \"String\",\n    \"provinceCode\": \"String\",\n    \"zip\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar ManualDiscountApplication = {\n  \"name\": \"ManualDiscountApplication\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"description\": \"String\",\n    \"title\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar MoneyV2 = {\n  \"name\": \"MoneyV2\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"amount\": \"Decimal\",\n    \"currencyCode\": \"CurrencyCode\"\n  },\n  \"implementsNode\": false\n};\n\nvar Mutation$1 = {\n  \"name\": \"Mutation\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"checkoutAttributesUpdateV2\": \"CheckoutAttributesUpdateV2Payload\",\n    \"checkoutCreate\": \"CheckoutCreatePayload\",\n    \"checkoutDiscountCodeApplyV2\": \"CheckoutDiscountCodeApplyV2Payload\",\n    \"checkoutDiscountCodeRemove\": \"CheckoutDiscountCodeRemovePayload\",\n    \"checkoutEmailUpdateV2\": \"CheckoutEmailUpdateV2Payload\",\n    \"checkoutGiftCardRemoveV2\": \"CheckoutGiftCardRemoveV2Payload\",\n    \"checkoutGiftCardsAppend\": \"CheckoutGiftCardsAppendPayload\",\n    \"checkoutLineItemsAdd\": \"CheckoutLineItemsAddPayload\",\n    \"checkoutLineItemsRemove\": \"CheckoutLineItemsRemovePayload\",\n    \"checkoutLineItemsReplace\": \"CheckoutLineItemsReplacePayload\",\n    \"checkoutLineItemsUpdate\": \"CheckoutLineItemsUpdatePayload\",\n    \"checkoutShippingAddressUpdateV2\": \"CheckoutShippingAddressUpdateV2Payload\"\n  },\n  \"implementsNode\": false,\n  \"relayInputObjectBaseTypes\": {\n    \"cartCreate\": \"CartInput\",\n    \"cartMetafieldDelete\": \"CartMetafieldDeleteInput\",\n    \"checkoutAttributesUpdateV2\": \"CheckoutAttributesUpdateV2Input\",\n    \"checkoutCreate\": \"CheckoutCreateInput\",\n    \"customerAccessTokenCreate\": \"CustomerAccessTokenCreateInput\",\n    \"customerActivate\": \"CustomerActivateInput\",\n    \"customerCreate\": \"CustomerCreateInput\",\n    \"customerReset\": \"CustomerResetInput\"\n  }\n};\n\nvar Node = {\n  \"name\": \"Node\",\n  \"kind\": \"INTERFACE\",\n  \"fieldBaseTypes\": {},\n  \"possibleTypes\": [\"AppliedGiftCard\", \"Article\", \"Blog\", \"Cart\", \"CartLine\", \"Checkout\", \"CheckoutLineItem\", \"Collection\", \"Comment\", \"Company\", \"CompanyContact\", \"CompanyLocation\", \"ComponentizableCartLine\", \"ExternalVideo\", \"GenericFile\", \"Location\", \"MailingAddress\", \"Market\", \"MediaImage\", \"MediaPresentation\", \"Menu\", \"MenuItem\", \"Metafield\", \"Metaobject\", \"Model3d\", \"Order\", \"Page\", \"Payment\", \"Product\", \"ProductOption\", \"ProductVariant\", \"Shop\", \"ShopPolicy\", \"UrlRedirect\", \"Video\"]\n};\n\nvar Order = {\n  \"name\": \"Order\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"currencyCode\": \"CurrencyCode\",\n    \"customerUrl\": \"URL\",\n    \"id\": \"ID\",\n    \"lineItems\": \"OrderLineItemConnection\",\n    \"orderNumber\": \"Int\",\n    \"processedAt\": \"DateTime\",\n    \"shippingAddress\": \"MailingAddress\",\n    \"subtotalPrice\": \"MoneyV2\",\n    \"totalPrice\": \"MoneyV2\",\n    \"totalRefunded\": \"MoneyV2\",\n    \"totalShippingPrice\": \"MoneyV2\",\n    \"totalTax\": \"MoneyV2\"\n  },\n  \"implementsNode\": true\n};\n\nvar OrderLineItem = {\n  \"name\": \"OrderLineItem\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"customAttributes\": \"Attribute\",\n    \"quantity\": \"Int\",\n    \"title\": \"String\",\n    \"variant\": \"ProductVariant\"\n  },\n  \"implementsNode\": false\n};\n\nvar OrderLineItemConnection = {\n  \"name\": \"OrderLineItemConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"OrderLineItemEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar OrderLineItemEdge = {\n  \"name\": \"OrderLineItemEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"OrderLineItem\"\n  },\n  \"implementsNode\": false\n};\n\nvar PageInfo = {\n  \"name\": \"PageInfo\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"hasNextPage\": \"Boolean\",\n    \"hasPreviousPage\": \"Boolean\"\n  },\n  \"implementsNode\": false\n};\n\nvar PaymentSettings = {\n  \"name\": \"PaymentSettings\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"enabledPresentmentCurrencies\": \"CurrencyCode\"\n  },\n  \"implementsNode\": false\n};\n\nvar PricingPercentageValue = {\n  \"name\": \"PricingPercentageValue\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"percentage\": \"Float\"\n  },\n  \"implementsNode\": false\n};\n\nvar PricingValue = {\n  \"name\": \"PricingValue\",\n  \"kind\": \"UNION\"\n};\n\nvar Product = {\n  \"name\": \"Product\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"availableForSale\": \"Boolean\",\n    \"createdAt\": \"DateTime\",\n    \"description\": \"String\",\n    \"descriptionHtml\": \"HTML\",\n    \"handle\": \"String\",\n    \"id\": \"ID\",\n    \"images\": \"ImageConnection\",\n    \"onlineStoreUrl\": \"URL\",\n    \"options\": \"ProductOption\",\n    \"productType\": \"String\",\n    \"publishedAt\": \"DateTime\",\n    \"title\": \"String\",\n    \"updatedAt\": \"DateTime\",\n    \"variants\": \"ProductVariantConnection\",\n    \"vendor\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar ProductConnection = {\n  \"name\": \"ProductConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ProductEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductEdge = {\n  \"name\": \"ProductEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"Product\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductOption = {\n  \"name\": \"ProductOption\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"name\": \"String\",\n    \"values\": \"String\"\n  },\n  \"implementsNode\": true\n};\n\nvar ProductVariant = {\n  \"name\": \"ProductVariant\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"availableForSale\": \"Boolean\",\n    \"compareAtPrice\": \"MoneyV2\",\n    \"id\": \"ID\",\n    \"image\": \"Image\",\n    \"price\": \"MoneyV2\",\n    \"product\": \"Product\",\n    \"selectedOptions\": \"SelectedOption\",\n    \"sku\": \"String\",\n    \"title\": \"String\",\n    \"unitPrice\": \"MoneyV2\",\n    \"unitPriceMeasurement\": \"UnitPriceMeasurement\",\n    \"weight\": \"Float\"\n  },\n  \"implementsNode\": true\n};\n\nvar ProductVariantConnection = {\n  \"name\": \"ProductVariantConnection\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"edges\": \"ProductVariantEdge\",\n    \"pageInfo\": \"PageInfo\"\n  },\n  \"implementsNode\": false\n};\n\nvar ProductVariantEdge = {\n  \"name\": \"ProductVariantEdge\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"cursor\": \"String\",\n    \"node\": \"ProductVariant\"\n  },\n  \"implementsNode\": false\n};\n\nvar QueryRoot = {\n  \"name\": \"QueryRoot\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"collectionByHandle\": \"Collection\",\n    \"collections\": \"CollectionConnection\",\n    \"node\": \"Node\",\n    \"nodes\": \"Node\",\n    \"productByHandle\": \"Product\",\n    \"productRecommendations\": \"Product\",\n    \"products\": \"ProductConnection\",\n    \"shop\": \"Shop\"\n  },\n  \"implementsNode\": false\n};\n\nvar ScriptDiscountApplication = {\n  \"name\": \"ScriptDiscountApplication\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"title\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar SelectedOption = {\n  \"name\": \"SelectedOption\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"name\": \"String\",\n    \"value\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar ShippingRate = {\n  \"name\": \"ShippingRate\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"handle\": \"String\",\n    \"price\": \"MoneyV2\",\n    \"title\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Shop = {\n  \"name\": \"Shop\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"description\": \"String\",\n    \"moneyFormat\": \"String\",\n    \"name\": \"String\",\n    \"paymentSettings\": \"PaymentSettings\",\n    \"primaryDomain\": \"Domain\",\n    \"privacyPolicy\": \"ShopPolicy\",\n    \"refundPolicy\": \"ShopPolicy\",\n    \"termsOfService\": \"ShopPolicy\"\n  },\n  \"implementsNode\": true\n};\n\nvar ShopPolicy = {\n  \"name\": \"ShopPolicy\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"body\": \"String\",\n    \"id\": \"ID\",\n    \"title\": \"String\",\n    \"url\": \"URL\"\n  },\n  \"implementsNode\": true\n};\n\nvar String$1 = {\n  \"name\": \"String\",\n  \"kind\": \"SCALAR\"\n};\n\nvar URL = {\n  \"name\": \"URL\",\n  \"kind\": \"SCALAR\"\n};\n\nvar UnitPriceMeasurement = {\n  \"name\": \"UnitPriceMeasurement\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"measuredType\": \"UnitPriceMeasurementMeasuredType\",\n    \"quantityUnit\": \"UnitPriceMeasurementMeasuredUnit\",\n    \"quantityValue\": \"Float\",\n    \"referenceUnit\": \"UnitPriceMeasurementMeasuredUnit\",\n    \"referenceValue\": \"Int\"\n  },\n  \"implementsNode\": false\n};\n\nvar UnitPriceMeasurementMeasuredType = {\n  \"name\": \"UnitPriceMeasurementMeasuredType\",\n  \"kind\": \"ENUM\"\n};\n\nvar UnitPriceMeasurementMeasuredUnit = {\n  \"name\": \"UnitPriceMeasurementMeasuredUnit\",\n  \"kind\": \"ENUM\"\n};\n\nvar UserError = {\n  \"name\": \"UserError\",\n  \"kind\": \"OBJECT\",\n  \"fieldBaseTypes\": {\n    \"field\": \"String\",\n    \"message\": \"String\"\n  },\n  \"implementsNode\": false\n};\n\nvar Types = {\n  types: {}\n};\nTypes.types[\"AppliedGiftCard\"] = AppliedGiftCard;\nTypes.types[\"Attribute\"] = Attribute;\nTypes.types[\"AutomaticDiscountApplication\"] = AutomaticDiscountApplication;\nTypes.types[\"Boolean\"] = Boolean$1;\nTypes.types[\"Checkout\"] = Checkout;\nTypes.types[\"CheckoutAttributesUpdateV2Payload\"] = CheckoutAttributesUpdateV2Payload;\nTypes.types[\"CheckoutCreatePayload\"] = CheckoutCreatePayload;\nTypes.types[\"CheckoutDiscountCodeApplyV2Payload\"] = CheckoutDiscountCodeApplyV2Payload;\nTypes.types[\"CheckoutDiscountCodeRemovePayload\"] = CheckoutDiscountCodeRemovePayload;\nTypes.types[\"CheckoutEmailUpdateV2Payload\"] = CheckoutEmailUpdateV2Payload;\nTypes.types[\"CheckoutErrorCode\"] = CheckoutErrorCode;\nTypes.types[\"CheckoutGiftCardRemoveV2Payload\"] = CheckoutGiftCardRemoveV2Payload;\nTypes.types[\"CheckoutGiftCardsAppendPayload\"] = CheckoutGiftCardsAppendPayload;\nTypes.types[\"CheckoutLineItem\"] = CheckoutLineItem;\nTypes.types[\"CheckoutLineItemConnection\"] = CheckoutLineItemConnection;\nTypes.types[\"CheckoutLineItemEdge\"] = CheckoutLineItemEdge;\nTypes.types[\"CheckoutLineItemsAddPayload\"] = CheckoutLineItemsAddPayload;\nTypes.types[\"CheckoutLineItemsRemovePayload\"] = CheckoutLineItemsRemovePayload;\nTypes.types[\"CheckoutLineItemsReplacePayload\"] = CheckoutLineItemsReplacePayload;\nTypes.types[\"CheckoutLineItemsUpdatePayload\"] = CheckoutLineItemsUpdatePayload;\nTypes.types[\"CheckoutShippingAddressUpdateV2Payload\"] = CheckoutShippingAddressUpdateV2Payload;\nTypes.types[\"CheckoutUserError\"] = CheckoutUserError;\nTypes.types[\"Collection\"] = Collection;\nTypes.types[\"CollectionConnection\"] = CollectionConnection;\nTypes.types[\"CollectionEdge\"] = CollectionEdge;\nTypes.types[\"CountryCode\"] = CountryCode;\nTypes.types[\"CurrencyCode\"] = CurrencyCode;\nTypes.types[\"DateTime\"] = DateTime;\nTypes.types[\"Decimal\"] = Decimal;\nTypes.types[\"DiscountAllocation\"] = DiscountAllocation;\nTypes.types[\"DiscountApplication\"] = DiscountApplication;\nTypes.types[\"DiscountApplicationAllocationMethod\"] = DiscountApplicationAllocationMethod;\nTypes.types[\"DiscountApplicationConnection\"] = DiscountApplicationConnection;\nTypes.types[\"DiscountApplicationEdge\"] = DiscountApplicationEdge;\nTypes.types[\"DiscountApplicationTargetSelection\"] = DiscountApplicationTargetSelection;\nTypes.types[\"DiscountApplicationTargetType\"] = DiscountApplicationTargetType;\nTypes.types[\"DiscountCodeApplication\"] = DiscountCodeApplication;\nTypes.types[\"Domain\"] = Domain;\nTypes.types[\"Float\"] = Float;\nTypes.types[\"HTML\"] = HTML;\nTypes.types[\"ID\"] = ID;\nTypes.types[\"Image\"] = Image;\nTypes.types[\"ImageConnection\"] = ImageConnection;\nTypes.types[\"ImageEdge\"] = ImageEdge;\nTypes.types[\"Int\"] = Int;\nTypes.types[\"MailingAddress\"] = MailingAddress;\nTypes.types[\"ManualDiscountApplication\"] = ManualDiscountApplication;\nTypes.types[\"MoneyV2\"] = MoneyV2;\nTypes.types[\"Mutation\"] = Mutation$1;\nTypes.types[\"Node\"] = Node;\nTypes.types[\"Order\"] = Order;\nTypes.types[\"OrderLineItem\"] = OrderLineItem;\nTypes.types[\"OrderLineItemConnection\"] = OrderLineItemConnection;\nTypes.types[\"OrderLineItemEdge\"] = OrderLineItemEdge;\nTypes.types[\"PageInfo\"] = PageInfo;\nTypes.types[\"PaymentSettings\"] = PaymentSettings;\nTypes.types[\"PricingPercentageValue\"] = PricingPercentageValue;\nTypes.types[\"PricingValue\"] = PricingValue;\nTypes.types[\"Product\"] = Product;\nTypes.types[\"ProductConnection\"] = ProductConnection;\nTypes.types[\"ProductEdge\"] = ProductEdge;\nTypes.types[\"ProductOption\"] = ProductOption;\nTypes.types[\"ProductVariant\"] = ProductVariant;\nTypes.types[\"ProductVariantConnection\"] = ProductVariantConnection;\nTypes.types[\"ProductVariantEdge\"] = ProductVariantEdge;\nTypes.types[\"QueryRoot\"] = QueryRoot;\nTypes.types[\"ScriptDiscountApplication\"] = ScriptDiscountApplication;\nTypes.types[\"SelectedOption\"] = SelectedOption;\nTypes.types[\"ShippingRate\"] = ShippingRate;\nTypes.types[\"Shop\"] = Shop;\nTypes.types[\"ShopPolicy\"] = ShopPolicy;\nTypes.types[\"String\"] = String$1;\nTypes.types[\"URL\"] = URL;\nTypes.types[\"UnitPriceMeasurement\"] = UnitPriceMeasurement;\nTypes.types[\"UnitPriceMeasurementMeasuredType\"] = UnitPriceMeasurementMeasuredType;\nTypes.types[\"UnitPriceMeasurementMeasuredUnit\"] = UnitPriceMeasurementMeasuredUnit;\nTypes.types[\"UserError\"] = UserError;\nTypes.queryType = \"QueryRoot\";\nTypes.mutationType = \"Mutation\";\nTypes.subscriptionType = null;\n\nfunction recursivelyFreezeObject(structure) {\n  Object.getOwnPropertyNames(structure).forEach(function (key) {\n    var value = structure[key];\n    if (value && (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n      recursivelyFreezeObject(value);\n    }\n  });\n  Object.freeze(structure);\n  return structure;\n}\n\nvar types = recursivelyFreezeObject(Types);\n\n// GraphQL\n/**\n * The JS Buy SDK Client.\n * @class\n *\n * @property {ProductResource} product The property under which product fetching methods live.\n * @property {CollectionResource} collection The property under which collection fetching methods live.\n * @property {ShopResource} shop The property under which shop fetching methods live.\n * @property {CheckoutResource} checkout The property under which shop fetching and mutating methods live.\n * @property {ImageResource} image The property under which image helper methods live.\n */\n\nvar Client = function () {\n  createClass$1(Client, null, [{\n    key: 'buildClient',\n\n\n    /**\n     * Primary entry point for building a new Client.\n     */\n    value: function buildClient(config, fetchFunction) {\n      var newConfig = new Config(config);\n      var client = new Client(newConfig, Client$2, fetchFunction);\n\n      client.config = newConfig;\n\n      return client;\n    }\n\n    /**\n     * @constructs Client\n     * @param {Config} config An instance of {@link Config} used to configure the Client.\n     */\n\n  }]);\n\n  function Client(config) {\n    var GraphQLClientClass = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Client$2;\n    var fetchFunction = arguments[2];\n    classCallCheck$1(this, Client);\n\n    var url = 'https://' + config.domain + '/api/' + config.apiVersion + '/graphql';\n\n    var headers = {\n      'X-SDK-Variant': 'javascript',\n      'X-SDK-Version': version,\n      'X-Shopify-Storefront-Access-Token': config.storefrontAccessToken\n    };\n\n    if (config.source) {\n      headers['X-SDK-Variant-Source'] = config.source;\n    }\n\n    var languageHeader = config.language ? config.language : '*';\n\n    headers['Accept-Language'] = languageHeader;\n\n    if (fetchFunction) {\n      headers['Content-Type'] = 'application/json';\n      headers.Accept = 'application/json';\n\n      this.graphQLClient = new GraphQLClientClass(types, {\n        fetcher: function fetcher(graphQLParams) {\n          return fetchFunction(url, {\n            body: JSON.stringify(graphQLParams),\n            method: 'POST',\n            mode: 'cors',\n            headers: headers\n          }).then(function (response) {\n            return response.json();\n          });\n        }\n      });\n    } else {\n      this.graphQLClient = new GraphQLClientClass(types, {\n        url: url,\n        fetcherOptions: { headers: headers }\n      });\n    }\n\n    this.product = new ProductResource(this.graphQLClient);\n    this.collection = new CollectionResource(this.graphQLClient);\n    this.shop = new ShopResource(this.graphQLClient);\n    this.checkout = new CheckoutResource(this.graphQLClient);\n    this.image = new ImageResource(this.graphQLClient);\n  }\n\n  /**\n   * Fetches the next page of models\n   *\n   * @example\n   * client.fetchNextPage(products).then((nextProducts) => {\n   *   // Do something with the products\n   * });\n   *\n   * @param {models} [Array] The paginated set to fetch the next page of\n   * @return {Promise|GraphModel[]} A promise resolving with an array of `GraphModel`s of the type provided.\n   */\n\n\n  createClass$1(Client, [{\n    key: 'fetchNextPage',\n    value: function fetchNextPage(models) {\n      return this.graphQLClient.fetchNextPage(models);\n    }\n  }]);\n  return Client;\n}();\n\nmodule.exports = Client;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2hvcGlmeS1idXkvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRWE7O0FBRWI7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOzs7Ozs7Ozs7Ozs7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7O0FBVUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7Ozs7Ozs7Ozs7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxvRUFBb0UsYUFBYTtBQUNqRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsS0FBSyxJQUFJO0FBQ1QsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsK0JBQStCO0FBQy9FOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSw4Q0FBOEMsZ0JBQWdCO0FBQzlEO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLCtCQUErQix1QkFBdUI7QUFDdEQ7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsR0FBRztBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLCtCQUErQixtQkFBbUI7QUFDbEQ7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0osaUNBQWlDLEtBQUs7QUFDdEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBLFdBQVc7QUFDWDs7QUFFQSxnQ0FBZ0M7QUFDaEMsc0NBQXNDOztBQUV0Qzs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLDhCQUE4QixHQUFHO0FBQzFFLFVBQVUsOENBQThDO0FBQ3hEO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwRkFBMEYsTUFBTTtBQUNoRztBQUNBLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQStDO0FBQzlFO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlGQUFpRixNQUFNO0FBQ3ZGO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQiwrQkFBK0I7QUFDOUQ7QUFDQSxhQUFhLG9CQUFvQjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLCtCQUErQixxQ0FBcUMsZUFBZTtBQUNsSDtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtHQUFrRyxNQUFNO0FBQ3hHO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEdBQUcsSUFBSTs7QUFFUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVEsOENBQThDLHFFQUFxRTtBQUN4SSxhQUFhLGlCQUFpQjtBQUM5QixhQUFhLFVBQVU7QUFDdkIsNkJBQTZCLDJCQUEyQjtBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLE1BQU0sUUFBUTtBQUNsRjtBQUNBLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLG1CQUFtQiwrQkFBK0I7QUFDbEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRLDhDQUE4QyxxRUFBcUU7QUFDeEksYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU8sYUFBYSxnQkFBZ0I7QUFDOUQ7QUFDQSxVQUFVO0FBQ1YsUUFBUTtBQUNSO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEMsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixRQUFRLDhDQUE4QyxhQUFhO0FBQ3BGLGlCQUFpQixRQUFRO0FBQ3pCLGVBQWUsdUJBQXVCLCtFQUErRSxtQkFBbUIsa0JBQWtCLG1CQUFtQjtBQUM3Szs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMkZBQTJGLGFBQWE7QUFDeEc7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxxR0FBcUcsZUFBZTtBQUNwSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHdCQUF3QiwrRUFBK0UsbUJBQW1CLGtCQUFrQixtQkFBbUI7QUFDOUssZ0JBQWdCLGdCQUFnQjtBQUNoQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxXQUFXO0FBQzFCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsUUFBUSw4Q0FBOEMsYUFBYTtBQUNwRixpQkFBaUIsUUFBUTtBQUN6QixlQUFlLFdBQVcsd0RBQXdELG9CQUFvQjtBQUN0Rzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHFHQUFxRyxlQUFlO0FBQ3BIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxPQUFPLFVBQVUsb0JBQW9CO0FBQzlFO0FBQ0EsWUFBWTtBQUNaLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQSxlQUFlLFdBQVc7QUFDMUIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixRQUFRLDhDQUE4QyxVQUFVO0FBQ2pGLGlCQUFpQixRQUFRO0FBQ3pCLGVBQWUsd0JBQXdCLCtFQUErRSxtQkFBbUIsa0JBQWtCLG1CQUFtQjtBQUM5Szs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHFHQUFxRyxlQUFlO0FBQ3BIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBLFNBQVM7QUFDVCxrQ0FBa0M7QUFDbEM7QUFDQSxtQ0FBbUMsNkJBQTZCO0FBQ2hFLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixVQUFVO0FBQ1YsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsd0JBQXdCLCtFQUErRSxtQkFBbUIsa0JBQWtCLG1CQUFtQjtBQUM5Szs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLG1CQUFtQixhQUFhLEtBQUssZUFBZTtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNkRBQTZELGFBQWEsS0FBSyxnQkFBZ0I7QUFDL0Y7QUFDQTtBQUNBOztBQUVBLHVGQUF1RixhQUFhO0FBQ3BHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJFQUEyRSxNQUFNLFFBQVE7QUFDekY7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLG9CQUFvQixJQUFJLHlCQUF5QjtBQUNqRjtBQUNBLGFBQWEsUUFBUSw4Q0FBOEMscUVBQXFFO0FBQ3hJLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVUsbURBQW1ELHNCQUFzQjtBQUNoRyxhQUFhLFVBQVU7QUFDdkIsVUFBVSxvQkFBb0I7QUFDOUI7QUFDQTtBQUNBOztBQUVBOztBQUVBLHVGQUF1RixhQUFhO0FBQ3BHO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLHVCQUF1QixJQUFJLDRCQUE0QjtBQUN2RjtBQUNBLGFBQWEsUUFBUSw4Q0FBOEMscUVBQXFFO0FBQ3hJLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVUsc0RBQXNELHNCQUFzQjtBQUNuRyxhQUFhLFVBQVU7QUFDdkIsVUFBVSxvQkFBb0I7QUFDOUI7QUFDQTtBQUNBOztBQUVBOztBQUVBLHVGQUF1RixhQUFhO0FBQ3BHO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxxRkFBcUYsYUFBYTtBQUNsRztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLHVCQUF1QjtBQUN0RCxhQUFhLFFBQVEsOENBQThDLHFFQUFxRTtBQUN4STtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0VBQStFLE1BQU0saUJBQWlCLEtBQUs7QUFDM0c7QUFDQSxjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLG9CQUFvQjtBQUNuQztBQUNBLGVBQWUsVUFBVSx1REFBdUQsc0JBQXNCO0FBQ3RHLGVBQWUsVUFBVTtBQUN6QjtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNkZBQTZGLGVBQWU7QUFDNUc7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBLGVBQWUsVUFBVSxtREFBbUQsc0JBQXNCO0FBQ2xHLGVBQWUsVUFBVTtBQUN6QjtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EseUVBQXlFLGVBQWU7QUFDeEY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU8sT0FBTztBQUM5QztBQUNBO0FBQ0EsWUFBWTtBQUNaLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQSxlQUFlLG1CQUFtQjtBQUNsQztBQUNBLGVBQWUsVUFBVSxzREFBc0Qsc0JBQXNCO0FBQ3JHLGVBQWUsVUFBVTtBQUN6QjtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EseUVBQXlFLGVBQWU7QUFDeEY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxVQUFVO0FBQ3pCLFlBQVksb0JBQW9CO0FBQ2hDLGdCQUFnQixnQkFBZ0IsR0FBRyxzQkFBc0IsaUJBQWlCLHNDQUFzQztBQUNoSDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsYUFBYSxLQUFLLGVBQWU7QUFDekQ7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsWUFBWSx5QkFBeUI7QUFDckM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEseUNBQXlDLGlDQUFpQzs7QUFFMUU7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esc0VBQXNFLGtCQUFrQjtBQUN4Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxRQUFRO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLGtCQUFrQixtREFBbUQsa0JBQWtCO0FBQ3ZHOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsdURBQXVELHNFQUFzRTtBQUM3SDtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCLGdDQUFnQyw2QkFBNkI7QUFDekY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixRQUFRLGNBQWM7QUFDakQ7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTzs7QUFFUDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsOEJBQThCO0FBQzNHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixRQUFRLCtCQUErQjtBQUNsRTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxlQUFlO0FBQzVCLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQixPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGFBQWEsUUFBUSw4Q0FBOEMscUVBQXFFO0FBQ3hJLGFBQWEsUUFBUTtBQUNyQixlQUFlLG1CQUFtQjtBQUNsQyxlQUFlLFFBQVE7QUFDdkIsZUFBZSxlQUFlLDBDQUEwQyxxQkFBcUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsc0JBQXNCLG1EQUFtRCxzQkFBc0I7QUFDOUcsZUFBZSxVQUFVO0FBQ3pCLFlBQVksb0JBQW9CO0FBQ2hDLGdCQUFnQixPQUFPO0FBQ3ZCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esc0VBQXNFLGFBQWE7QUFDbkY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU8sT0FBTztBQUM5QztBQUNBO0FBQ0EsWUFBWTtBQUNaLFVBQVU7QUFDVixRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxzQkFBc0Isc0RBQXNELHNCQUFzQjtBQUNqSCxlQUFlLFVBQVU7QUFDekIsWUFBWSxvQkFBb0I7QUFDaEMsZ0JBQWdCLFVBQVU7QUFDMUI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSx5RUFBeUUsZUFBZTtBQUN4RjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWTtBQUN2QztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0Isa0JBQWtCO0FBQ2xDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUEsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWLDZMQUE2TCxnQ0FBZ0MsRUFBRTtBQUMvTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSwyQkFBMkI7QUFDMUMsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixTQUFTO0FBQzFCLGdCQUFnQix3QkFBd0IsMkNBQTJDLGlCQUFpQjtBQUNwRzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHlDQUF5QztBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGFBQWE7QUFDakQ7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsY0FBYztBQUM3QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFNBQVM7QUFDMUIsZ0JBQWdCLHdCQUF3Qix1Q0FBdUMsaUJBQWlCO0FBQ2hHOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxREFBcUQsaUJBQWlCO0FBQ3RFOztBQUVBOztBQUVBLCtDQUErQyxvQkFBb0I7QUFDbkUsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFlBQVksWUFBWSxrQkFBa0I7QUFDekQsZ0JBQWdCLHNCQUFzQixlQUFlLGlCQUFpQjtBQUN0RTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSwyQ0FBMkMsYUFBYSxJQUFJLGVBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsR0FBRztBQUNsQixnQkFBZ0Isb0JBQW9CLHlDQUF5QyxhQUFhLElBQUksZUFBZTtBQUM3Rzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsYUFBYSxJQUFJLGVBQWU7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLE1BQU0sc0NBQXNDLGFBQWEsSUFBSSxlQUFlO0FBQzVGOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLFFBQVEsaUNBQWlDLDhGQUE4RjtBQUN4SixpQkFBaUIsUUFBUTtBQUN6Qjs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsdUJBQXVCLDJDQUEyQzs7QUFFbEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJEQUEyRCxlQUFlO0FBQzFFO0FBQ0EsS0FBSzs7QUFFTCw2REFBNkQsZUFBZTtBQUM1RTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLGFBQWEsWUFBWTtBQUN6QixhQUFhLFFBQVE7QUFDckIsY0FBYyxZQUFZO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLEtBQUs7QUFDcEIsZ0JBQWdCLHNCQUFzQjtBQUN0QztBQUNBO0FBQ0E7O0FBRUEsZ0RBQWdELGNBQWM7QUFDOUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixvQkFBb0I7QUFDcEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsVUFBVTtBQUN6QixnQkFBZ0Isc0JBQXNCO0FBQ3RDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsZ0RBQWdELFVBQVU7QUFDMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixvQkFBb0I7QUFDcEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSxnREFBZ0QsZ0JBQWdCO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdEQUFnRDtBQUNsRjtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsS0FBSztBQUN0QixpQkFBaUIsUUFBUTtBQUN6Qix3QkFBd0IsbUdBQW1HO0FBQzNILGlCQUFpQixRQUFRLHFEQUFxRDtBQUM5RSxpQkFBaUIsU0FBUztBQUMxQixnQkFBZ0Isc0JBQXNCO0FBQ3RDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLHNCQUFzQjtBQUN0Qzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdEQUFnRCxzQkFBc0I7QUFDdEU7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLHNFQUFzRSxtQ0FBbUM7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQSxnREFBZ0QsY0FBYztBQUM5RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdEQUFnRCw0Q0FBNEM7QUFDNUY7O0FBRUE7QUFDQTtBQUNBLHFFQUFxRSwrQkFBK0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdEQUFnRCxRQUFRO0FBQ3hEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0Isb0JBQW9CO0FBQ3BDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7O0FBRUEsZ0RBQWdELHNDQUFzQztBQUN0Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdEQUFnRCxnQkFBZ0I7QUFDaEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZ0RBQWdEO0FBQ3JGO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixLQUFLO0FBQ3RCLGlCQUFpQixRQUFRO0FBQ3pCLHdCQUF3Qix5R0FBeUc7QUFDakksaUJBQWlCLFFBQVEscURBQXFEO0FBQzlFLGlCQUFpQixTQUFTO0FBQzFCLGdCQUFnQixzQkFBc0I7QUFDdEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsZ0JBQWdCLGtHQUFrRztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGdCQUFnQixvQkFBb0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0EsOENBQThDOztBQUU5QztBQUNBOztBQUVBO0FBQ0Esa0VBQWtFLGVBQWU7QUFDakY7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQSxpREFBaUQsUUFBUTtBQUN6RDtBQUNBO0FBQ0E7O0FBRUEsd0VBQXdFLGVBQWU7QUFDdkY7O0FBRUE7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixRQUFRO0FBQ3pCLGlCQUFpQixVQUFVLGlFQUFpRSx5SEFBeUg7QUFDck4saUJBQWlCLFFBQVEscURBQXFELHVIQUF1SDtBQUNyTSxpQkFBaUIsUUFBUTtBQUN6QixpQkFBaUIsVUFBVSxnRkFBZ0Ysa0hBQWtIO0FBQzdOLGlCQUFpQixRQUFRLHVFQUF1RSwyR0FBMkc7QUFDM00sZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLGlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CLCtCQUErQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixTQUFTO0FBQzFCLGlCQUFpQixVQUFVLGdGQUFnRixrSEFBa0g7QUFDN04saUJBQWlCLFFBQVE7QUFDekIsZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLGlEQUFpRCxzQ0FBc0M7QUFDdkY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0Isb0JBQW9CO0FBQ3BDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaURBQWlELHNDQUFzQztBQUN2Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1GQUFtRjtBQUM5RztBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxVQUFVLGdFQUFnRSx5SEFBeUg7QUFDbE4sZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGlEQUFpRCw4Q0FBOEM7QUFDL0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0Isb0JBQW9CO0FBQ3BDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaURBQWlELG9EQUFvRDtBQUNyRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGdCQUFnQixvQkFBb0I7QUFDcEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSxpREFBaUQsd0JBQXdCO0FBQ3pFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFVBQVU7QUFDekIsZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGlEQUFpRCxzREFBc0Q7QUFDdkc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixnQkFBZ0Isb0JBQW9CO0FBQ3BDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaURBQWlELDhEQUE4RDtBQUMvRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxVQUFVO0FBQ3pCLGdCQUFnQixvQkFBb0I7QUFDcEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSxpREFBaUQsa0RBQWtEO0FBQ25HOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbUZBQW1GO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFVBQVUsZ0VBQWdFLHlIQUF5SDtBQUNsTixnQkFBZ0Isb0JBQW9CO0FBQ3BDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaURBQWlELDhDQUE4QztBQUMvRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxVQUFVLDhEQUE4RCwrSEFBK0g7QUFDdE4sZ0JBQWdCLG9CQUFvQjtBQUNwQzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGlEQUFpRCw4Q0FBOEM7QUFDL0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixRQUFRO0FBQ3hCLGdCQUFnQixvQkFBb0I7QUFDcEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQSxpREFBaUQsMERBQTBEO0FBQzNHO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLDRCQUE0QjtBQUMzRztBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0IsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYyxjQUFjO0FBQzVCLGNBQWMsa0JBQWtCO0FBQ2hDLGNBQWMsZUFBZTtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFFBQVEsdUJBQXVCLGNBQWM7QUFDNUQ7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxzQkFBc0I7QUFDcEM7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaWtlLXlhcmQtc2hvcGlmeS8uL25vZGVfbW9kdWxlcy9zaG9waWZ5LWJ1eS9pbmRleC5qcz84MzhmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5AbGljZW5zZVxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5cbkNvcHlyaWdodCAoYykgMjAxNiBTaG9waWZ5IEluYy5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbmNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xud2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG5wZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbmluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG5PUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWVxuQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCxcblRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFXG5TT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgY2xhc3NDYWxsQ2hlY2skMSA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MkMSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxuXG5cblxuXG5cblxuXG5cbnZhciBpbmhlcml0cyQxID0gZnVuY3Rpb24gKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiQxID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG4vKlxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5Db3B5cmlnaHQgKGMpIDIwMTYgU2hvcGlmeSBJbmMuXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG5jb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbkRBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0Vcbk9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuXG4qL1xuZnVuY3Rpb24gam9pbigpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZpZWxkcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZpZWxkc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmaWVsZHMuam9pbignICcpO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gQm9vbGVhbih2YWx1ZSkgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlLnZhbHVlT2YoKSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG5mdW5jdGlvbiBkZWVwRnJlZXplQ29weUV4Y2VwdChwcmVkaWNhdGUsIHN0cnVjdHVyZSkge1xuICBpZiAocHJlZGljYXRlKHN0cnVjdHVyZSkpIHtcbiAgICByZXR1cm4gc3RydWN0dXJlO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHN0cnVjdHVyZSkpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShPYmplY3Qua2V5cyhzdHJ1Y3R1cmUpLnJlZHVjZShmdW5jdGlvbiAoY29weSwga2V5KSB7XG4gICAgICBjb3B5W2tleV0gPSBkZWVwRnJlZXplQ29weUV4Y2VwdChwcmVkaWNhdGUsIHN0cnVjdHVyZVtrZXldKTtcblxuICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfSwge30pKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN0cnVjdHVyZSkpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShzdHJ1Y3R1cmUubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gZGVlcEZyZWV6ZUNvcHlFeGNlcHQocHJlZGljYXRlLCBpdGVtKTtcbiAgICB9KSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cnVjdHVyZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzY2hlbWFGb3JUeXBlKHR5cGVCdW5kbGUsIHR5cGVOYW1lKSB7XG4gIHZhciB0eXBlU2NoZW1hID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gIHZhciB0eXBlID0gdHlwZUJ1bmRsZS50eXBlc1t0eXBlTmFtZV07XG5cbiAgaWYgKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfSBlbHNlIGlmICh0eXBlU2NoZW1hICYmIHR5cGVTY2hlbWEua2luZCA9PT0gJ0lOVEVSRkFDRScpIHtcbiAgICByZXR1cm4gdHlwZVNjaGVtYTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignTm8gdHlwZSBvZiAnICsgdHlwZU5hbWUgKyAnIGZvdW5kIGluIHNjaGVtYScpO1xufVxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmICghc2VsZikge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBjYWxsICYmICgodHlwZW9mIGNhbGwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xufTtcblxudmFyIHNsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7XG5cbnZhciB0b0NvbnN1bWFibGVBcnJheSA9IGZ1bmN0aW9uIHRvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9cmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyKTtcbiAgfVxufTtcblxudmFyIFZhcmlhYmxlRGVmaW5pdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogVGhpcyBjb25zdHJ1Y3RvciBzaG91bGQgbm90IGJlIGludm9rZWQgZGlyZWN0bHkuXG4gICAqIFVzZSB0aGUgZmFjdG9yeSBmdW5jdGlvbiB7QGxpbmsgQ2xpZW50I3ZhcmlhYmxlfSB0byBjcmVhdGUgYSBWYXJpYWJsZURlZmluaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIEdyYXBoUUwgdHlwZSBvZiB0aGUgdmFyaWFibGUuXG4gICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHZhcmlhYmxlLlxuICAgKi9cbiAgZnVuY3Rpb24gVmFyaWFibGVEZWZpbml0aW9uKG5hbWUsIHR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFZhcmlhYmxlRGVmaW5pdGlvbik7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBHcmFwaFFMIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIHZhcmlhYmxlIGFzIGFuIGlucHV0IHZhbHVlIChlLmcuIGAkdmFyaWFibGVOYW1lYCkuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgdmFyaWFibGUgYXMgYW4gaW5wdXQgdmFsdWUuXG4gICAqL1xuXG4gIGNyZWF0ZUNsYXNzKFZhcmlhYmxlRGVmaW5pdGlvbiwgW3tcbiAgICBrZXk6ICd0b0lucHV0VmFsdWVTdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0lucHV0VmFsdWVTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyQnICsgdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgdmFyaWFibGUgKGUuZy4gYCR2YXJpYWJsZU5hbWU6VmFyaWFibGVUeXBlID0gZGVmYXVsdFZhbHVlYCkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBHcmFwaFFMIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIHZhcmlhYmxlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgdmFyIGRlZmF1bHRWYWx1ZVN0cmluZyA9IHRoaXMuZGVmYXVsdFZhbHVlID8gJyA9ICcgKyBmb3JtYXRJbnB1dFZhbHVlKHRoaXMuZGVmYXVsdFZhbHVlKSA6ICcnO1xuXG4gICAgICByZXR1cm4gJyQnICsgdGhpcy5uYW1lICsgJzonICsgdGhpcy50eXBlICsgZGVmYXVsdFZhbHVlU3RyaW5nO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVmFyaWFibGVEZWZpbml0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiBpc1ZhcmlhYmxlKHZhbHVlKSB7XG4gIHJldHVybiBWYXJpYWJsZURlZmluaXRpb24ucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodmFsdWUpO1xufVxuXG5mdW5jdGlvbiB2YXJpYWJsZShuYW1lLCB0eXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIG5ldyBWYXJpYWJsZURlZmluaXRpb24obmFtZSwgdHlwZSwgZGVmYXVsdFZhbHVlKTtcbn1cblxudmFyIEVudW0gPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIFRoaXMgY29uc3RydWN0b3Igc2hvdWxkIG5vdCBiZSBpbnZva2VkIGRpcmVjdGx5LlxuICAgKiBVc2UgdGhlIGZhY3RvcnkgZnVuY3Rpb24ge0BsaW5rIENsaWVudCNlbnVtfSB0byBjcmVhdGUgYW4gRW51bS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnVtLlxuICAgKi9cbiAgZnVuY3Rpb24gRW51bShrZXkpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBFbnVtKTtcblxuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgZW51bSAoZS5nLiBgZW51bUtleWApLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBHcmFwaFFMIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIGVudW0uXG4gICAqL1xuXG4gIGNyZWF0ZUNsYXNzKEVudW0sIFt7XG4gICAga2V5OiBcInRvU3RyaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMua2V5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ2YWx1ZU9mXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgICByZXR1cm4gdGhpcy5rZXkudmFsdWVPZigpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRW51bTtcbn0oKTtcblxudmFyIGVudW1GdW5jdGlvbiA9IGZ1bmN0aW9uIGVudW1GdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIG5ldyBFbnVtKGtleSk7XG59O1xuXG52YXIgU2NhbGFyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTY2FsYXIodmFsdWUpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTY2FsYXIpO1xuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU2NhbGFyLCBbe1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInZhbHVlT2ZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlLnZhbHVlT2YoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidW53cmFwcGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNjYWxhcjtcbn0oKTtcblxuZnVuY3Rpb24gZm9ybWF0SW5wdXRWYWx1ZSh2YWx1ZSkge1xuICBpZiAoVmFyaWFibGVEZWZpbml0aW9uLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS50b0lucHV0VmFsdWVTdHJpbmcoKTtcbiAgfSBlbHNlIGlmIChFbnVtLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHZhbHVlKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9IGVsc2UgaWYgKFNjYWxhci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih2YWx1ZSkpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUudmFsdWVPZigpKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiAnWycgKyBqb2luLmFwcGx5KHVuZGVmaW5lZCwgdG9Db25zdW1hYmxlQXJyYXkodmFsdWUubWFwKGZvcm1hdElucHV0VmFsdWUpKSkgKyAnXSc7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZvcm1hdE9iamVjdCh2YWx1ZSwgJ3snLCAnfScpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0T2JqZWN0KHZhbHVlKSB7XG4gIHZhciBvcGVuQ2hhciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gIHZhciBjbG9zZUNoYXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnO1xuXG4gIHZhciBhcmdQYWlycyA9IE9iamVjdC5rZXlzKHZhbHVlKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkgKyAnOiAnICsgZm9ybWF0SW5wdXRWYWx1ZSh2YWx1ZVtrZXldKTtcbiAgfSk7XG5cbiAgcmV0dXJuICcnICsgb3BlbkNoYXIgKyBqb2luLmFwcGx5KHVuZGVmaW5lZCwgdG9Db25zdW1hYmxlQXJyYXkoYXJnUGFpcnMpKSArIGNsb3NlQ2hhcjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIGlmICghT2JqZWN0LmtleXMoYXJncykubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuICcgKCcgKyBmb3JtYXRPYmplY3QoYXJncykgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERpcmVjdGl2ZXMoZGlyZWN0aXZlcykge1xuICBpZiAoIU9iamVjdC5rZXlzKGRpcmVjdGl2ZXMpLmxlbmd0aCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBkaXJlY3RpdmVTdHJpbmdzID0gT2JqZWN0LmtleXMoZGlyZWN0aXZlcykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgZGlyZWN0aXZlQXJncyA9IGRpcmVjdGl2ZXNba2V5XTtcbiAgICB2YXIgYXJnID0gZGlyZWN0aXZlQXJncyAmJiBPYmplY3Qua2V5cyhkaXJlY3RpdmVBcmdzKS5sZW5ndGggPyAnKCcgKyBmb3JtYXRPYmplY3QoZGlyZWN0aXZlQXJncykgKyAnKScgOiAnJztcblxuICAgIHJldHVybiAnQCcgKyBrZXkgKyBhcmc7XG4gIH0pO1xuXG4gIHJldHVybiAnICcgKyBqb2luLmFwcGx5KHVuZGVmaW5lZCwgdG9Db25zdW1hYmxlQXJyYXkoZGlyZWN0aXZlU3RyaW5ncykpO1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cbnZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuXG52YXIgUHJvZmlsZXIgPSB7XG4gIHRyYWNrVHlwZURlcGVuZGVuY3k6IG5vb3AsXG4gIHRyYWNrRmllbGREZXBlbmRlbmN5OiBub29wXG59O1xuXG52YXIgdHJhY2tUeXBlRGVwZW5kZW5jeSA9IFByb2ZpbGVyLnRyYWNrVHlwZURlcGVuZGVuY3k7XG52YXIgdHJhY2tGaWVsZERlcGVuZGVuY3kgPSBQcm9maWxlci50cmFja0ZpZWxkRGVwZW5kZW5jeTtcblxuZnVuY3Rpb24gcGFyc2VGaWVsZENyZWF0aW9uQXJncyhjcmVhdGlvbkFyZ3MpIHtcbiAgdmFyIGNhbGxiYWNrID0gbm9vcDtcbiAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgdmFyIHNlbGVjdGlvblNldCA9IG51bGw7XG5cbiAgaWYgKGNyZWF0aW9uQXJncy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAodHlwZW9mIGNyZWF0aW9uQXJnc1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIF9jcmVhdGlvbkFyZ3MgPSBzbGljZWRUb0FycmF5KGNyZWF0aW9uQXJncywgMik7XG5cbiAgICAgIG9wdGlvbnMgPSBfY3JlYXRpb25BcmdzWzBdO1xuICAgICAgY2FsbGJhY2sgPSBfY3JlYXRpb25BcmdzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2NyZWF0aW9uQXJnczIgPSBzbGljZWRUb0FycmF5KGNyZWF0aW9uQXJncywgMik7XG5cbiAgICAgIG9wdGlvbnMgPSBfY3JlYXRpb25BcmdzMlswXTtcbiAgICAgIHNlbGVjdGlvblNldCA9IF9jcmVhdGlvbkFyZ3MyWzFdO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjcmVhdGlvbkFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gU2VsZWN0aW9uU2V0IGlzIGRlZmluZWQgYmVmb3JlIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHNpbmNlIGl0J3NcbiAgICAvLyBjYWxsZWQgYnkgU2VsZWN0aW9uU2V0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgaWYgKFNlbGVjdGlvblNldC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihjcmVhdGlvbkFyZ3NbMF0pKSB7XG4gICAgICBzZWxlY3Rpb25TZXQgPSBjcmVhdGlvbkFyZ3NbMF07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY3JlYXRpb25BcmdzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IGNyZWF0aW9uQXJnc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IGNyZWF0aW9uQXJnc1swXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBvcHRpb25zOiBvcHRpb25zLCBzZWxlY3Rpb25TZXQ6IHNlbGVjdGlvblNldCwgY2FsbGJhY2s6IGNhbGxiYWNrIH07XG59XG5cbnZhciBlbXB0eUFyZ3MgPSBPYmplY3QuZnJlZXplKHt9KTtcbnZhciBlbXB0eURpcmVjdGl2ZXMgPSBPYmplY3QuZnJlZXplKHt9KTtcblxudmFyIEZpZWxkID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbnN0cnVjdG9yIHNob3VsZCBub3QgYmUgaW52b2tlZCBkaXJlY3RseS5cbiAgICogRmllbGRzIGFyZSBhZGRlZCB0byBhIHNlbGVjdGlvbiBieSB7QGxpbmsgU2VsZWN0aW9uU2V0QnVpbGRlciNhZGR9LCB7QGxpbmsgU2VsZWN0aW9uU2V0QnVpbGRlciNhZGRDb25uZWN0aW9ufVxuICAgKiBhbmQge0BsaW5rIFNlbGVjdGlvblNldEJ1aWxkZXIjYWRkSW5saW5lRnJhZ21lbnRPbn0uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBmaWVsZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBbiBvcHRpb25zIG9iamVjdCBjb250YWluaW5nOlxuICAgKiAgIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5hcmdzXSBBcmd1bWVudHMgZm9yIHRoZSBmaWVsZC5cbiAgICogICBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWxpYXNdIEFuIGFsaWFzIGZvciB0aGUgZmllbGQuXG4gICAqICAgQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmRpcmVjdGl2ZXNdIERpcmVjdGl2ZXMgZm9yIHRoZSBmaWVsZC5cbiAgICogQHBhcmFtIHtTZWxlY3Rpb25TZXR9IHNlbGVjdGlvblNldCBUaGUgc2VsZWN0aW9uIHNldCBvbiB0aGUgZmllbGQuXG4gICAqL1xuICBmdW5jdGlvbiBGaWVsZChuYW1lLCBvcHRpb25zLCBzZWxlY3Rpb25TZXQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBGaWVsZCk7XG5cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuYWxpYXMgPSBvcHRpb25zLmFsaWFzIHx8IG51bGw7XG4gICAgdGhpcy5yZXNwb25zZUtleSA9IHRoaXMuYWxpYXMgfHwgdGhpcy5uYW1lO1xuICAgIHRoaXMuYXJncyA9IG9wdGlvbnMuYXJncyA/IGRlZXBGcmVlemVDb3B5RXhjZXB0KGlzVmFyaWFibGUsIG9wdGlvbnMuYXJncykgOiBlbXB0eUFyZ3M7XG4gICAgdGhpcy5kaXJlY3RpdmVzID0gb3B0aW9ucy5kaXJlY3RpdmVzID8gZGVlcEZyZWV6ZUNvcHlFeGNlcHQoaXNWYXJpYWJsZSwgb3B0aW9ucy5kaXJlY3RpdmVzKSA6IGVtcHR5RGlyZWN0aXZlcztcbiAgICB0aGlzLnNlbGVjdGlvblNldCA9IHNlbGVjdGlvblNldDtcbiAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgRmllbGQgKGUuZy4gYGNhdEFsaWFzOiBjYXQoc2l6ZTogJ3NtYWxsJykgeyBuYW1lIH1gIG9yIGBuYW1lYCkuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgRmllbGQuXG4gICAqL1xuXG4gIGNyZWF0ZUNsYXNzKEZpZWxkLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICB2YXIgYWxpYXNQcmVmaXggPSB0aGlzLmFsaWFzID8gdGhpcy5hbGlhcyArICc6ICcgOiAnJztcblxuICAgICAgcmV0dXJuICcnICsgYWxpYXNQcmVmaXggKyB0aGlzLm5hbWUgKyBmb3JtYXRBcmdzKHRoaXMuYXJncykgKyBmb3JtYXREaXJlY3RpdmVzKHRoaXMuZGlyZWN0aXZlcykgKyB0aGlzLnNlbGVjdGlvblNldDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEZpZWxkO1xufSgpO1xuXG4vLyBUaGlzIGlzIGFuIGludGVyZmFjZSB0aGF0IGRlZmluZXMgYSB1c2FnZSwgYW5kIHNpbXBsaWZpZXMgdHlwZSBjaGVja2luZ1xudmFyIFNwcmVhZCA9IGZ1bmN0aW9uIFNwcmVhZCgpIHtcbiAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU3ByZWFkKTtcbn07XG5cbnZhciBJbmxpbmVGcmFnbWVudCA9IGZ1bmN0aW9uIChfU3ByZWFkKSB7XG4gIGluaGVyaXRzKElubGluZUZyYWdtZW50LCBfU3ByZWFkKTtcblxuICAvKipcbiAgICogVGhpcyBjb25zdHJ1Y3RvciBzaG91bGQgbm90IGJlIGludm9rZWQgZGlyZWN0bHkuXG4gICAqIFVzZSB0aGUgZmFjdG9yeSBmdW5jdGlvbiB7QGxpbmsgU2VsZWN0aW9uU2V0QnVpbGRlciNhZGRJbmxpbmVGcmFnbWVudE9ufSB0byBjcmVhdGUgYW4gSW5saW5lRnJhZ21lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZSBUaGUgdHlwZSBvZiB0aGUgZnJhZ21lbnQuXG4gICAqIEBwYXJhbSB7U2VsZWN0aW9uU2V0fSBzZWxlY3Rpb25TZXQgVGhlIHNlbGVjdGlvbiBzZXQgb24gdGhlIGZyYWdtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gSW5saW5lRnJhZ21lbnQodHlwZU5hbWUsIHNlbGVjdGlvblNldCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIElubGluZUZyYWdtZW50KTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKElubGluZUZyYWdtZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5saW5lRnJhZ21lbnQpKS5jYWxsKHRoaXMpKTtcblxuICAgIF90aGlzLnR5cGVOYW1lID0gdHlwZU5hbWU7XG4gICAgX3RoaXMuc2VsZWN0aW9uU2V0ID0gc2VsZWN0aW9uU2V0O1xuICAgIE9iamVjdC5mcmVlemUoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBHcmFwaFFMIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIElubGluZUZyYWdtZW50IChlLmcuIGAuLi4gb24gQ2F0IHsgbmFtZSB9YCkuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgSW5saW5lRnJhZ21lbnQuXG4gICAqL1xuXG4gIGNyZWF0ZUNsYXNzKElubGluZUZyYWdtZW50LCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJy4uLiBvbiAnICsgdGhpcy50eXBlTmFtZSArIHRoaXMuc2VsZWN0aW9uU2V0O1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSW5saW5lRnJhZ21lbnQ7XG59KFNwcmVhZCk7XG5cbnZhciBGcmFnbWVudFNwcmVhZCA9IGZ1bmN0aW9uIChfU3ByZWFkMikge1xuICBpbmhlcml0cyhGcmFnbWVudFNwcmVhZCwgX1NwcmVhZDIpO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbnN0cnVjdG9yIHNob3VsZCBub3QgYmUgaW52b2tlZCBkaXJlY3RseS5cbiAgICogVXNlIHRoZSBmYWN0b3J5IGZ1bmN0aW9uIHtAbGluayBEb2N1bWVudCNkZWZpbmVGcmFnbWVudH0gdG8gY3JlYXRlIGEgRnJhZ21lbnRTcHJlYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RnJhZ21lbnREZWZpbml0aW9ufSBmcmFnbWVudERlZmluaXRpb24gVGhlIGNvcnJlc3BvbmRpbmcgZnJhZ21lbnQgZGVmaW5pdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIEZyYWdtZW50U3ByZWFkKGZyYWdtZW50RGVmaW5pdGlvbikge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEZyYWdtZW50U3ByZWFkKTtcblxuICAgIHZhciBfdGhpczIgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGcmFnbWVudFNwcmVhZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZyYWdtZW50U3ByZWFkKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpczIubmFtZSA9IGZyYWdtZW50RGVmaW5pdGlvbi5uYW1lO1xuICAgIF90aGlzMi5zZWxlY3Rpb25TZXQgPSBmcmFnbWVudERlZmluaXRpb24uc2VsZWN0aW9uU2V0O1xuICAgIE9iamVjdC5mcmVlemUoX3RoaXMyKTtcbiAgICByZXR1cm4gX3RoaXMyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgRnJhZ21lbnRTcHJlYWQgKGUuZy4gYC4uLmNhdE5hbWVgKS5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgR3JhcGhRTCBxdWVyeSBzdHJpbmcgZm9yIHRoZSBGcmFnbWVudFNwcmVhZC5cbiAgICovXG5cbiAgY3JlYXRlQ2xhc3MoRnJhZ21lbnRTcHJlYWQsIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnLi4uJyArIHRoaXMubmFtZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b0RlZmluaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0RlZmluaXRpb24oKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHJldHVybiBuZXcgRnJhZ21lbnREZWZpbml0aW9uKHRoaXMubmFtZSwgdGhpcy5zZWxlY3Rpb25TZXQudHlwZVNjaGVtYS5uYW1lLCB0aGlzLnNlbGVjdGlvblNldCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBGcmFnbWVudFNwcmVhZDtcbn0oU3ByZWFkKTtcblxudmFyIEZyYWdtZW50RGVmaW5pdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogVGhpcyBjb25zdHJ1Y3RvciBzaG91bGQgbm90IGJlIGludm9rZWQgZGlyZWN0bHkuXG4gICAqIFVzZSB0aGUgZmFjdG9yeSBmdW5jdGlvbiB7QGxpbmsgRG9jdW1lbnQjZGVmaW5lRnJhZ21lbnR9IHRvIGNyZWF0ZSBhIEZyYWdtZW50RGVmaW5pdGlvbiBvbiBhIHtAbGluayBEb2N1bWVudH0uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBmcmFnbWVudCBkZWZpbml0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZU5hbWUgVGhlIHR5cGUgb2YgdGhlIGZyYWdtZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gRnJhZ21lbnREZWZpbml0aW9uKG5hbWUsIHR5cGVOYW1lLCBzZWxlY3Rpb25TZXQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBGcmFnbWVudERlZmluaXRpb24pO1xuXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnR5cGVOYW1lID0gdHlwZU5hbWU7XG4gICAgdGhpcy5zZWxlY3Rpb25TZXQgPSBzZWxlY3Rpb25TZXQ7XG4gICAgdGhpcy5zcHJlYWQgPSBuZXcgRnJhZ21lbnRTcHJlYWQodGhpcyk7XG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBHcmFwaFFMIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIEZyYWdtZW50RGVmaW5pdGlvbiAoZS5nLiBgZnJhZ21lbnQgY2F0TmFtZSBvbiBDYXQgeyBuYW1lIH1gKS5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgR3JhcGhRTCBxdWVyeSBzdHJpbmcgZm9yIHRoZSBGcmFnbWVudERlZmluaXRpb24uXG4gICAqL1xuXG4gIGNyZWF0ZUNsYXNzKEZyYWdtZW50RGVmaW5pdGlvbiwgW3tcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICdmcmFnbWVudCAnICsgdGhpcy5uYW1lICsgJyBvbiAnICsgdGhpcy50eXBlTmFtZSArICcgJyArIHRoaXMuc2VsZWN0aW9uU2V0O1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRnJhZ21lbnREZWZpbml0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiBzZWxlY3Rpb25zSGF2ZUlkRmllbGQoc2VsZWN0aW9ucykge1xuICByZXR1cm4gc2VsZWN0aW9ucy5zb21lKGZ1bmN0aW9uIChmaWVsZE9yRnJhZ21lbnQpIHtcbiAgICBpZiAoRmllbGQucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZmllbGRPckZyYWdtZW50KSkge1xuICAgICAgcmV0dXJuIGZpZWxkT3JGcmFnbWVudC5uYW1lID09PSAnaWQnO1xuICAgIH0gZWxzZSBpZiAoU3ByZWFkLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGZpZWxkT3JGcmFnbWVudCkgJiYgZmllbGRPckZyYWdtZW50LnNlbGVjdGlvblNldC50eXBlU2NoZW1hLmltcGxlbWVudHNOb2RlKSB7XG4gICAgICByZXR1cm4gc2VsZWN0aW9uc0hhdmVJZEZpZWxkKGZpZWxkT3JGcmFnbWVudC5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0aW9uc0hhdmVUeXBlbmFtZUZpZWxkKHNlbGVjdGlvbnMpIHtcbiAgcmV0dXJuIHNlbGVjdGlvbnMuc29tZShmdW5jdGlvbiAoZmllbGRPckZyYWdtZW50KSB7XG4gICAgaWYgKEZpZWxkLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGZpZWxkT3JGcmFnbWVudCkpIHtcbiAgICAgIHJldHVybiBmaWVsZE9yRnJhZ21lbnQubmFtZSA9PT0gJ19fdHlwZW5hbWUnO1xuICAgIH0gZWxzZSBpZiAoU3ByZWFkLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGZpZWxkT3JGcmFnbWVudCkgJiYgZmllbGRPckZyYWdtZW50LnNlbGVjdGlvblNldC50eXBlU2NoZW1hLmltcGxlbWVudHNOb2RlKSB7XG4gICAgICByZXR1cm4gc2VsZWN0aW9uc0hhdmVUeXBlbmFtZUZpZWxkKGZpZWxkT3JGcmFnbWVudC5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5kZXhTZWxlY3Rpb25zQnlSZXNwb25zZUtleShzZWxlY3Rpb25zKSB7XG4gIGZ1bmN0aW9uIGFzc2lnbk9yUHVzaChvYmosIGtleSwgdmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgIG9ialtrZXldLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IFt2YWx1ZV07XG4gICAgfVxuICB9XG4gIHZhciB1bmZyb3plbk9iamVjdCA9IHNlbGVjdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHNlbGVjdGlvbikge1xuICAgIGlmIChzZWxlY3Rpb24ucmVzcG9uc2VLZXkpIHtcbiAgICAgIGFzc2lnbk9yUHVzaChhY2MsIHNlbGVjdGlvbi5yZXNwb25zZUtleSwgc2VsZWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc3BvbnNlS2V5cyA9IE9iamVjdC5rZXlzKHNlbGVjdGlvbi5zZWxlY3Rpb25TZXQuc2VsZWN0aW9uc0J5UmVzcG9uc2VLZXkpO1xuXG4gICAgICByZXNwb25zZUtleXMuZm9yRWFjaChmdW5jdGlvbiAocmVzcG9uc2VLZXkpIHtcbiAgICAgICAgYXNzaWduT3JQdXNoKGFjYywgcmVzcG9uc2VLZXksIHNlbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG5cbiAgT2JqZWN0LmtleXModW5mcm96ZW5PYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIE9iamVjdC5mcmVlemUodW5mcm96ZW5PYmplY3Rba2V5XSk7XG4gIH0pO1xuXG4gIHJldHVybiBPYmplY3QuZnJlZXplKHVuZnJvemVuT2JqZWN0KTtcbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHNwZWNpZmllcyB0aGUgZnVsbCBzZWxlY3Rpb24gb2YgZGF0YSB0byBxdWVyeS5cbiAqL1xuXG52YXIgU2VsZWN0aW9uU2V0ID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbnN0cnVjdG9yIHNob3VsZCBub3QgYmUgaW52b2tlZCBkaXJlY3RseS4gU2VsZWN0aW9uU2V0cyBhcmUgY3JlYXRlZCB3aGVuIGJ1aWxkaW5nIHF1ZXJpZXMvbXV0YXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZUJ1bmRsZSBBIHNldCBvZiBFUzYgbW9kdWxlcyBnZW5lcmF0ZWQgYnkge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9TaG9waWZ5L2dyYXBocWwtanMtc2NoZW1hfGdyYXBocWwtanMtc2NoZW1hfS5cbiAgICogQHBhcmFtIHsoT2JqZWN0fFN0cmluZyl9IHR5cGUgVGhlIHR5cGUgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBidWlsZGVyRnVuY3Rpb24gQ2FsbGJhY2sgZnVuY3Rpb24gdXNlZCB0byBidWlsZCB0aGUgU2VsZWN0aW9uU2V0LlxuICAgKiAgIFRoZSBjYWxsYmFjayB0YWtlcyBhIHtAbGluayBTZWxlY3Rpb25TZXRCdWlsZGVyfSBhcyBpdHMgYXJndW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBTZWxlY3Rpb25TZXQodHlwZUJ1bmRsZSwgdHlwZSwgYnVpbGRlckZ1bmN0aW9uKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0aW9uU2V0KTtcblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMudHlwZVNjaGVtYSA9IHNjaGVtYUZvclR5cGUodHlwZUJ1bmRsZSwgdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudHlwZVNjaGVtYSA9IHR5cGU7XG4gICAgfVxuXG4gICAgdHJhY2tUeXBlRGVwZW5kZW5jeSh0aGlzLnR5cGVTY2hlbWEubmFtZSk7XG5cbiAgICB0aGlzLnR5cGVCdW5kbGUgPSB0eXBlQnVuZGxlO1xuICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdO1xuICAgIGlmIChidWlsZGVyRnVuY3Rpb24pIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgYnVpbGRlckZ1bmN0aW9uKG5ldyBTZWxlY3Rpb25TZXRCdWlsZGVyKHRoaXMudHlwZUJ1bmRsZSwgdGhpcy50eXBlU2NoZW1hLCB0aGlzLnNlbGVjdGlvbnMpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50eXBlU2NoZW1hLmltcGxlbWVudHNOb2RlIHx8IHRoaXMudHlwZVNjaGVtYS5uYW1lID09PSAnTm9kZScpIHtcbiAgICAgIGlmICghc2VsZWN0aW9uc0hhdmVJZEZpZWxkKHRoaXMuc2VsZWN0aW9ucykpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zLnVuc2hpZnQobmV3IEZpZWxkKCdpZCcsIHt9LCBuZXcgU2VsZWN0aW9uU2V0KHR5cGVCdW5kbGUsICdJRCcpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudHlwZVNjaGVtYS5raW5kID09PSAnSU5URVJGQUNFJykge1xuICAgICAgaWYgKCFzZWxlY3Rpb25zSGF2ZVR5cGVuYW1lRmllbGQodGhpcy5zZWxlY3Rpb25zKSkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbnMudW5zaGlmdChuZXcgRmllbGQoJ19fdHlwZW5hbWUnLCB7fSwgbmV3IFNlbGVjdGlvblNldCh0eXBlQnVuZGxlLCAnU3RyaW5nJykpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjdGlvbnNCeVJlc3BvbnNlS2V5ID0gaW5kZXhTZWxlY3Rpb25zQnlSZXNwb25zZUtleSh0aGlzLnNlbGVjdGlvbnMpO1xuICAgIE9iamVjdC5mcmVlemUodGhpcy5zZWxlY3Rpb25zKTtcbiAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgU2VsZWN0aW9uU2V0IChlLmcuIGB7IGNhdCB7IG5hbWUgfSB9YCkuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgU2VsZWN0aW9uU2V0LlxuICAgKi9cblxuICBjcmVhdGVDbGFzcyhTZWxlY3Rpb25TZXQsIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIGlmICh0aGlzLnR5cGVTY2hlbWEua2luZCA9PT0gJ1NDQUxBUicgfHwgdGhpcy50eXBlU2NoZW1hLmtpbmQgPT09ICdFTlVNJykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyB7ICcgKyBqb2luKHRoaXMuc2VsZWN0aW9ucykgKyAnIH0nO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2VsZWN0aW9uU2V0O1xufSgpO1xuXG52YXIgU2VsZWN0aW9uU2V0QnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAvKipcbiAgICogVGhpcyBjb25zdHJ1Y3RvciBzaG91bGQgbm90IGJlIGludm9rZWQgZGlyZWN0bHkuIFNlbGVjdGlvblNldEJ1aWxkZXJzIGFyZSBjcmVhdGVkIHdoZW4gYnVpbGRpbmcgcXVlcmllcy9tdXRhdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlQnVuZGxlIEEgc2V0IG9mIEVTNiBtb2R1bGVzIGdlbmVyYXRlZCBieSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL1Nob3BpZnkvZ3JhcGhxbC1qcy1zY2hlbWF8Z3JhcGhxbC1qcy1zY2hlbWF9LlxuICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZVNjaGVtYSBUaGUgc2NoZW1hIG9iamVjdCBmb3IgdGhlIHR5cGUgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgKiBAcGFyYW0ge0ZpZWxkW119IHNlbGVjdGlvbnMgVGhlIGZpZWxkcyBvbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBTZWxlY3Rpb25TZXRCdWlsZGVyKHR5cGVCdW5kbGUsIHR5cGVTY2hlbWEsIHNlbGVjdGlvbnMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3Rpb25TZXRCdWlsZGVyKTtcblxuICAgIHRoaXMudHlwZUJ1bmRsZSA9IHR5cGVCdW5kbGU7XG4gICAgdGhpcy50eXBlU2NoZW1hID0gdHlwZVNjaGVtYTtcbiAgICB0aGlzLnNlbGVjdGlvbnMgPSBzZWxlY3Rpb25zO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU2VsZWN0aW9uU2V0QnVpbGRlciwgW3tcbiAgICBrZXk6ICdoYXNTZWxlY3Rpb25XaXRoUmVzcG9uc2VLZXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNTZWxlY3Rpb25XaXRoUmVzcG9uc2VLZXkocmVzcG9uc2VLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbnMuc29tZShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkLnJlc3BvbnNlS2V5ID09PSByZXNwb25zZUtleTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmaWVsZCB0byBiZSBxdWVyaWVkIG9uIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LnF1ZXJ5KChyb290KSA9PiB7XG4gICAgICogICByb290LmFkZCgnY2F0Jywge2FyZ3M6IHtpZDogJzEyMzQ1Nid9LCBhbGlhczogJ21lb3cnfSwgKGNhdCkgPT4ge1xuICAgICAqICAgICBjYXQuYWRkKCduYW1lJyk7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U2VsZWN0aW9uU2V0fFN0cmluZ30gc2VsZWN0aW9uT3JGaWVsZE5hbWUgVGhlIHNlbGVjdGlvbiBvciBuYW1lIG9mIHRoZSBmaWVsZCB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9uIHRoZSBxdWVyeSBpbmNsdWRpbmc6XG4gICAgICogICBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuYXJnc10gQXJndW1lbnRzIG9uIHRoZSBxdWVyeSAoZS5nLiBge2lkOiAnMTIzNDU2J31gKS5cbiAgICAgKiAgIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hbGlhc10gQWxpYXMgZm9yIHRoZSBmaWVsZCBiZWluZyBhZGRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFNlbGVjdGlvblNldH0gW2NhbGxiYWNrT3JTZWxlY3Rpb25TZXRdIEVpdGhlciBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBuZXcge0BsaW5rIFNlbGVjdGlvblNldH0sIG9yIGFuIGV4aXN0aW5nIHtAbGluayBTZWxlY3Rpb25TZXR9LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoc2VsZWN0aW9uT3JGaWVsZE5hbWUpIHtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSB2b2lkIDA7XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc2VsZWN0aW9uT3JGaWVsZE5hbWUpID09PSAnW29iamVjdCBTdHJpbmddJykge1xuICAgICAgICB0cmFja0ZpZWxkRGVwZW5kZW5jeSh0aGlzLnR5cGVTY2hlbWEubmFtZSwgc2VsZWN0aW9uT3JGaWVsZE5hbWUpO1xuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0aW9uID0gdGhpcy5maWVsZC5hcHBseSh0aGlzLCBbc2VsZWN0aW9uT3JGaWVsZE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoRmllbGQucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yoc2VsZWN0aW9uT3JGaWVsZE5hbWUpKSB7XG4gICAgICAgICAgdHJhY2tGaWVsZERlcGVuZGVuY3kodGhpcy50eXBlU2NoZW1hLm5hbWUsIHNlbGVjdGlvbk9yRmllbGROYW1lLm5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uT3JGaWVsZE5hbWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3Rpb24ucmVzcG9uc2VLZXkgJiYgdGhpcy5oYXNTZWxlY3Rpb25XaXRoUmVzcG9uc2VLZXkoc2VsZWN0aW9uLnJlc3BvbnNlS2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBmaWVsZCBuYW1lIG9yIGFsaWFzIFxcJycgKyBzZWxlY3Rpb24ucmVzcG9uc2VLZXkgKyAnXFwnIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdGlvbnMucHVzaChzZWxlY3Rpb24pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpZWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmllbGQobmFtZSkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBjcmVhdGlvbkFyZ3MgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGNyZWF0aW9uQXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcnNlZEFyZ3MgPSBwYXJzZUZpZWxkQ3JlYXRpb25BcmdzKGNyZWF0aW9uQXJncyk7XG4gICAgICB2YXIgb3B0aW9ucyA9IHBhcnNlZEFyZ3Mub3B0aW9ucyxcbiAgICAgICAgICBjYWxsYmFjayA9IHBhcnNlZEFyZ3MuY2FsbGJhY2s7XG4gICAgICB2YXIgc2VsZWN0aW9uU2V0ID0gcGFyc2VkQXJncy5zZWxlY3Rpb25TZXQ7XG5cbiAgICAgIGlmICghc2VsZWN0aW9uU2V0KSB7XG4gICAgICAgIGlmICghdGhpcy50eXBlU2NoZW1hLmZpZWxkQmFzZVR5cGVzW25hbWVdKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBmaWVsZCBvZiBuYW1lIFwiJyArIG5hbWUgKyAnXCIgZm91bmQgb24gdHlwZSBcIicgKyB0aGlzLnR5cGVTY2hlbWEubmFtZSArICdcIiBpbiBzY2hlbWEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaWVsZEJhc2VUeXBlID0gc2NoZW1hRm9yVHlwZSh0aGlzLnR5cGVCdW5kbGUsIHRoaXMudHlwZVNjaGVtYS5maWVsZEJhc2VUeXBlc1tuYW1lXSk7XG5cbiAgICAgICAgc2VsZWN0aW9uU2V0ID0gbmV3IFNlbGVjdGlvblNldCh0aGlzLnR5cGVCdW5kbGUsIGZpZWxkQmFzZVR5cGUsIGNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBGaWVsZChuYW1lLCBvcHRpb25zLCBzZWxlY3Rpb25TZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5saW5lIGZyYWdtZW50LlxuICAgICAqXG4gICAgICogQGFjY2VzcyBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVOYW1lIFRoZSB0eXBlICB0aGUgaW5saW5lIGZyYWdtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U2VsZWN0aW9uU2V0fSAgW2NhbGxiYWNrT3JTZWxlY3Rpb25TZXRdIEVpdGhlciBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBuZXcge0BsaW5rIFNlbGVjdGlvblNldH0sIG9yIGFuIGV4aXN0aW5nIHtAbGluayBTZWxlY3Rpb25TZXR9LlxuICAgICAqIEByZXR1cm4ge0lubGluZUZyYWdtZW50fSBBbiBpbmxpbmUgZnJhZ21lbnQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lubGluZUZyYWdtZW50T24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbmxpbmVGcmFnbWVudE9uKHR5cGVOYW1lKSB7XG4gICAgICB2YXIgYnVpbGRlckZ1bmN0aW9uT3JTZWxlY3Rpb25TZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG5cbiAgICAgIHZhciBzZWxlY3Rpb25TZXQgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChTZWxlY3Rpb25TZXQucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYnVpbGRlckZ1bmN0aW9uT3JTZWxlY3Rpb25TZXQpKSB7XG4gICAgICAgIHNlbGVjdGlvblNldCA9IGJ1aWxkZXJGdW5jdGlvbk9yU2VsZWN0aW9uU2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0aW9uU2V0ID0gbmV3IFNlbGVjdGlvblNldCh0aGlzLnR5cGVCdW5kbGUsIHNjaGVtYUZvclR5cGUodGhpcy50eXBlQnVuZGxlLCB0eXBlTmFtZSksIGJ1aWxkZXJGdW5jdGlvbk9yU2VsZWN0aW9uU2V0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBJbmxpbmVGcmFnbWVudCh0eXBlTmFtZSwgc2VsZWN0aW9uU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZmllbGQgdG8gYmUgcXVlcmllZCBvbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgbmFtZSBUaGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gYWRkIHRvIHRoZSBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb24gdGhlIHF1ZXJ5IGluY2x1ZGluZzpcbiAgICAgKiAgIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5hcmdzXSBBcmd1bWVudHMgb24gdGhlIHF1ZXJ5IChlLmcuIGB7aWQ6ICcxMjM0NTYnfWApLlxuICAgICAqICAgQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWFzXSBBbGlhcyBmb3IgdGhlIGZpZWxkIGJlaW5nIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259ICBbY2FsbGJhY2tdIENhbGxiYWNrIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBuZXcge0BsaW5rIFNlbGVjdGlvblNldH0gZm9yIHRoZSBmaWVsZCBhZGRlZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWRkRmllbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRGaWVsZChuYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGNyZWF0aW9uQXJncyA9IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgY3JlYXRpb25BcmdzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZC5hcHBseSh0aGlzLCBbbmFtZV0uY29uY2F0KGNyZWF0aW9uQXJncykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjb25uZWN0aW9uIHRvIGJlIHF1ZXJpZWQgb24gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAqIFRoaXMgYWRkcyBhbGwgdGhlIGZpZWxkcyBuZWNlc3NhcnkgZm9yIHBhZ2luYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNsaWVudC5xdWVyeSgocm9vdCkgPT4ge1xuICAgICAqICAgcm9vdC5hZGQoJ2NhdCcsIChjYXQpID0+IHtcbiAgICAgKiAgICAgY2F0LmFkZENvbm5lY3Rpb24oJ2ZyaWVuZHMnLCB7YXJnczoge2ZpcnN0OiAxMH0sIGFsaWFzOiAnY29vbENhdHMnfSwgKGZyaWVuZHMpID0+IHtcbiAgICAgKiAgICAgICBmcmllbmRzLmFkZCgnbmFtZScpO1xuICAgICAqICAgICB9KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbm5lY3Rpb24gdG8gYWRkIHRvIHRoZSBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb24gdGhlIHF1ZXJ5IGluY2x1ZGluZzpcbiAgICAgKiAgIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5hcmdzXSBBcmd1bWVudHMgb24gdGhlIHF1ZXJ5IChlLmcuIGB7Zmlyc3Q6IDEwfWApLlxuICAgICAqICAgQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmFsaWFzXSBBbGlhcyBmb3IgdGhlIGZpZWxkIGJlaW5nIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U2VsZWN0aW9uU2V0fSAgW2NhbGxiYWNrT3JTZWxlY3Rpb25TZXRdIEVpdGhlciBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBuZXcge0BsaW5rIFNlbGVjdGlvblNldH0sIG9yIGFuIGV4aXN0aW5nIHtAbGluayBTZWxlY3Rpb25TZXR9LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRDb25uZWN0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29ubmVjdGlvbihuYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGNyZWF0aW9uQXJncyA9IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgY3JlYXRpb25BcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3BhcnNlRmllbGRDcmVhdGlvbkFyID0gcGFyc2VGaWVsZENyZWF0aW9uQXJncyhjcmVhdGlvbkFyZ3MpLFxuICAgICAgICAgIG9wdGlvbnMgPSBfcGFyc2VGaWVsZENyZWF0aW9uQXIub3B0aW9ucyxcbiAgICAgICAgICBjYWxsYmFjayA9IF9wYXJzZUZpZWxkQ3JlYXRpb25Bci5jYWxsYmFjayxcbiAgICAgICAgICBzZWxlY3Rpb25TZXQgPSBfcGFyc2VGaWVsZENyZWF0aW9uQXIuc2VsZWN0aW9uU2V0O1xuXG4gICAgICB0aGlzLmFkZChuYW1lLCBvcHRpb25zLCBmdW5jdGlvbiAoY29ubmVjdGlvbikge1xuICAgICAgICBjb25uZWN0aW9uLmFkZCgncGFnZUluZm8nLCB7fSwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKCdoYXNOZXh0UGFnZScpO1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZCgnaGFzUHJldmlvdXNQYWdlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25uZWN0aW9uLmFkZCgnZWRnZXMnLCB7fSwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgZWRnZXMuYWRkKCdjdXJzb3InKTtcbiAgICAgICAgICBlZGdlcy5hZGRGaWVsZCgnbm9kZScsIHt9LCBzZWxlY3Rpb25TZXQgfHwgY2FsbGJhY2spOyAvLyBUaGlzIGlzIGJhZC4gRG9uJ3QgZG8gdGhpc1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gaW5saW5lIGZyYWdtZW50IG9uIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LnF1ZXJ5KChyb290KSA9PiB7XG4gICAgICogICByb290LmFkZCgnYW5pbWFsJywgKGFuaW1hbCkgPT4ge1xuICAgICAqICAgICBhbmltYWwuYWRkSW5saW5lRnJhZ21lbnRPbignY2F0JywgKGNhdCkgPT4ge1xuICAgICAqICAgICAgIGNhdC5hZGQoJ25hbWUnKTtcbiAgICAgKiAgICAgfSk7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlTmFtZSBUaGUgbmFtZSBvZiB0aGUgdHlwZSBvZiB0aGUgaW5saW5lIGZyYWdtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U2VsZWN0aW9uU2V0fSAgW2NhbGxiYWNrT3JTZWxlY3Rpb25TZXRdIEVpdGhlciBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBuZXcge0BsaW5rIFNlbGVjdGlvblNldH0sIG9yIGFuIGV4aXN0aW5nIHtAbGluayBTZWxlY3Rpb25TZXR9LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRJbmxpbmVGcmFnbWVudE9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5saW5lRnJhZ21lbnRPbih0eXBlTmFtZSkge1xuICAgICAgdmFyIGZpZWxkVHlwZUNiID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuXG4gICAgICB0aGlzLmFkZCh0aGlzLmlubGluZUZyYWdtZW50T24odHlwZU5hbWUsIGZpZWxkVHlwZUNiKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZyYWdtZW50IHNwcmVhZCBvbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNsaWVudC5xdWVyeSgocm9vdCkgPT4ge1xuICAgICAqICAgcm9vdC5hZGRGcmFnbWVudChjYXRGcmFnbWVudFNwcmVhZCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ZyYWdtZW50U3ByZWFkfSBmcmFnbWVudFNwcmVhZCBUaGUgZnJhZ21lbnQgc3ByZWFkIHRvIGFkZC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWRkRnJhZ21lbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRGcmFnbWVudChmcmFnbWVudFNwcmVhZCkge1xuICAgICAgdGhpcy5hZGQoZnJhZ21lbnRTcHJlYWQpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2VsZWN0aW9uU2V0QnVpbGRlcjtcbn0oKTtcblxuZnVuY3Rpb24gcGFyc2VBcmdzKGFyZ3MpIHtcbiAgdmFyIG5hbWUgPSB2b2lkIDA7XG4gIHZhciB2YXJpYWJsZXMgPSB2b2lkIDA7XG4gIHZhciBzZWxlY3Rpb25TZXRDYWxsYmFjayA9IHZvaWQgMDtcblxuICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICB2YXIgX2FyZ3MgPSBzbGljZWRUb0FycmF5KGFyZ3MsIDMpO1xuXG4gICAgbmFtZSA9IF9hcmdzWzBdO1xuICAgIHZhcmlhYmxlcyA9IF9hcmdzWzFdO1xuICAgIHNlbGVjdGlvblNldENhbGxiYWNrID0gX2FyZ3NbMl07XG4gIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3NbMF0pID09PSAnW29iamVjdCBTdHJpbmddJykge1xuICAgICAgbmFtZSA9IGFyZ3NbMF07XG4gICAgICB2YXJpYWJsZXMgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgdmFyaWFibGVzID0gYXJnc1swXTtcbiAgICAgIG5hbWUgPSBudWxsO1xuICAgIH1cblxuICAgIHNlbGVjdGlvblNldENhbGxiYWNrID0gYXJnc1sxXTtcbiAgfSBlbHNlIHtcbiAgICBzZWxlY3Rpb25TZXRDYWxsYmFjayA9IGFyZ3NbMF07XG4gICAgbmFtZSA9IG51bGw7XG4gIH1cblxuICByZXR1cm4geyBuYW1lOiBuYW1lLCB2YXJpYWJsZXM6IHZhcmlhYmxlcywgc2VsZWN0aW9uU2V0Q2FsbGJhY2s6IHNlbGVjdGlvblNldENhbGxiYWNrIH07XG59XG5cbnZhciBWYXJpYWJsZURlZmluaXRpb25zID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBWYXJpYWJsZURlZmluaXRpb25zKHZhcmlhYmxlRGVmaW5pdGlvbnMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBWYXJpYWJsZURlZmluaXRpb25zKTtcblxuICAgIHRoaXMudmFyaWFibGVEZWZpbml0aW9ucyA9IHZhcmlhYmxlRGVmaW5pdGlvbnMgPyBbXS5jb25jYXQodG9Db25zdW1hYmxlQXJyYXkodmFyaWFibGVEZWZpbml0aW9ucykpIDogW107XG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzLnZhcmlhYmxlRGVmaW5pdGlvbnMpO1xuICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhWYXJpYWJsZURlZmluaXRpb25zLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICBpZiAodGhpcy52YXJpYWJsZURlZmluaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnICgnICsgam9pbih0aGlzLnZhcmlhYmxlRGVmaW5pdGlvbnMpICsgJykgJztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFZhcmlhYmxlRGVmaW5pdGlvbnM7XG59KCk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3Ige0BsaW5rIFF1ZXJ5fSBhbmQge0BsaW5rIE11dGF0aW9ufS5cbiAqIEBhYnN0cmFjdFxuICovXG5cbnZhciBPcGVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIFRoaXMgY29uc3RydWN0b3Igc2hvdWxkIG5vdCBiZSBpbnZva2VkLiBUaGUgc3ViY2xhc3NlcyB7QGxpbmsgUXVlcnl9IGFuZCB7QGxpbmsgTXV0YXRpb259IHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gICAqL1xuICBmdW5jdGlvbiBPcGVyYXRpb24odHlwZUJ1bmRsZSwgb3BlcmF0aW9uVHlwZSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIE9wZXJhdGlvbik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfcGFyc2VBcmdzID0gcGFyc2VBcmdzKGFyZ3MpLFxuICAgICAgICBuYW1lID0gX3BhcnNlQXJncy5uYW1lLFxuICAgICAgICB2YXJpYWJsZXMgPSBfcGFyc2VBcmdzLnZhcmlhYmxlcyxcbiAgICAgICAgc2VsZWN0aW9uU2V0Q2FsbGJhY2sgPSBfcGFyc2VBcmdzLnNlbGVjdGlvblNldENhbGxiYWNrO1xuXG4gICAgdGhpcy50eXBlQnVuZGxlID0gdHlwZUJ1bmRsZTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudmFyaWFibGVEZWZpbml0aW9ucyA9IG5ldyBWYXJpYWJsZURlZmluaXRpb25zKHZhcmlhYmxlcyk7XG4gICAgdGhpcy5vcGVyYXRpb25UeXBlID0gb3BlcmF0aW9uVHlwZTtcbiAgICBpZiAob3BlcmF0aW9uVHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TZXQgPSBuZXcgU2VsZWN0aW9uU2V0KHR5cGVCdW5kbGUsIHR5cGVCdW5kbGUucXVlcnlUeXBlLCBzZWxlY3Rpb25TZXRDYWxsYmFjayk7XG4gICAgICB0aGlzLnR5cGVTY2hlbWEgPSBzY2hlbWFGb3JUeXBlKHR5cGVCdW5kbGUsIHR5cGVCdW5kbGUucXVlcnlUeXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TZXQgPSBuZXcgU2VsZWN0aW9uU2V0KHR5cGVCdW5kbGUsIHR5cGVCdW5kbGUubXV0YXRpb25UeXBlLCBzZWxlY3Rpb25TZXRDYWxsYmFjayk7XG4gICAgICB0aGlzLnR5cGVTY2hlbWEgPSBzY2hlbWFGb3JUeXBlKHR5cGVCdW5kbGUsIHR5cGVCdW5kbGUubXV0YXRpb25UeXBlKTtcbiAgICB9XG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBvcGVyYXRpb24gaXMgYW5vbnltb3VzIChpLmUuIGhhcyBubyBuYW1lKS5cbiAgICovXG5cbiAgY3JlYXRlQ2xhc3MoT3BlcmF0aW9uLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgb3IgbXV0YXRpb24gc3RyaW5nIChlLmcuIGBxdWVyeSBteVF1ZXJ5IHsgY2F0IHsgbmFtZSB9IH1gKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEdyYXBoUUwgcXVlcnkgb3IgbXV0YXRpb24gc3RyaW5nLlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHZhciBuYW1lU3RyaW5nID0gdGhpcy5uYW1lID8gJyAnICsgdGhpcy5uYW1lIDogJyc7XG5cbiAgICAgIHJldHVybiAnJyArIHRoaXMub3BlcmF0aW9uVHlwZSArIG5hbWVTdHJpbmcgKyB0aGlzLnZhcmlhYmxlRGVmaW5pdGlvbnMgKyB0aGlzLnNlbGVjdGlvblNldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0Fub255bW91cycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICByZXR1cm4gIXRoaXMubmFtZTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE9wZXJhdGlvbjtcbn0oKTtcblxuLyoqXG4gKiBHcmFwaFFMIFF1ZXJ5IGNsYXNzLlxuICogQGV4dGVuZHMgT3BlcmF0aW9uXG4gKi9cblxudmFyIFF1ZXJ5ID0gZnVuY3Rpb24gKF9PcGVyYXRpb24pIHtcbiAgaW5oZXJpdHMoUXVlcnksIF9PcGVyYXRpb24pO1xuXG4gIC8qKlxuICAgKiBUaGlzIGNvbnN0cnVjdG9yIHNob3VsZCBub3QgYmUgaW52b2tlZCBkaXJlY3RseS5cbiAgICogVXNlIHRoZSBmYWN0b3J5IGZ1bmN0aW9ucyB7QGxpbmsgQ2xpZW50I3F1ZXJ5fSBvciB7QGxpbmsgRG9jdW1lbnQjYWRkUXVlcnl9IHRvIGNyZWF0ZSBhIFF1ZXJ5LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZUJ1bmRsZSBBIHNldCBvZiBFUzYgbW9kdWxlcyBnZW5lcmF0ZWQgYnkge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9TaG9waWZ5L2dyYXBocWwtanMtc2NoZW1hfGdyYXBocWwtanMtc2NoZW1hfS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSBBIG5hbWUgZm9yIHRoZSBxdWVyeS5cbiAgICogQHBhcmFtIHtPYmplY3RbXX0gW3ZhcmlhYmxlc10gQSBsaXN0IG9mIHZhcmlhYmxlcyBpbiB0aGUgcXVlcnkuIFNlZSB7QGxpbmsgQ2xpZW50I3ZhcmlhYmxlfS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2VsZWN0aW9uU2V0Q2FsbGJhY2sgVGhlIHF1ZXJ5IGJ1aWxkZXIgY2FsbGJhY2suXG4gICAqICAgQSB7QGxpbmsgU2VsZWN0aW9uU2V0fSBpcyBjcmVhdGVkIHVzaW5nIHRoaXMgY2FsbGJhY2suXG4gICAqL1xuICBmdW5jdGlvbiBRdWVyeSh0eXBlQnVuZGxlKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBRdWVyeSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gUXVlcnkuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRdWVyeSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXMsIHR5cGVCdW5kbGUsICdxdWVyeSddLmNvbmNhdChhcmdzKSkpO1xuICB9XG5cbiAgcmV0dXJuIFF1ZXJ5O1xufShPcGVyYXRpb24pO1xuXG4vKipcbiAqIEdyYXBoUUwgTXV0YXRpb24gY2xhc3MuXG4gKiBAZXh0ZW5kcyBPcGVyYXRpb25cbiAqL1xuXG52YXIgTXV0YXRpb24gPSBmdW5jdGlvbiAoX09wZXJhdGlvbikge1xuICBpbmhlcml0cyhNdXRhdGlvbiwgX09wZXJhdGlvbik7XG5cbiAgLyoqXG4gICAqIFRoaXMgY29uc3RydWN0b3Igc2hvdWxkIG5vdCBiZSBpbnZva2VkIGRpcmVjdGx5LlxuICAgKiBVc2UgdGhlIGZhY3RvcnkgZnVuY3Rpb25zIHtAbGluayBDbGllbnQjbXV0YXRpb259IG9yIHtAbGluayBEb2N1bWVudCNhZGRNdXRhdGlvbn0gdG8gY3JlYXRlIGEgTXV0YXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlQnVuZGxlIEEgc2V0IG9mIEVTNiBtb2R1bGVzIGdlbmVyYXRlZCBieSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL1Nob3BpZnkvZ3JhcGhxbC1qcy1zY2hlbWF8Z3JhcGhxbC1qcy1zY2hlbWF9LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIEEgbmFtZSBmb3IgdGhlIG11dGF0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdFtdfSBbdmFyaWFibGVzXSBBIGxpc3Qgb2YgdmFyaWFibGVzIGluIHRoZSBtdXRhdGlvbi4gU2VlIHtAbGluayBDbGllbnQjdmFyaWFibGV9LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZWxlY3Rpb25TZXRDYWxsYmFjayBUaGUgbXV0YXRpb24gYnVpbGRlciBjYWxsYmFjay5cbiAgICogICBBIHtAbGluayBTZWxlY3Rpb25TZXR9IGlzIGNyZWF0ZWQgdXNpbmcgdGhpcyBjYWxsYmFjay5cbiAgICovXG4gIGZ1bmN0aW9uIE11dGF0aW9uKHR5cGVCdW5kbGUpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIE11dGF0aW9uKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBNdXRhdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE11dGF0aW9uKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpcywgdHlwZUJ1bmRsZSwgJ211dGF0aW9uJ10uY29uY2F0KGFyZ3MpKSk7XG4gIH1cblxuICByZXR1cm4gTXV0YXRpb247XG59KE9wZXJhdGlvbik7XG5cbmZ1bmN0aW9uIGlzQW5vbnltb3VzKG9wZXJhdGlvbikge1xuICByZXR1cm4gb3BlcmF0aW9uLmlzQW5vbnltb3VzO1xufVxuXG5mdW5jdGlvbiBoYXNBbm9ueW1vdXNPcGVyYXRpb25zKG9wZXJhdGlvbnMpIHtcbiAgcmV0dXJuIG9wZXJhdGlvbnMuc29tZShpc0Fub255bW91cyk7XG59XG5cbmZ1bmN0aW9uIGhhc0R1cGxpY2F0ZU9wZXJhdGlvbk5hbWVzKG9wZXJhdGlvbnMpIHtcbiAgdmFyIG5hbWVzID0gb3BlcmF0aW9ucy5tYXAoZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuICAgIHJldHVybiBvcGVyYXRpb24ubmFtZTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5hbWVzLnJlZHVjZShmdW5jdGlvbiAoaGFzRHVwbGljYXRlcywgbmFtZSwgaW5kZXgpIHtcbiAgICByZXR1cm4gaGFzRHVwbGljYXRlcyB8fCBuYW1lcy5pbmRleE9mKG5hbWUpICE9PSBpbmRleDtcbiAgfSwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0T3BlcmF0aW9uKHR5cGVCdW5kbGUsIG9wZXJhdGlvblR5cGUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoT3BlcmF0aW9uLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGFyZ3NbMF0pKSB7XG4gICAgcmV0dXJuIGFyZ3NbMF07XG4gIH1cblxuICBpZiAob3BlcmF0aW9uVHlwZSA9PT0gJ3F1ZXJ5Jykge1xuICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KFF1ZXJ5LCBbbnVsbF0uY29uY2F0KFt0eXBlQnVuZGxlXSwgYXJncykpKSgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KE11dGF0aW9uLCBbbnVsbF0uY29uY2F0KFt0eXBlQnVuZGxlXSwgYXJncykpKSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSW52YWxpZE9wZXJhdGlvbkNvbWJpbmF0aW9uKG9wZXJhdGlvbnMpIHtcbiAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGhhc0Fub255bW91c09wZXJhdGlvbnMob3BlcmF0aW9ucykgfHwgaGFzRHVwbGljYXRlT3BlcmF0aW9uTmFtZXMob3BlcmF0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGZyYWdtZW50TmFtZUlzTm90VW5pcXVlKGV4aXN0aW5nRGVmaW5pdGlvbnMsIG5hbWUpIHtcbiAgcmV0dXJuIGV4aXN0aW5nRGVmaW5pdGlvbnMuc29tZShmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICAgIHJldHVybiBkZWZpbml0aW9uLm5hbWUgPT09IG5hbWU7XG4gIH0pO1xufVxuXG52YXIgRG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIFRoaXMgY29uc3RydWN0b3Igc2hvdWxkIG5vdCBiZSBpbnZva2VkIGRpcmVjdGx5LlxuICAgKiBVc2UgdGhlIGZhY3RvcnkgZnVuY3Rpb24ge0BsaW5rIENsaWVudCNkb2N1bWVudH0gdG8gY3JlYXRlIGEgRG9jdW1lbnQuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlQnVuZGxlIEEgc2V0IG9mIEVTNiBtb2R1bGVzIGdlbmVyYXRlZCBieSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL1Nob3BpZnkvZ3JhcGhxbC1qcy1zY2hlbWF8Z3JhcGhxbC1qcy1zY2hlbWF9LlxuICAgKi9cbiAgZnVuY3Rpb24gRG9jdW1lbnQodHlwZUJ1bmRsZSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIERvY3VtZW50KTtcblxuICAgIHRoaXMudHlwZUJ1bmRsZSA9IHR5cGVCdW5kbGU7XG4gICAgdGhpcy5kZWZpbml0aW9ucyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIEdyYXBoUUwgcXVlcnkgc3RyaW5nIGZvciB0aGUgRG9jdW1lbnQgKGUuZy4gYHF1ZXJ5IHF1ZXJ5T25lIHsgLi4uIH0gcXVlcnkgcXVlcnlUd28geyAuLi4gfWApLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBHcmFwaFFMIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIERvY3VtZW50LlxuICAgKi9cblxuICBjcmVhdGVDbGFzcyhEb2N1bWVudCwgW3tcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIGpvaW4odGhpcy5kZWZpbml0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBvcGVyYXRpb24gdG8gdGhlIERvY3VtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3BlcmF0aW9uVHlwZSBUaGUgdHlwZSBvZiB0aGUgb3BlcmF0aW9uLiBFaXRoZXIgJ3F1ZXJ5JyBvciAnbXV0YXRpb24nLlxuICAgICAqIEBwYXJhbSB7KE9wZXJhdGlvbnxTdHJpbmcpfSBbcXVlcnl8cXVlcnlOYW1lXSBFaXRoZXIgYW4gaW5zdGFuY2Ugb2YgYW4gb3BlcmF0aW9uXG4gICAgICogICBvYmplY3QsIG9yIHRoZSBuYW1lIG9mIGFuIG9wZXJhdGlvbi4gQm90aCBhcmUgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gW3ZhcmlhYmxlc10gQSBsaXN0IG9mIHZhcmlhYmxlcyBpbiB0aGUgb3BlcmF0aW9uLiBTZWUge0BsaW5rIENsaWVudCN2YXJpYWJsZX0uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgcXVlcnkgYnVpbGRlciBjYWxsYmFjay4gSWYgYW4gb3BlcmF0aW9uXG4gICAgICogICBpbnN0YW5jZSBpcyBwYXNzZWQsIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqICAgQSB7QGxpbmsgU2VsZWN0aW9uU2V0fSBpcyBjcmVhdGVkIHVzaW5nIHRoaXMgY2FsbGJhY2suXG4gICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRPcGVyYXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPcGVyYXRpb24ob3BlcmF0aW9uVHlwZSkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3BlcmF0aW9uID0gZXh0cmFjdE9wZXJhdGlvbi5hcHBseSh1bmRlZmluZWQsIFt0aGlzLnR5cGVCdW5kbGUsIG9wZXJhdGlvblR5cGVdLmNvbmNhdChhcmdzKSk7XG5cbiAgICAgIGlmIChpc0ludmFsaWRPcGVyYXRpb25Db21iaW5hdGlvbih0aGlzLm9wZXJhdGlvbnMuY29uY2F0KG9wZXJhdGlvbikpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIG9wZXJhdGlvbnMgbXVzdCBiZSB1bmlxdWVseSBuYW1lZCBvbiBhIG11bHRpLW9wZXJhdGlvbiBkb2N1bWVudCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRlZmluaXRpb25zLnB1c2gob3BlcmF0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVlcnkgdG8gdGhlIERvY3VtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBkb2N1bWVudC5hZGRRdWVyeSgnbXlRdWVyeScsIChyb290KSA9PiB7XG4gICAgICogICByb290LmFkZCgnY2F0JywgKGNhdCkgPT4ge1xuICAgICAqICAgIGNhdC5hZGQoJ25hbWUnKTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHsoUXVlcnl8U3RyaW5nKX0gW3F1ZXJ5fHF1ZXJ5TmFtZV0gRWl0aGVyIGFuIGluc3RhbmNlIG9mIGEgcXVlcnlcbiAgICAgKiAgIG9iamVjdCwgb3IgdGhlIG5hbWUgb2YgYSBxdWVyeS4gQm90aCBhcmUgb3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gW3ZhcmlhYmxlc10gQSBsaXN0IG9mIHZhcmlhYmxlcyBpbiB0aGUgcXVlcnkuIFNlZSB7QGxpbmsgQ2xpZW50I3ZhcmlhYmxlfS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBxdWVyeSBidWlsZGVyIGNhbGxiYWNrLiBJZiBhIHF1ZXJ5XG4gICAgICogICBpbnN0YW5jZSBpcyBwYXNzZWQsIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqICAgQSB7QGxpbmsgU2VsZWN0aW9uU2V0fSBpcyBjcmVhdGVkIHVzaW5nIHRoaXMgY2FsbGJhY2suXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZFF1ZXJ5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUXVlcnkoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkT3BlcmF0aW9uLmFwcGx5KHRoaXMsIFsncXVlcnknXS5jb25jYXQoYXJncykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBtdXRhdGlvbiB0byB0aGUgRG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlucHV0ID0gY2xpZW50LnZhcmlhYmxlKCdpbnB1dCcsICdDYXRDcmVhdGVJbnB1dCEnKTtcbiAgICAgKlxuICAgICAqIGRvY3VtZW50LmFkZE11dGF0aW9uKCdteU11dGF0aW9uJywgW2lucHV0XSwgKHJvb3QpID0+IHtcbiAgICAgKiAgIHJvb3QuYWRkKCdjYXRDcmVhdGUnLCB7YXJnczoge2lucHV0fX0sIChjYXRDcmVhdGUpID0+IHtcbiAgICAgKiAgICAgY2F0Q3JlYXRlLmFkZCgnY2F0JywgKGNhdCkgPT4ge1xuICAgICAqICAgICAgIGNhdC5hZGQoJ25hbWUnKTtcbiAgICAgKiAgICAgfSk7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7KE11dGF0aW9ufFN0cmluZyl9IFttdXRhdGlvbnxtdXRhdGlvbk5hbWVdIEVpdGhlciBhbiBpbnN0YW5jZSBvZiBhIG11dGF0aW9uXG4gICAgICogICBvYmplY3QsIG9yIHRoZSBuYW1lIG9mIGEgbXV0YXRpb24uIEJvdGggYXJlIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IFt2YXJpYWJsZXNdIEEgbGlzdCBvZiB2YXJpYWJsZXMgaW4gdGhlIG11dGF0aW9uLiBTZWUge0BsaW5rIENsaWVudCN2YXJpYWJsZX0uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgbXV0YXRpb24gYnVpbGRlciBjYWxsYmFjay4gSWYgYSBtdXRhdGlvblxuICAgICAqICAgaW5zdGFuY2UgaXMgcGFzc2VkLCB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiAgIEEge0BsaW5rIFNlbGVjdGlvblNldH0gaXMgY3JlYXRlZCB1c2luZyB0aGlzIGNhbGxiYWNrLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRNdXRhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE11dGF0aW9uKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZE9wZXJhdGlvbi5hcHBseSh0aGlzLCBbJ211dGF0aW9uJ10uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGEgZnJhZ21lbnQgb24gdGhlIERvY3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGZyYWdtZW50LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvblR5cGUgVGhlIHR5cGUgdGhlIGZyYWdtZW50IGlzIG9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtidWlsZGVyRnVuY3Rpb25dIFRoZSBxdWVyeSBidWlsZGVyIGNhbGxiYWNrLlxuICAgICAqICAgQSB7QGxpbmsgU2VsZWN0aW9uU2V0fSBpcyBjcmVhdGVkIHVzaW5nIHRoaXMgY2FsbGJhY2suXG4gICAgICogQHJldHVybiB7RnJhZ21lbnRTcHJlYWR9IEEge0BsaW5rIEZyYWdtZW50U3ByZWFkfSB0byBiZSB1c2VkIHdpdGgge0BsaW5rIFNlbGVjdGlvblNldEJ1aWxkZXIjYWRkRnJhZ21lbnR9LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZWZpbmVGcmFnbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmluZUZyYWdtZW50KG5hbWUsIG9uVHlwZSwgYnVpbGRlckZ1bmN0aW9uKSB7XG4gICAgICBpZiAoZnJhZ21lbnROYW1lSXNOb3RVbmlxdWUodGhpcy5mcmFnbWVudERlZmluaXRpb25zLCBuYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBmcmFnbWVudHMgbXVzdCBiZSB1bmlxdWVseSBuYW1lZCBvbiBhIG11bHRpLWZyYWdtZW50IGRvY3VtZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3Rpb25TZXQgPSBuZXcgU2VsZWN0aW9uU2V0KHRoaXMudHlwZUJ1bmRsZSwgb25UeXBlLCBidWlsZGVyRnVuY3Rpb24pO1xuICAgICAgdmFyIGZyYWdtZW50ID0gbmV3IEZyYWdtZW50RGVmaW5pdGlvbihuYW1lLCBvblR5cGUsIHNlbGVjdGlvblNldCk7XG5cbiAgICAgIHRoaXMuZGVmaW5pdGlvbnMucHVzaChmcmFnbWVudCk7XG5cbiAgICAgIHJldHVybiBmcmFnbWVudC5zcHJlYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxsIG9wZXJhdGlvbnMgKHtAbGluayBRdWVyeX0gYW5kIHtAbGluayBNdXRhdGlvbn0pIG9uIHRoZSBEb2N1bWVudC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb3BlcmF0aW9ucycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIE9wZXJhdGlvbi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihkZWZpbml0aW9uKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbCB7QGxpbmsgRnJhZ21lbnREZWZpbml0aW9ufXMgb24gdGhlIERvY3VtZW50LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmcmFnbWVudERlZmluaXRpb25zJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb25zLmZpbHRlcihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICAgICAgICByZXR1cm4gRnJhZ21lbnREZWZpbml0aW9uLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGRlZmluaXRpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBEb2N1bWVudDtcbn0oKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyB1c2VkIHdoZW4gZGVzZXJpYWxpemluZyByZXNwb25zZSBkYXRhLlxuICogUHJvdmlkZXMgcmljaCBmZWF0dXJlcywgbGlrZSBmdW5jdGlvbnMgdG8gZ2VuZXJhdGUgcXVlcmllcyB0byByZWZldGNoIGEgbm9kZSBvciBmZXRjaCB0aGUgbmV4dCBwYWdlLlxuICpcbiAqIEBjbGFzc1xuICovXG52YXIgR3JhcGhNb2RlbCA9XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIEF0dHJpYnV0ZXMgb24gdGhlIEdyYXBoTW9kZWwuXG4gKi9cbmZ1bmN0aW9uIEdyYXBoTW9kZWwoYXR0cnMpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaE1vZGVsKTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2F0dHJzJywgeyB2YWx1ZTogYXR0cnMsIGVudW1lcmFibGU6IGZhbHNlIH0pO1xuXG4gIE9iamVjdC5rZXlzKHRoaXMuYXR0cnMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICEoa2V5IGluIF90aGlzKTtcbiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSB2b2lkIDA7XG5cbiAgICBpZiAoYXR0cnNba2V5XSA9PT0gbnVsbCkge1xuICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQkJDEoKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzW2tleV0udmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMsIGtleSwgZGVzY3JpcHRvcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBIHJlZ2lzdHJ5IG9mIGNsYXNzZXMgdXNlZCB0byBkZXNlcmlhbGl6ZSB0aGUgcmVzcG9uc2UgZGF0YS4gVXNlcyB7QGxpbmsgR3JhcGhNb2RlbH0gYnkgZGVmYXVsdC5cbiAqL1xuXG52YXIgQ2xhc3NSZWdpc3RyeSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQ2xhc3NSZWdpc3RyeSgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBDbGFzc1JlZ2lzdHJ5KTtcblxuICAgIHRoaXMuY2xhc3NTdG9yZSA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNsYXNzIGZvciBhIEdyYXBoUUwgdHlwZSBpbiB0aGUgcmVnaXN0cnkuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2xhc3N9IGNvbnN0cnVjdG9yIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY2xhc3MuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBHcmFwaFFMIHR5cGUgb2YgdGhlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvIHRoZSBjbGFzcy5cbiAgICovXG5cbiAgY3JlYXRlQ2xhc3MoQ2xhc3NSZWdpc3RyeSwgW3tcbiAgICBrZXk6ICdyZWdpc3RlckNsYXNzRm9yVHlwZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyQ2xhc3NGb3JUeXBlKGNvbnN0cnVjdG9yLCB0eXBlKSB7XG4gICAgICB0aGlzLmNsYXNzU3RvcmVbdHlwZV0gPSBjb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyBhIGNsYXNzIGZvciBhIEdyYXBoUUwgdHlwZSBpbiB0aGUgcmVnaXN0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgR3JhcGhRTCB0eXBlIHRvIHVucmVnaXN0ZXIuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VucmVnaXN0ZXJDbGFzc0ZvclR5cGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnJlZ2lzdGVyQ2xhc3NGb3JUeXBlKHR5cGUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmNsYXNzU3RvcmVbdHlwZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2xhc3MgZm9yIHRoZSBnaXZlbiBHcmFwaFFMIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgR3JhcGhRTCB0eXBlIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybiB7Q2xhc3N8R3JhcGhNb2RlbH0gVGhlIGNsYXNzIGZvciB0aGUgZ2l2ZW4gR3JhcGhRTCB0eXBlLiBEZWZhdWx0cyB0byB7QGxpbmsgR3JhcGhNb2RlbH0gaWYgbm8gY2xhc3MgaXMgcmVnaXN0ZXJlZCBmb3IgdGhlIEdyYXBoUUwgdHlwZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2xhc3NGb3JUeXBlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xhc3NGb3JUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsYXNzU3RvcmVbdHlwZV0gfHwgR3JhcGhNb2RlbDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsYXNzUmVnaXN0cnk7XG59KCk7XG5cbmZ1bmN0aW9uIGlzVmFsdWUoYXJnKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSAhPT0gJ1tvYmplY3QgTnVsbF0nICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpICE9PSAnW29iamVjdCBVbmRlZmluZWRdJztcbn1cblxuZnVuY3Rpb24gaXNOb2RlQ29udGV4dChjb250ZXh0KSB7XG4gIHJldHVybiBjb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQudHlwZVNjaGVtYS5pbXBsZW1lbnRzTm9kZTtcbn1cblxuZnVuY3Rpb24gaXNDb25uZWN0aW9uKGNvbnRleHQpIHtcbiAgcmV0dXJuIGNvbnRleHQuc2VsZWN0aW9uLnNlbGVjdGlvblNldC50eXBlU2NoZW1hLm5hbWUuZW5kc1dpdGgoJ0Nvbm5lY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gbmVhcmVzdE5vZGUoY29udGV4dCkge1xuICBpZiAoY29udGV4dCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNOb2RlQ29udGV4dChjb250ZXh0KSkge1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZWFyZXN0Tm9kZShjb250ZXh0LnBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udGV4dHNGcm9tUm9vdChjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LnBhcmVudCkge1xuICAgIHJldHVybiBjb250ZXh0c0Zyb21Sb290KGNvbnRleHQucGFyZW50KS5jb25jYXQoY29udGV4dCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtjb250ZXh0XTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb250ZXh0c0Zyb21OZWFyZXN0Tm9kZShjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQudHlwZVNjaGVtYS5pbXBsZW1lbnRzTm9kZSkge1xuICAgIHJldHVybiBbY29udGV4dF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRleHRzRnJvbU5lYXJlc3ROb2RlKGNvbnRleHQucGFyZW50KS5jb25jYXQoY29udGV4dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZURvY3VtZW50QW5kVmFycyhjdXJyZW50Q29udGV4dCwgY29udGV4dENoYWluKSB7XG4gIHZhciBsYXN0SW5DaGFpbiA9IGNvbnRleHRDaGFpbltjb250ZXh0Q2hhaW4ubGVuZ3RoIC0gMV07XG4gIHZhciBmaXJzdCA9IGxhc3RJbkNoYWluLnNlbGVjdGlvbi5hcmdzLmZpcnN0O1xuICB2YXIgdmFyaWFibGVEZWZpbml0aW9ucyA9IE9iamVjdC5rZXlzKGxhc3RJbkNoYWluLnNlbGVjdGlvbi5hcmdzKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBpc1ZhcmlhYmxlKGxhc3RJbkNoYWluLnNlbGVjdGlvbi5hcmdzW2tleV0pO1xuICB9KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBsYXN0SW5DaGFpbi5zZWxlY3Rpb24uYXJnc1trZXldO1xuICB9KTtcblxuICB2YXIgZmlyc3RWYXIgPSB2YXJpYWJsZURlZmluaXRpb25zLmZpbmQoZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvbi5uYW1lID09PSAnZmlyc3QnO1xuICB9KTtcblxuICBpZiAoIWZpcnN0VmFyKSB7XG4gICAgaWYgKGlzVmFyaWFibGUoZmlyc3QpKSB7XG4gICAgICBmaXJzdFZhciA9IGZpcnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXJzdFZhciA9IHZhcmlhYmxlKCdmaXJzdCcsICdJbnQnLCBmaXJzdCk7XG4gICAgICB2YXJpYWJsZURlZmluaXRpb25zLnB1c2goZmlyc3RWYXIpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkb2N1bWVudCA9IG5ldyBEb2N1bWVudChjdXJyZW50Q29udGV4dC5zZWxlY3Rpb24uc2VsZWN0aW9uU2V0LnR5cGVCdW5kbGUpO1xuXG4gIHJldHVybiBbZG9jdW1lbnQsIHZhcmlhYmxlRGVmaW5pdGlvbnMsIGZpcnN0VmFyXTtcbn1cblxuZnVuY3Rpb24gYWRkTmV4dEZpZWxkVG8oY3VycmVudFNlbGVjdGlvbiwgY29udGV4dENoYWluLCBwYXRoLCBjdXJzb3IpIHtcbiAgLy8gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28uIFdoZW4gd2Ugc3RhcnQsIGl0J3MgdGhlIHJvb3QgY29udGV4dCwgYW5kIHRoZSBmaXJzdCBzZXRcbiAgdmFyIG5leHRDb250ZXh0ID0gY29udGV4dENoYWluLnNoaWZ0KCk7XG5cbiAgcGF0aC5wdXNoKG5leHRDb250ZXh0LnNlbGVjdGlvbi5yZXNwb25zZUtleSk7XG5cbiAgaWYgKGNvbnRleHRDaGFpbi5sZW5ndGgpIHtcbiAgICBjdXJyZW50U2VsZWN0aW9uLmFkZChuZXh0Q29udGV4dC5zZWxlY3Rpb24ubmFtZSwgeyBhbGlhczogbmV4dENvbnRleHQuc2VsZWN0aW9uLmFsaWFzLCBhcmdzOiBuZXh0Q29udGV4dC5zZWxlY3Rpb24uYXJncyB9LCBmdW5jdGlvbiAobmV3U2VsZWN0aW9uKSB7XG4gICAgICBhZGROZXh0RmllbGRUbyhuZXdTZWxlY3Rpb24sIGNvbnRleHRDaGFpbiwgcGF0aCwgY3Vyc29yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZWRnZXNGaWVsZCA9IG5leHRDb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQuc2VsZWN0aW9ucy5maW5kKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgcmV0dXJuIGZpZWxkLm5hbWUgPT09ICdlZGdlcyc7XG4gICAgfSk7XG4gICAgdmFyIG5vZGVGaWVsZCA9IGVkZ2VzRmllbGQuc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMuZmluZChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHJldHVybiBmaWVsZC5uYW1lID09PSAnbm9kZSc7XG4gICAgfSk7XG4gICAgdmFyIGZpcnN0ID0gdm9pZCAwO1xuXG4gICAgaWYgKGlzVmFyaWFibGUobmV4dENvbnRleHQuc2VsZWN0aW9uLmFyZ3MuZmlyc3QpKSB7XG4gICAgICBmaXJzdCA9IG5leHRDb250ZXh0LnNlbGVjdGlvbi5hcmdzLmZpcnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBmaXJzdCA9IHZhcmlhYmxlKCdmaXJzdCcsICdJbnQnLCBuZXh0Q29udGV4dC5zZWxlY3Rpb24uYXJncy5maXJzdCk7XG4gICAgfVxuXG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBhbGlhczogbmV4dENvbnRleHQuc2VsZWN0aW9uLmFsaWFzLFxuICAgICAgYXJnczogT2JqZWN0LmFzc2lnbih7fSwgbmV4dENvbnRleHQuc2VsZWN0aW9uLmFyZ3MsIHsgYWZ0ZXI6IGN1cnNvciwgZmlyc3Q6IGZpcnN0IH0pXG4gICAgfTtcblxuICAgIGN1cnJlbnRTZWxlY3Rpb24uYWRkQ29ubmVjdGlvbihuZXh0Q29udGV4dC5zZWxlY3Rpb24ubmFtZSwgb3B0aW9ucywgbm9kZUZpZWxkLnNlbGVjdGlvblNldCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdEZyYWdtZW50cyhzZWxlY3Rpb25zKSB7XG4gIHJldHVybiBzZWxlY3Rpb25zLnJlZHVjZShmdW5jdGlvbiAoZnJhZ21lbnREZWZpbml0aW9ucywgZmllbGQpIHtcbiAgICBpZiAoRnJhZ21lbnRTcHJlYWQucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZmllbGQpKSB7XG4gICAgICBmcmFnbWVudERlZmluaXRpb25zLnB1c2goZmllbGQudG9EZWZpbml0aW9uKCkpO1xuICAgIH1cblxuICAgIGZyYWdtZW50RGVmaW5pdGlvbnMucHVzaC5hcHBseShmcmFnbWVudERlZmluaXRpb25zLCB0b0NvbnN1bWFibGVBcnJheShjb2xsZWN0RnJhZ21lbnRzKGZpZWxkLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zKSkpO1xuXG4gICAgcmV0dXJuIGZyYWdtZW50RGVmaW5pdGlvbnM7XG4gIH0sIFtdKTtcbn1cblxuZnVuY3Rpb24gbmV4dFBhZ2VRdWVyeUFuZFBhdGgoY29udGV4dCwgY3Vyc29yKSB7XG4gIHZhciBuZWFyZXN0Tm9kZUNvbnRleHQgPSBuZWFyZXN0Tm9kZShjb250ZXh0KTtcblxuICBpZiAobmVhcmVzdE5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZG9jdW1lbnQkZGVmaW5pdGlvbnM7XG5cbiAgICAgIHZhciBwYXRoID0gW107XG4gICAgICB2YXIgbm9kZVR5cGUgPSBuZWFyZXN0Tm9kZUNvbnRleHQuc2VsZWN0aW9uLnNlbGVjdGlvblNldC50eXBlU2NoZW1hO1xuICAgICAgdmFyIG5vZGVJZCA9IG5lYXJlc3ROb2RlQ29udGV4dC5yZXNwb25zZURhdGEuaWQ7XG4gICAgICB2YXIgY29udGV4dENoYWluID0gY29udGV4dHNGcm9tTmVhcmVzdE5vZGUoY29udGV4dCk7XG5cbiAgICAgIHZhciBfaW5pdGlhbGl6ZURvY3VtZW50QW4gPSBpbml0aWFsaXplRG9jdW1lbnRBbmRWYXJzKGNvbnRleHQsIGNvbnRleHRDaGFpbiksXG4gICAgICAgICAgX2luaXRpYWxpemVEb2N1bWVudEFuMiA9IHNsaWNlZFRvQXJyYXkoX2luaXRpYWxpemVEb2N1bWVudEFuLCAyKSxcbiAgICAgICAgICBkb2N1bWVudCA9IF9pbml0aWFsaXplRG9jdW1lbnRBbjJbMF0sXG4gICAgICAgICAgdmFyaWFibGVEZWZpbml0aW9ucyA9IF9pbml0aWFsaXplRG9jdW1lbnRBbjJbMV07XG5cbiAgICAgIGRvY3VtZW50LmFkZFF1ZXJ5KHZhcmlhYmxlRGVmaW5pdGlvbnMsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgICAgIHBhdGgucHVzaCgnbm9kZScpO1xuICAgICAgICByb290LmFkZCgnbm9kZScsIHsgYXJnczogeyBpZDogbm9kZUlkIH0gfSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZElubGluZUZyYWdtZW50T24obm9kZVR5cGUubmFtZSwgZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgICAgICBhZGROZXh0RmllbGRUbyhmcmFnbWVudCwgY29udGV4dENoYWluLnNsaWNlKDEpLCBwYXRoLCBjdXJzb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZnJhZ21lbnRzID0gY29sbGVjdEZyYWdtZW50cyhkb2N1bWVudC5vcGVyYXRpb25zWzBdLnNlbGVjdGlvblNldC5zZWxlY3Rpb25zKTtcblxuICAgICAgKF9kb2N1bWVudCRkZWZpbml0aW9ucyA9IGRvY3VtZW50LmRlZmluaXRpb25zKS51bnNoaWZ0LmFwcGx5KF9kb2N1bWVudCRkZWZpbml0aW9ucywgdG9Db25zdW1hYmxlQXJyYXkoZnJhZ21lbnRzKSk7XG5cbiAgICAgIHJldHVybiBbZG9jdW1lbnQsIHBhdGhdO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZG9jdW1lbnQkZGVmaW5pdGlvbnMyO1xuXG4gICAgICB2YXIgcGF0aCA9IFtdO1xuICAgICAgdmFyIGNvbnRleHRDaGFpbiA9IGNvbnRleHRzRnJvbVJvb3QoY29udGV4dCk7XG5cbiAgICAgIHZhciBfaW5pdGlhbGl6ZURvY3VtZW50QW4zID0gaW5pdGlhbGl6ZURvY3VtZW50QW5kVmFycyhjb250ZXh0LCBjb250ZXh0Q2hhaW4pLFxuICAgICAgICAgIF9pbml0aWFsaXplRG9jdW1lbnRBbjQgPSBzbGljZWRUb0FycmF5KF9pbml0aWFsaXplRG9jdW1lbnRBbjMsIDIpLFxuICAgICAgICAgIGRvY3VtZW50ID0gX2luaXRpYWxpemVEb2N1bWVudEFuNFswXSxcbiAgICAgICAgICB2YXJpYWJsZURlZmluaXRpb25zID0gX2luaXRpYWxpemVEb2N1bWVudEFuNFsxXTtcblxuICAgICAgZG9jdW1lbnQuYWRkUXVlcnkodmFyaWFibGVEZWZpbml0aW9ucywgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICAgICAgYWRkTmV4dEZpZWxkVG8ocm9vdCwgY29udGV4dENoYWluLnNsaWNlKDEpLCBwYXRoLCBjdXJzb3IpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBmcmFnbWVudHMgPSBjb2xsZWN0RnJhZ21lbnRzKGRvY3VtZW50Lm9wZXJhdGlvbnNbMF0uc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnMpO1xuXG4gICAgICAoX2RvY3VtZW50JGRlZmluaXRpb25zMiA9IGRvY3VtZW50LmRlZmluaXRpb25zKS51bnNoaWZ0LmFwcGx5KF9kb2N1bWVudCRkZWZpbml0aW9uczIsIHRvQ29uc3VtYWJsZUFycmF5KGZyYWdtZW50cykpO1xuXG4gICAgICByZXR1cm4gW2RvY3VtZW50LCBwYXRoXTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc05leHRQYWdlJDEoY29ubmVjdGlvbiwgZWRnZSkge1xuICBpZiAoZWRnZSAhPT0gY29ubmVjdGlvbi5lZGdlc1tjb25uZWN0aW9uLmVkZ2VzLmxlbmd0aCAtIDFdKSB7XG4gICAgcmV0dXJuIG5ldyBTY2FsYXIodHJ1ZSk7XG4gIH1cblxuICByZXR1cm4gY29ubmVjdGlvbi5wYWdlSW5mby5oYXNOZXh0UGFnZTtcbn1cblxuZnVuY3Rpb24gaGFzUHJldmlvdXNQYWdlKGNvbm5lY3Rpb24sIGVkZ2UpIHtcbiAgaWYgKGVkZ2UgIT09IGNvbm5lY3Rpb24uZWRnZXNbMF0pIHtcbiAgICByZXR1cm4gbmV3IFNjYWxhcih0cnVlKTtcbiAgfVxuXG4gIHJldHVybiBjb25uZWN0aW9uLnBhZ2VJbmZvLmhhc1ByZXZpb3VzUGFnZTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtQ29ubmVjdGlvbnModmFyaWFibGVWYWx1ZXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjb250ZXh0LCB2YWx1ZSkge1xuICAgIGlmIChpc0Nvbm5lY3Rpb24oY29udGV4dCkpIHtcbiAgICAgIGlmICghKHZhbHVlLnBhZ2VJbmZvICYmIHZhbHVlLnBhZ2VJbmZvLmhhc093blByb3BlcnR5KCdoYXNOZXh0UGFnZScpICYmIHZhbHVlLnBhZ2VJbmZvLmhhc093blByb3BlcnR5KCdoYXNQcmV2aW91c1BhZ2UnKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25uZWN0aW9ucyBtdXN0IGluY2x1ZGUgdGhlIHNlbGVjdGlvbnMgXCJwYWdlSW5mbyB7IGhhc05leHRQYWdlLCBoYXNQcmV2aW91c1BhZ2UgfVwiLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUuZWRnZXMubWFwKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGVkZ2Uubm9kZSwge1xuICAgICAgICAgIG5leHRQYWdlUXVlcnlBbmRQYXRoOiBuZXh0UGFnZVF1ZXJ5QW5kUGF0aChjb250ZXh0LCBlZGdlLmN1cnNvciksXG4gICAgICAgICAgaGFzTmV4dFBhZ2U6IGhhc05leHRQYWdlJDEodmFsdWUsIGVkZ2UpLFxuICAgICAgICAgIGhhc1ByZXZpb3VzUGFnZTogaGFzUHJldmlvdXNQYWdlKHZhbHVlLCBlZGdlKSxcbiAgICAgICAgICB2YXJpYWJsZVZhbHVlczogdmFyaWFibGVWYWx1ZXNcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfTtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8td2FybmluZy1jb21tZW50cyAqL1xudmFyIERlY29kaW5nQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGVjb2RpbmdDb250ZXh0KHNlbGVjdGlvbiwgcmVzcG9uc2VEYXRhKSB7XG4gICAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBEZWNvZGluZ0NvbnRleHQpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgdGhpcy5yZXNwb25zZURhdGEgPSByZXNwb25zZURhdGE7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKERlY29kaW5nQ29udGV4dCwgW3tcbiAgICBrZXk6ICdjb250ZXh0Rm9yT2JqZWN0UHJvcGVydHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb250ZXh0Rm9yT2JqZWN0UHJvcGVydHkocmVzcG9uc2VLZXkpIHtcbiAgICAgIHZhciBuZXN0ZWRTZWxlY3Rpb25zID0gdGhpcy5zZWxlY3Rpb24uc2VsZWN0aW9uU2V0LnNlbGVjdGlvbnNCeVJlc3BvbnNlS2V5W3Jlc3BvbnNlS2V5XTtcbiAgICAgIHZhciBuZXh0U2VsZWN0aW9uID0gbmVzdGVkU2VsZWN0aW9ucyAmJiBuZXN0ZWRTZWxlY3Rpb25zWzBdO1xuICAgICAgdmFyIG5leHRDb250ZXh0ID0gdm9pZCAwO1xuXG4gICAgICAvLyBmcmFnbWVudCBzcHJlYWRzIG9wZXJhdGUgaW5zaWRlIHRoZSBjdXJyZW50IGNvbnRleHQsIHNvIHdlIHJlY3Vyc2UgdG8gZ2V0IHRoZSBwcm9wZXJcbiAgICAgIC8vIHNlbGVjdGlvbiBzZXQsIGJ1dCByZXRhaW4gdGhlIGN1cnJlbnQgcmVzcG9uc2UgY29udGV4dFxuICAgICAgaWYgKFNwcmVhZC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihuZXh0U2VsZWN0aW9uKSkge1xuICAgICAgICBuZXh0Q29udGV4dCA9IG5ldyBEZWNvZGluZ0NvbnRleHQobmV4dFNlbGVjdGlvbiwgdGhpcy5yZXNwb25zZURhdGEsIHRoaXMucGFyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRDb250ZXh0ID0gbmV3IERlY29kaW5nQ29udGV4dChuZXh0U2VsZWN0aW9uLCB0aGlzLnJlc3BvbnNlRGF0YVtyZXNwb25zZUtleV0sIHRoaXMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW5leHRTZWxlY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHJlc3BvbnNlIGtleSBcIicgKyByZXNwb25zZUtleSArICdcIiwgbm90IGZvdW5kIGluIHNlbGVjdGlvbiBzZXQ6ICcgKyB0aGlzLnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoRmllbGQucHJvdG90eXBlLmlzUHJvdG90eXBlT2YobmV4dFNlbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIG5leHRDb250ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5leHRDb250ZXh0LmNvbnRleHRGb3JPYmplY3RQcm9wZXJ0eShyZXNwb25zZUtleSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29udGV4dEZvckFycmF5SXRlbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbnRleHRGb3JBcnJheUl0ZW0oaXRlbSkge1xuICAgICAgcmV0dXJuIG5ldyBEZWNvZGluZ0NvbnRleHQodGhpcy5zZWxlY3Rpb24sIGl0ZW0sIHRoaXMucGFyZW50KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIERlY29kaW5nQ29udGV4dDtcbn0oKTtcblxuZnVuY3Rpb24gZGVjb2RlQXJyYXlJdGVtcyhjb250ZXh0LCB0cmFuc2Zvcm1lcnMpIHtcbiAgcmV0dXJuIGNvbnRleHQucmVzcG9uc2VEYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBkZWNvZGVDb250ZXh0KGNvbnRleHQuY29udGV4dEZvckFycmF5SXRlbShpdGVtKSwgdHJhbnNmb3JtZXJzKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlY29kZU9iamVjdFZhbHVlcyhjb250ZXh0LCB0cmFuc2Zvcm1lcnMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbnRleHQucmVzcG9uc2VEYXRhKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcmVzcG9uc2VLZXkpIHtcbiAgICBhY2NbcmVzcG9uc2VLZXldID0gZGVjb2RlQ29udGV4dChjb250ZXh0LmNvbnRleHRGb3JPYmplY3RQcm9wZXJ0eShyZXNwb25zZUtleSksIHRyYW5zZm9ybWVycyk7XG5cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIHJ1blRyYW5zZm9ybWVycyh0cmFuc2Zvcm1lcnMsIGNvbnRleHQsIHZhbHVlKSB7XG4gIHJldHVybiB0cmFuc2Zvcm1lcnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHRyYW5zZm9ybWVyKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVyKGNvbnRleHQsIGFjYyk7XG4gIH0sIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlQ29udGV4dChjb250ZXh0LCB0cmFuc2Zvcm1lcnMpIHtcbiAgdmFyIHZhbHVlID0gY29udGV4dC5yZXNwb25zZURhdGE7XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBkZWNvZGVBcnJheUl0ZW1zKGNvbnRleHQsIHRyYW5zZm9ybWVycyk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBkZWNvZGVPYmplY3RWYWx1ZXMoY29udGV4dCwgdHJhbnNmb3JtZXJzKTtcbiAgfVxuXG4gIHJldHVybiBydW5UcmFuc2Zvcm1lcnModHJhbnNmb3JtZXJzLCBjb250ZXh0LCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVmZXRjaFF1ZXJpZXMoY29udGV4dCwgdmFsdWUpIHtcbiAgaWYgKGlzVmFsdWUodmFsdWUpICYmIGlzTm9kZUNvbnRleHQoY29udGV4dCkpIHtcbiAgICB2YWx1ZS5yZWZldGNoUXVlcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IFF1ZXJ5KGNvbnRleHQuc2VsZWN0aW9uLnNlbGVjdGlvblNldC50eXBlQnVuZGxlLCBmdW5jdGlvbiAocm9vdCkge1xuICAgICAgICByb290LmFkZCgnbm9kZScsIHsgYXJnczogeyBpZDogY29udGV4dC5yZXNwb25zZURhdGEuaWQgfSB9LCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkSW5saW5lRnJhZ21lbnRPbihjb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQudHlwZVNjaGVtYS5uYW1lLCBjb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVBvam9zVG9DbGFzc2VzV2l0aFJlZ2lzdHJ5KGNsYXNzUmVnaXN0cnkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHRyYW5zZm9ybVBvam9zVG9DbGFzc2VzKGNvbnRleHQsIHZhbHVlKSB7XG4gICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgdmFyIEtsYXNzID0gY2xhc3NSZWdpc3RyeS5jbGFzc0ZvclR5cGUoY29udGV4dC5zZWxlY3Rpb24uc2VsZWN0aW9uU2V0LnR5cGVTY2hlbWEubmFtZSk7XG5cbiAgICAgIHJldHVybiBuZXcgS2xhc3ModmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm1TY2FsYXJzKGNvbnRleHQsIHZhbHVlKSB7XG4gIGlmIChpc1ZhbHVlKHZhbHVlKSkge1xuICAgIGlmIChjb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQudHlwZVNjaGVtYS5raW5kID09PSAnU0NBTEFSJykge1xuICAgICAgcmV0dXJuIG5ldyBTY2FsYXIodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dC5zZWxlY3Rpb24uc2VsZWN0aW9uU2V0LnR5cGVTY2hlbWEua2luZCA9PT0gJ0VOVU0nKSB7XG4gICAgICByZXR1cm4gbmV3IEVudW0odmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVjb3JkVHlwZUluZm9ybWF0aW9uKGNvbnRleHQsIHZhbHVlKSB7XG4gIHZhciBfY29udGV4dCRzZWxlY3Rpb24kc2UgPSBjb250ZXh0LnNlbGVjdGlvbi5zZWxlY3Rpb25TZXQsXG4gICAgICB0eXBlQnVuZGxlID0gX2NvbnRleHQkc2VsZWN0aW9uJHNlLnR5cGVCdW5kbGUsXG4gICAgICB0eXBlU2NoZW1hID0gX2NvbnRleHQkc2VsZWN0aW9uJHNlLnR5cGVTY2hlbWE7XG5cbiAgaWYgKGlzVmFsdWUodmFsdWUpKSB7XG4gICAgaWYgKHZhbHVlLl9fdHlwZW5hbWUpIHtcbiAgICAgIHZhbHVlLnR5cGUgPSBzY2hlbWFGb3JUeXBlKHR5cGVCdW5kbGUsIHZhbHVlLl9fdHlwZW5hbWUsIHR5cGVTY2hlbWEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZS50eXBlID0gdHlwZVNjaGVtYTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUcmFuc2Zvcm1lcnMoX3JlZikge1xuICB2YXIgX3JlZiRjbGFzc1JlZ2lzdHJ5ID0gX3JlZi5jbGFzc1JlZ2lzdHJ5LFxuICAgICAgY2xhc3NSZWdpc3RyeSA9IF9yZWYkY2xhc3NSZWdpc3RyeSA9PT0gdW5kZWZpbmVkID8gbmV3IENsYXNzUmVnaXN0cnkoKSA6IF9yZWYkY2xhc3NSZWdpc3RyeSxcbiAgICAgIHZhcmlhYmxlVmFsdWVzID0gX3JlZi52YXJpYWJsZVZhbHVlcztcblxuICByZXR1cm4gW3RyYW5zZm9ybVNjYWxhcnMsIGdlbmVyYXRlUmVmZXRjaFF1ZXJpZXMsIHRyYW5zZm9ybUNvbm5lY3Rpb25zKHZhcmlhYmxlVmFsdWVzKSwgcmVjb3JkVHlwZUluZm9ybWF0aW9uLCB0cmFuc2Zvcm1Qb2pvc1RvQ2xhc3Nlc1dpdGhSZWdpc3RyeShjbGFzc1JlZ2lzdHJ5KV07XG59XG5cbi8qKlxuICogQSBmdW5jdGlvbiB1c2VkIHRvIGRlY29kZSB0aGUgcmVzcG9uc2UgZGF0YS5cbiAqXG4gKiBAZnVuY3Rpb24gZGVjb2RlXG4gKiBAcGFyYW0ge1NlbGVjdGlvblNldH0gc2VsZWN0aW9uIFRoZSBzZWxlY3Rpb24gc2V0IHVzZWQgdG8gcXVlcnkgdGhlIHJlc3BvbnNlIGRhdGEuXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VEYXRhIFRoZSByZXNwb25zZSBkYXRhIHJldHVybmVkLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIHVzZSB3aGVuIGRlY29kaW5nIGluY2x1ZGluZzpcbiAqICAgQHBhcmFtIHtDbGFzc1JlZ2lzdHJ5fSBbb3B0aW9ucy5jbGFzc1JlZ2lzdHJ5XSBBIGNsYXNzIHJlZ2lzdHJ5IHRvIHVzZSB3aGVuIGRlc2VyaWFsaXppbmcgdGhlIGRhdGEgaW50byBjbGFzc2VzLlxuICogQHJldHVybiB7R3JhcGhNb2RlbH0gVGhlIGRlY29kZWQgcmVzcG9uc2UgZGF0YS5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlKHNlbGVjdGlvbiwgcmVzcG9uc2VEYXRhKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICB2YXIgdHJhbnNmb3JtZXJzID0gb3B0aW9ucy50cmFuc2Zvcm1lcnMgfHwgZGVmYXVsdFRyYW5zZm9ybWVycyhvcHRpb25zKTtcbiAgdmFyIGNvbnRleHQgPSBuZXcgRGVjb2RpbmdDb250ZXh0KHNlbGVjdGlvbiwgcmVzcG9uc2VEYXRhKTtcblxuICByZXR1cm4gZGVjb2RlQ29udGV4dChjb250ZXh0LCB0cmFuc2Zvcm1lcnMpO1xufVxuXG5mdW5jdGlvbiBodHRwRmV0Y2hlcih1cmwpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIHJldHVybiBmdW5jdGlvbiBmZXRjaGVyKGdyYXBoUUxQYXJhbXMsIGhlYWRlcnMpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBfZXh0ZW5kcyh7XG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShncmFwaFFMUGFyYW1zKSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgbW9kZTogJ2NvcnMnXG4gICAgfSwgb3B0aW9ucywge1xuICAgICAgaGVhZGVyczogX2V4dGVuZHMoe1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSwgb3B0aW9ucy5oZWFkZXJzLCBoZWFkZXJzKVxuICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgdmFyIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuXG4gICAgICBpZiAoY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24vanNvbicpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IHRleHQ6IHRleHQgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYXNOZXh0UGFnZShwYWdpbmF0ZWRNb2RlbHMpIHtcbiAgcmV0dXJuIHBhZ2luYXRlZE1vZGVscyAmJiBwYWdpbmF0ZWRNb2RlbHMubGVuZ3RoICYmIHBhZ2luYXRlZE1vZGVsc1twYWdpbmF0ZWRNb2RlbHMubGVuZ3RoIC0gMV0uaGFzTmV4dFBhZ2U7XG59XG5cbi8qKlxuICogVGhlIENsaWVudCBjbGFzcyB1c2VkIHRvIGNyZWF0ZSBhbmQgc2VuZCBHcmFwaFFMIGRvY3VtZW50cywgZnJhZ21lbnRzLCBxdWVyaWVzIGFuZCBtdXRhdGlvbnMuXG4gKi9cblxudmFyIENsaWVudCQyID0gZnVuY3Rpb24gKCkge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZUJ1bmRsZSBBIHNldCBvZiBFUzYgbW9kdWxlcyBnZW5lcmF0ZWQgYnkge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9TaG9waWZ5L2dyYXBocWwtanMtc2NoZW1hfGdyYXBocWwtanMtc2NoZW1hfS5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QuIE11c3QgaW5jbHVkZSBlaXRoZXIgYHVybGAgYW5kIG9wdGlvbmFsIGBmZXRjaGVyT3B0aW9uc2AgT1IgYSBgZmV0Y2hlcmAgZnVuY3Rpb24uXG4gICAqICAgQHBhcmFtIHsoU3RyaW5nfEZ1bmN0aW9uKX0gb3B0aW9ucy51cmx8ZmV0Y2hlciBFaXRoZXIgdGhlIFVSTCBvZiB0aGUgR3JhcGhRTCBBUEkgZW5kcG9pbnQsIG9yIGEgY3VzdG9tIGZldGNoZXIgZnVuY3Rpb24gZm9yIGZ1cnRoZXIgY3VzdG9taXphdGlvbi5cbiAgICogICBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZmV0Y2hlck9wdGlvbnNdIEFkZGl0aW9uYWwgb3B0aW9ucyB0byB1c2Ugd2l0aCBgZmV0Y2hgLCBsaWtlIGhlYWRlcnMuIERvIG5vdCBzcGVjaWZ5IHRoaXMgYXJndW1lbnQgaWYgYGZldGNoZXJgIGlzIHNwZWNpZmllZC5cbiAgICogICBAcGFyYW0ge0NsYXNzUmVnaXN0cnl9IFtvcHRpb25zLnJlZ2lzdHJ5PW5ldyBDbGFzc1JlZ2lzdHJ5KCldIEEge0BsaW5rIENsYXNzUmVnaXN0cnl9IHVzZWQgdG8gZGVjb2RlIHRoZSByZXNwb25zZSBkYXRhLlxuICAgKi9cbiAgZnVuY3Rpb24gQ2xpZW50KHR5cGVCdW5kbGUsIF9yZWYpIHtcbiAgICB2YXIgdXJsID0gX3JlZi51cmwsXG4gICAgICAgIGZldGNoZXJPcHRpb25zID0gX3JlZi5mZXRjaGVyT3B0aW9ucyxcbiAgICAgICAgZmV0Y2hlciA9IF9yZWYuZmV0Y2hlcixcbiAgICAgICAgX3JlZiRyZWdpc3RyeSA9IF9yZWYucmVnaXN0cnksXG4gICAgICAgIHJlZ2lzdHJ5ID0gX3JlZiRyZWdpc3RyeSA9PT0gdW5kZWZpbmVkID8gbmV3IENsYXNzUmVnaXN0cnkoKSA6IF9yZWYkcmVnaXN0cnk7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpZW50KTtcblxuICAgIHRoaXMudHlwZUJ1bmRsZSA9IHR5cGVCdW5kbGU7XG4gICAgdGhpcy5jbGFzc1JlZ2lzdHJ5ID0gcmVnaXN0cnk7XG5cbiAgICBpZiAodXJsICYmIGZldGNoZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnRzIG5vdCBzdXBwb3J0ZWQ6IHN1cHBseSBlaXRoZXIgYHVybGAgYW5kIG9wdGlvbmFsIGBmZXRjaGVyT3B0aW9uc2AgT1IgdXNlIGEgYGZldGNoZXJgIGZ1bmN0aW9uIGZvciBmdXJ0aGVyIGN1c3RvbWl6YXRpb24uJyk7XG4gICAgfVxuXG4gICAgaWYgKHVybCkge1xuICAgICAgdGhpcy5mZXRjaGVyID0gaHR0cEZldGNoZXIodXJsLCBmZXRjaGVyT3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmIChmZXRjaGVyKSB7XG4gICAgICBpZiAoZmV0Y2hlck9wdGlvbnMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudHMgbm90IHN1cHBvcnRlZDogd2hlbiBzcGVjaWZ5aW5nIHlvdXIgb3duIGBmZXRjaGVyYCwgc2V0IG9wdGlvbnMgdGhyb3VnaCBpdCBhbmQgbm90IHdpdGggYGZldGNoZXJPcHRpb25zYCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZldGNoZXIgPSBmZXRjaGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzOiBvbmUgb2YgYHVybGAgb3IgYGZldGNoZXJgIGlzIG5lZWRlZC4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIEdyYXBoUUwgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gICAqXG4gICAqIEByZXR1cm4ge0RvY3VtZW50fSBBIEdyYXBoUUwgZG9jdW1lbnQuXG4gICAqL1xuXG4gIGNyZWF0ZUNsYXNzKENsaWVudCwgW3tcbiAgICBrZXk6ICdkb2N1bWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvY3VtZW50KCkge1xuICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudCh0aGlzLnR5cGVCdW5kbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBHcmFwaFFMIHF1ZXJ5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBxdWVyeSA9IGNsaWVudC5xdWVyeSgnbXlRdWVyeScsIChyb290KSA9PiB7XG4gICAgICogICByb290LmFkZCgnY2F0JywgKGNhdCkgPT4ge1xuICAgICAqICAgIGNhdC5hZGQoJ25hbWUnKTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSBBIG5hbWUgZm9yIHRoZSBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge1ZhcmlhYmxlRGVmaW5pdGlvbltdfSBbdmFyaWFibGVzXSBBIGxpc3Qgb2YgdmFyaWFibGVzIGluIHRoZSBxdWVyeS4gU2VlIHtAbGluayBDbGllbnQjdmFyaWFibGV9LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNlbGVjdGlvblNldENhbGxiYWNrIFRoZSBxdWVyeSBidWlsZGVyIGNhbGxiYWNrLlxuICAgICAqICAgQSB7QGxpbmsgU2VsZWN0aW9uU2V0fSBpcyBjcmVhdGVkIHVzaW5nIHRoaXMgY2FsbGJhY2suXG4gICAgICogQHJldHVybiB7UXVlcnl9IEEgR3JhcGhRTCBxdWVyeS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncXVlcnknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBxdWVyeSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KFF1ZXJ5LCBbbnVsbF0uY29uY2F0KFt0aGlzLnR5cGVCdW5kbGVdLCBhcmdzKSkpKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEdyYXBoUUwgbXV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlucHV0ID0gY2xpZW50LnZhcmlhYmxlKCdpbnB1dCcsICdDYXRDcmVhdGVJbnB1dCEnKTtcbiAgICAgKlxuICAgICAqIGNvbnN0IG11dGF0aW9uID0gY2xpZW50Lm11dGF0aW9uKCdteU11dGF0aW9uJywgW2lucHV0XSwgKHJvb3QpID0+IHtcbiAgICAgKiAgIHJvb3QuYWRkKCdjYXRDcmVhdGUnLCB7YXJnczoge2lucHV0fX0sIChjYXRDcmVhdGUpID0+IHtcbiAgICAgKiAgICAgY2F0Q3JlYXRlLmFkZCgnY2F0JywgKGNhdCkgPT4ge1xuICAgICAqICAgICAgIGNhdC5hZGQoJ25hbWUnKTtcbiAgICAgKiAgICAgfSk7XG4gICAgICogICB9KTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gQSBuYW1lIGZvciB0aGUgbXV0YXRpb24uXG4gICAgICogQHBhcmFtIHtWYXJpYWJsZURlZmluaXRpb25bXX0gW3ZhcmlhYmxlc10gQSBsaXN0IG9mIHZhcmlhYmxlcyBpbiB0aGUgbXV0YXRpb24uIFNlZSB7QGxpbmsgQ2xpZW50I3ZhcmlhYmxlfS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZWxlY3Rpb25TZXRDYWxsYmFjayBUaGUgbXV0YXRpb24gYnVpbGRlciBjYWxsYmFjay5cbiAgICAgKiAgIEEge0BsaW5rIFNlbGVjdGlvblNldH0gaXMgY3JlYXRlZCB1c2luZyB0aGlzIGNhbGxiYWNrLlxuICAgICAqIEByZXR1cm4ge011dGF0aW9ufSBBIEdyYXBoUUwgbXV0YXRpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ211dGF0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbXV0YXRpb24oKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KE11dGF0aW9uLCBbbnVsbF0uY29uY2F0KFt0aGlzLnR5cGVCdW5kbGVdLCBhcmdzKSkpKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBHcmFwaFFMIG9wZXJhdGlvbiAocXVlcnkgb3IgbXV0YXRpb24pIG9yIGEgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNsaWVudC5zZW5kKHF1ZXJ5LCB7aWQ6ICcxMjM0NSd9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSByZXR1cm5lZCByZXN1bHRcbiAgICAgKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyhRdWVyeXxNdXRhdGlvbnxEb2N1bWVudHxGdW5jdGlvbil9IHJlcXVlc3QgVGhlIG9wZXJhdGlvbiBvciBkb2N1bWVudCB0byBzZW5kLiBJZiByZXByZXNlbnRlZFxuICAgICAqIGFzIGEgZnVuY3Rpb24sIGl0IG11c3QgcmV0dXJuIGBRdWVyeWAsIGBNdXRhdGlvbmAsIG9yIGBEb2N1bWVudGAgYW5kIHJlY2lldmUgdGhlIGNsaWVudCBhcyB0aGUgb25seSBwYXJhbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3ZhcmlhYmxlVmFsdWVzXSBUaGUgdmFsdWVzIGZvciB2YXJpYWJsZXMgaW4gdGhlIG9wZXJhdGlvbiBvciBkb2N1bWVudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW290aGVyUHJvcGVydGllc10gT3RoZXIgcHJvcGVydGllcyB0byBzZW5kIHdpdGggdGhlIHF1ZXJ5LiBGb3IgZXhhbXBsZSwgYSBjdXN0b20gb3BlcmF0aW9uIG5hbWUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtoZWFkZXJzXSBBZGRpdGlvbmFsIGhlYWRlcnMgdG8gYmUgYXBwbGllZCBvbiBhIHJlcXVlc3QgYnkgcmVxdWVzdCBiYXNpcy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxPYmplY3Q+fSBBIHByb21pc2UgcmVzb2x2aW5nIHRvIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSByZXNwb25zZSBkYXRhLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZChyZXF1ZXN0KSB7XG4gICAgICB2YXIgdmFyaWFibGVWYWx1ZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG51bGw7XG5cbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHZhciBvdGhlclByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgICB2YXIgaGVhZGVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICAgICAgdmFyIG9wZXJhdGlvbk9yRG9jdW1lbnQgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChGdW5jdGlvbi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihyZXF1ZXN0KSkge1xuICAgICAgICBvcGVyYXRpb25PckRvY3VtZW50ID0gcmVxdWVzdCh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZXJhdGlvbk9yRG9jdW1lbnQgPSByZXF1ZXN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZ3JhcGhRTFBhcmFtcyA9IHsgcXVlcnk6IG9wZXJhdGlvbk9yRG9jdW1lbnQudG9TdHJpbmcoKSB9O1xuXG4gICAgICBpZiAodmFyaWFibGVWYWx1ZXMpIHtcbiAgICAgICAgZ3JhcGhRTFBhcmFtcy52YXJpYWJsZXMgPSB2YXJpYWJsZVZhbHVlcztcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmFzc2lnbihncmFwaFFMUGFyYW1zLCBvdGhlclByb3BlcnRpZXMpO1xuXG4gICAgICB2YXIgb3BlcmF0aW9uID0gdm9pZCAwO1xuXG4gICAgICBpZiAoT3BlcmF0aW9uLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9wZXJhdGlvbk9yRG9jdW1lbnQpKSB7XG4gICAgICAgIG9wZXJhdGlvbiA9IG9wZXJhdGlvbk9yRG9jdW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZG9jdW1lbnQgPSBvcGVyYXRpb25PckRvY3VtZW50O1xuXG4gICAgICAgIGlmIChkb2N1bWVudC5vcGVyYXRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIG9wZXJhdGlvbiA9IGRvY3VtZW50Lm9wZXJhdGlvbnNbMF07XG4gICAgICAgIH0gZWxzZSBpZiAob3RoZXJQcm9wZXJ0aWVzLm9wZXJhdGlvbk5hbWUpIHtcbiAgICAgICAgICBvcGVyYXRpb24gPSBkb2N1bWVudC5vcGVyYXRpb25zLmZpbmQoZnVuY3Rpb24gKGRvY3VtZW50T3BlcmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnRPcGVyYXRpb24ubmFtZSA9PT0gb3RoZXJQcm9wZXJ0aWVzLm9wZXJhdGlvbk5hbWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcXG4gICAgICAgICAgQSBkb2N1bWVudCBtdXN0IGNvbnRhaW4gZXhhY3RseSBvbmUgb3BlcmF0aW9uLCBvciBhbiBvcGVyYXRpb25OYW1lXFxuICAgICAgICAgIG11c3QgYmUgc3BlY2lmaWVkLiBFeGFtcGxlOlxcblxcbiAgICAgICAgICAgIGNsaWVudC5zZW5kKGRvY3VtZW50LCBudWxsLCB7b3BlcmF0aW9uTmFtZTogXFwnbXlGYW5jeVF1ZXJ5XFwnfSk7XFxuICAgICAgICAnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5mZXRjaGVyKGdyYXBoUUxQYXJhbXMsIGhlYWRlcnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7XG4gICAgICAgICAgcmVzcG9uc2UubW9kZWwgPSBkZWNvZGUob3BlcmF0aW9uLCByZXNwb25zZS5kYXRhLCB7XG4gICAgICAgICAgICBjbGFzc1JlZ2lzdHJ5OiBfdGhpcy5jbGFzc1JlZ2lzdHJ5LFxuICAgICAgICAgICAgdmFyaWFibGVWYWx1ZXM6IHZhcmlhYmxlVmFsdWVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBuZXh0IHBhZ2Ugb2YgYSBwYWdpbmF0ZWQgbm9kZSBvciBhcnJheSBvZiBub2Rlcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LmZldGNoTmV4dFBhZ2Uobm9kZSwge2ZpcnN0OiAxMH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIG5leHQgcGFnZVxuICAgICAqICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7KEdyYXBoTW9kZWx8R3JhcGhNb2RlbFtdKX0gbm9kZU9yTm9kZXMgVGhlIG5vZGUgb3IgbGlzdCBvZiBub2RlcyBvbiB3aGljaCB0byBmZXRjaCB0aGUgbmV4dCBwYWdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgY29udGFpbmluZzpcbiAgICAgKiAgIEBwYXJhbSB7SW50ZWdlcn0gW29wdGlvbnMuZmlyc3RdIFRoZSBudW1iZXIgb2Ygbm9kZXMgdG8gcXVlcnkgb24gdGhlIG5leHQgcGFnZS4gRGVmYXVsdHMgdG8gdGhlIHBhZ2Ugc2l6ZSBvZiB0aGUgcHJldmlvdXMgcXVlcnkuXG4gICAgICogQHJldHVybiB7UHJvbWlzZS48R3JhcGhNb2RlbFtdPn0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIHRoZSBuZXh0IHBhZ2Ugb2Yge0BsaW5rIEdyYXBoTW9kZWx9cy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmV0Y2hOZXh0UGFnZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoTmV4dFBhZ2Uobm9kZU9yTm9kZXMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBub2RlID0gdm9pZCAwO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlT3JOb2RlcykpIHtcbiAgICAgICAgbm9kZSA9IG5vZGVPck5vZGVzW25vZGVPck5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IG5vZGVPck5vZGVzO1xuICAgICAgfVxuXG4gICAgICB2YXIgX25vZGUkbmV4dFBhZ2VRdWVyeUFuID0gbm9kZS5uZXh0UGFnZVF1ZXJ5QW5kUGF0aCgpLFxuICAgICAgICAgIF9ub2RlJG5leHRQYWdlUXVlcnlBbjIgPSBzbGljZWRUb0FycmF5KF9ub2RlJG5leHRQYWdlUXVlcnlBbiwgMiksXG4gICAgICAgICAgcXVlcnkgPSBfbm9kZSRuZXh0UGFnZVF1ZXJ5QW4yWzBdLFxuICAgICAgICAgIHBhdGggPSBfbm9kZSRuZXh0UGFnZVF1ZXJ5QW4yWzFdO1xuXG4gICAgICB2YXIgdmFyaWFibGVWYWx1ZXMgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChub2RlLnZhcmlhYmxlVmFsdWVzIHx8IG9wdGlvbnMpIHtcbiAgICAgICAgdmFyaWFibGVWYWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCBub2RlLnZhcmlhYmxlVmFsdWVzLCBvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc2VuZChxdWVyeSwgdmFyaWFibGVWYWx1ZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIHJlc3BvbnNlLm1vZGVsID0gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKG9iamVjdCwga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgICAgICB9LCByZXNwb25zZS5tb2RlbCk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbGwgc3Vic2VxdWVudCBwYWdlcyBvZiBhIHBhZ2luYXRlZCBhcnJheSBvZiBub2Rlcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LmZldGNoQWxsUGFnZXMobm9kZXMsIHtwYWdlU2l6ZTogMjB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIGFsbCB0aGUgbW9kZWxzXG4gICAgICogICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtHcmFwaE1vZGVsW119IHBhZ2luYXRlZE1vZGVscyBUaGUgbGlzdCBvZiBub2RlcyBvbiB3aGljaCB0byBmZXRjaCBhbGwgcGFnZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QgY29udGFpbmluZzpcbiAgICAgKiAgIEBwYXJhbSB7SW50ZWdlcn0gb3B0aW9ucy5wYWdlU2l6ZSBUaGUgbnVtYmVyIG9mIG5vZGVzIHRvIHF1ZXJ5IG9uIGVhY2ggcGFnZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlLjxHcmFwaE1vZGVsW10+fSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYWxsIHBhZ2VzIG9mIHtAbGluayBHcmFwaE1vZGVsfXMsIGluY2x1ZGluZyB0aGUgb3JpZ2luYWwgbGlzdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmV0Y2hBbGxQYWdlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsUGFnZXMocGFnaW5hdGVkTW9kZWxzLCBfcmVmMikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBwYWdlU2l6ZSA9IF9yZWYyLnBhZ2VTaXplO1xuXG4gICAgICBpZiAoaGFzTmV4dFBhZ2UocGFnaW5hdGVkTW9kZWxzKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaE5leHRQYWdlKHBhZ2luYXRlZE1vZGVscywgeyBmaXJzdDogcGFnZVNpemUgfSkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgbW9kZWwgPSBfcmVmMy5tb2RlbDtcblxuICAgICAgICAgIHZhciBwYWdlcyA9IHBhZ2luYXRlZE1vZGVscy5jb25jYXQobW9kZWwpO1xuXG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5mZXRjaEFsbFBhZ2VzKHBhZ2VzLCB7IHBhZ2VTaXplOiBwYWdlU2l6ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFnaW5hdGVkTW9kZWxzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZldGNoZXMgYSB7QGxpbmsgR3JhcGhNb2RlbH0gd2hvc2UgdHlwZSBpbXBsZW1lbnRzIGBOb2RlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LnJlZmV0Y2gobm9kZSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgcmVmZXRjaGVkIG5vZGVcbiAgICAgKiAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0dyYXBoTW9kZWx9IG5vZGVUeXBlIEEge0BsaW5rIEdyYXBoTW9kZWx9IHdob3NlIHR5cGUgaW1wbGVtZW50cyBgTm9kZWAuXG4gICAgICogQHJldHVybiB7UHJvbWlzZS48R3JhcGhNb2RlbD59IFRoZSByZWZldGNoZWQge0BsaW5rIEdyYXBoTW9kZWx9LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZWZldGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmZXRjaChub2RlVHlwZSkge1xuICAgICAgaWYgKCFub2RlVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1xcJ2NsaWVudCNyZWZldGNoXFwnIG11c3QgYmUgY2FsbGVkIHdpdGggYSBub24tbnVsbCBpbnN0YW5jZSBvZiBhIE5vZGUuJyk7XG4gICAgICB9IGVsc2UgaWYgKCFub2RlVHlwZS50eXBlLmltcGxlbWVudHNOb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignXFwnY2xpZW50I3JlZmV0Y2hcXCcgbXVzdCBiZSBjYWxsZWQgd2l0aCBhIHR5cGUgdGhhdCBpbXBsZW1lbnRzIE5vZGUuIFJlY2VpdmVkICcgKyBub2RlVHlwZS50eXBlLm5hbWUgKyAnLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zZW5kKG5vZGVUeXBlLnJlZmV0Y2hRdWVyeSgpKS50aGVuKGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgICB2YXIgbW9kZWwgPSBfcmVmNC5tb2RlbDtcbiAgICAgICAgcmV0dXJuIG1vZGVsLm5vZGU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdmFyaWFibGUgdG8gYmUgdXNlZCBpbiBhIHtAbGluayBRdWVyeX0gb3Ige0BsaW5rIE11dGF0aW9ufS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgaWRWYXJpYWJsZSA9IGNsaWVudC52YXJpYWJsZSgnaWQnLCAnSUQhJywgJzEyMzQ1Jyk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIEdyYXBoUUwgdHlwZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgdmFyaWFibGUuXG4gICAgICogQHJldHVybiB7VmFyaWFibGVEZWZpbml0aW9ufSBBIHZhcmlhYmxlIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGluIGEge0BsaW5rIFF1ZXJ5fSBvciB7QGxpbmsgTXV0YXRpb259LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd2YXJpYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhcmlhYmxlJCQxKG5hbWUsIHR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHZhcmlhYmxlKG5hbWUsIHR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbnVtIHRvIGJlIHVzZWQgaW4gYSB7QGxpbmsgUXVlcnl9IG9yIHtAbGluayBNdXRhdGlvbn0uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHRpdGxlRW51bSA9IGNsaWVudC5lbnVtKCdUSVRMRScpO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnVtLlxuICAgICAqIEByZXR1cm4ge0VudW19IEFuIGVudW0gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgaW4gYSB7QGxpbmsgUXVlcnl9IG9yIHtAbGluayBNdXRhdGlvbn0uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2VudW0nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW51bShrZXkpIHtcbiAgICAgIHJldHVybiBlbnVtRnVuY3Rpb24oa2V5KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENsaWVudDtcbn0oKTtcblxuLyoqXG4gKiBUaGUgY2xhc3MgdXNlZCB0byBjb25maWd1cmUgdGhlIEpTIEJ1eSBTREsgQ2xpZW50LlxuICogQGNsYXNzXG4gKi9cbnZhciBDb25maWcgPSBmdW5jdGlvbiAoKSB7XG4gIGNyZWF0ZUNsYXNzJDEoQ29uZmlnLCBbe1xuICAgIGtleTogJ3JlcXVpcmVkUHJvcGVydGllcycsXG5cblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgdGhhdCBtdXN0IGJlIHNldCBvbiBpbml0aWFsaXphdGlvbnNcbiAgICAgKiBAYXR0cmlidXRlIHJlcXVpcmVkUHJvcGVydGllc1xuICAgICAqIEBkZWZhdWx0IFsnc3RvcmVmcm9udEFjY2Vzc1Rva2VuJywgJ2RvbWFpbiddXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24gZ2V0JCQxKCkge1xuICAgICAgcmV0dXJuIFsnc3RvcmVmcm9udEFjY2Vzc1Rva2VuJywgJ2RvbWFpbiddO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlcHJlY2F0ZWQgcHJvcGVydGllcyB0aGF0IG1hcCBkaXJlY3RseSB0byByZXF1aXJlZCBwcm9wZXJ0aWVzXG4gICAgICogQGF0dHJpYnV0ZSBkZXByZWNhdGVkUHJvcGVydGllc1xuICAgICAqIEBkZWZhdWx0IHsnYWNjZXNzVG9rZW4nOiAnc3RvcmVmcm9udEFjY2Vzc1Rva2VuJywgJ2FwaUtleSc6ICdzdG9yZWZyb250QWNjZXNzVG9rZW4nfVxuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2RlcHJlY2F0ZWRQcm9wZXJ0aWVzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjY2Vzc1Rva2VuOiAnc3RvcmVmcm9udEFjY2Vzc1Rva2VuJyxcbiAgICAgICAgYXBpS2V5OiAnc3RvcmVmcm9udEFjY2Vzc1Rva2VuJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAY29uc3RydWN0cyBDb25maWdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgQW4gb2JqZWN0IHNwZWNpZnlpbmcgdGhlIGNvbmZpZ3VyYXRpb24uIFJlcXVpcmVzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAgIEBwYXJhbSB7U3RyaW5nfSBhdHRycy5zdG9yZWZyb250QWNjZXNzVG9rZW4gVGhlIHtAbGluayBodHRwczovL2hlbHAuc2hvcGlmeS5jb20vYXBpL3JlZmVyZW5jZS9zdG9yZWZyb250X2FjY2Vzc190b2tlbnxTdG9yZWZyb250IGFjY2VzcyB0b2tlbn0gZm9yIHRoZSBzaG9wLlxuICAgICAqICAgQHBhcmFtIHtTdHJpbmd9IGF0dHJzLmRvbWFpbiBUaGUgYG15c2hvcGlmeWAgZG9tYWluIGZvciB0aGUgc2hvcCAoZS5nLiBgZ3JhcGhxbC5teXNob3BpZnkuY29tYCkuXG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIENvbmZpZyhhdHRycykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIENvbmZpZyk7XG5cbiAgICBPYmplY3Qua2V5cyh0aGlzLmRlcHJlY2F0ZWRQcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmICghYXR0cnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdbU2hvcGlmeUJ1eV0gQ29uZmlnIHByb3BlcnR5ICcgKyBrZXkgKyAnIGlzIGRlcHJlY2F0ZWQgYXMgb2YgdjEuMCwgcGxlYXNlIHVzZSAnICsgX3RoaXMuZGVwcmVjYXRlZFByb3BlcnRpZXNba2V5XSArICcgaW5zdGVhZC4nKTtcbiAgICAgIGF0dHJzW190aGlzLmRlcHJlY2F0ZWRQcm9wZXJ0aWVzW2tleV1dID0gYXR0cnNba2V5XTtcbiAgICB9KTtcblxuICAgIHRoaXMucmVxdWlyZWRQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgX3RoaXNba2V5XSA9IGF0dHJzW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25ldyBDb25maWcoKSByZXF1aXJlcyB0aGUgb3B0aW9uIFxcJycgKyBrZXkgKyAnXFwnJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkoJ2FwaVZlcnNpb24nKSkge1xuICAgICAgdGhpcy5hcGlWZXJzaW9uID0gYXR0cnMuYXBpVmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcGlWZXJzaW9uID0gJzIwMjQtMDQnO1xuICAgIH1cblxuICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eSgnc291cmNlJykpIHtcbiAgICAgIHRoaXMuc291cmNlID0gYXR0cnMuc291cmNlO1xuICAgIH1cblxuICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eSgnbGFuZ3VhZ2UnKSkge1xuICAgICAgdGhpcy5sYW5ndWFnZSA9IGF0dHJzLmxhbmd1YWdlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBDb25maWc7XG59KCk7XG5cbnZhciBSZXNvdXJjZSA9IGZ1bmN0aW9uIFJlc291cmNlKGNsaWVudCkge1xuICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIFJlc291cmNlKTtcblxuICB0aGlzLmdyYXBoUUxDbGllbnQgPSBjbGllbnQ7XG59O1xuXG52YXIgZGVmYXVsdEVycm9ycyA9IFt7IG1lc3NhZ2U6ICdhbiB1bmtub3duIGVycm9yIGhhcyBvY2N1cnJlZC4nIH1dO1xuXG5mdW5jdGlvbiBkZWZhdWx0UmVzb2x2ZXIocGF0aCkge1xuICB2YXIga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcblxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgbW9kZWwgPSBfcmVmLm1vZGVsLFxuICAgICAgICBlcnJvcnMgPSBfcmVmLmVycm9ycztcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlZiwga2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHJlZltrZXldO1xuICAgICAgICB9LCBtb2RlbCk7XG5cbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KGRlZmF1bHRFcnJvcnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZldGNoUmVzb3VyY2VzRm9yUHJvZHVjdHMocHJvZHVjdE9yUHJvZHVjdCwgY2xpZW50KSB7XG4gIHZhciBwcm9kdWN0cyA9IFtdLmNvbmNhdChwcm9kdWN0T3JQcm9kdWN0KTtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvZHVjdHMucmVkdWNlKGZ1bmN0aW9uIChwcm9taXNlQWNjLCBwcm9kdWN0KSB7XG5cbiAgICAvLyBJZiB0aGUgZ3JhcGhxbCBxdWVyeSBkb2Vzbid0IGZpbmQgYSBtYXRjaCwgc2tpcCBmZXRjaGluZyB2YXJpYW50cyBhbmQgaW1hZ2VzLlxuICAgIGlmIChwcm9kdWN0ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUFjYztcbiAgICB9XG5cbiAgICAvLyBGZXRjaCB0aGUgcmVzdCBvZiB0aGUgaW1hZ2VzIGFuZCB2YXJpYW50cyBmb3IgdGhpcyBwcm9kdWN0XG4gICAgcHJvbWlzZUFjYy5wdXNoKGNsaWVudC5mZXRjaEFsbFBhZ2VzKHByb2R1Y3QuaW1hZ2VzLCB7IHBhZ2VTaXplOiAyNTAgfSkudGhlbihmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICBwcm9kdWN0LmF0dHJzLmltYWdlcyA9IGltYWdlcztcbiAgICB9KSk7XG5cbiAgICBwcm9taXNlQWNjLnB1c2goY2xpZW50LmZldGNoQWxsUGFnZXMocHJvZHVjdC52YXJpYW50cywgeyBwYWdlU2l6ZTogMjUwIH0pLnRoZW4oZnVuY3Rpb24gKHZhcmlhbnRzKSB7XG4gICAgICBwcm9kdWN0LmF0dHJzLnZhcmlhbnRzID0gdmFyaWFudHM7XG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHByb21pc2VBY2M7XG4gIH0sIFtdKSk7XG59XG5cbmZ1bmN0aW9uIHBhZ2luYXRlUHJvZHVjdENvbm5lY3Rpb25zQW5kUmVzb2x2ZShjbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwcm9kdWN0cykge1xuICAgIHJldHVybiBmZXRjaFJlc291cmNlc0ZvclByb2R1Y3RzKHByb2R1Y3RzLCBjbGllbnQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb2R1Y3RzO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYWdpbmF0ZUNvbGxlY3Rpb25zUHJvZHVjdENvbm5lY3Rpb25zQW5kUmVzb2x2ZShjbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjb2xsZWN0aW9uT3JDb2xsZWN0aW9ucykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IFtdLmNvbmNhdChjb2xsZWN0aW9uT3JDb2xsZWN0aW9ucyk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoY29sbGVjdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChwcm9taXNlQWNjLCBjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUFjYy5jb25jYXQoZmV0Y2hSZXNvdXJjZXNGb3JQcm9kdWN0cyhjb2xsZWN0aW9uLnByb2R1Y3RzLCBjbGllbnQpKTtcbiAgICB9LCBbXSkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb25PckNvbGxlY3Rpb25zO1xuICAgIH0pO1xuICB9O1xufVxuXG4vKipcbiAqIEBuYW1lc3BhY2UgUHJvZHVjdEhlbHBlcnNcbiAqL1xudmFyIHByb2R1Y3RIZWxwZXJzID0ge1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YXJpYW50IG9mIGEgcHJvZHVjdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcHRpb25zIGdpdmVuLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBzZWxlY3RlZFZhcmlhbnQgPSBjbGllbnQucHJvZHVjdC5oZWxwZXJzLnZhcmlhbnRGb3JPcHRpb25zKHByb2R1Y3QsIHtcbiAgICogICBzaXplOiBcIlNtYWxsXCIsXG4gICAqICAgY29sb3I6IFwiUmVkXCJcbiAgICogfSk7XG4gICAqXG4gICAqIEBtZW1iZXJvZiBQcm9kdWN0SGVscGVyc1xuICAgKiBAbWV0aG9kIHZhcmlhbnRGb3JPcHRpb25zXG4gICAqIEBwYXJhbSB7R3JhcGhNb2RlbH0gcHJvZHVjdCBUaGUgcHJvZHVjdCB0byBmaW5kIHRoZSB2YXJpYW50IG9uLiBNdXN0IGluY2x1ZGUgYHZhcmlhbnRzYC5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9wdGlvbnMgZm9yIHRoZSB2YXJpYW50LlxuICAgKiBAcmV0dXJuIHtHcmFwaE1vZGVsfSBUaGUgdmFyaWFudCBjb3JyZXNwb25kaW5nIHRvIHRoZSBvcHRpb25zIGdpdmVuLlxuICAgKi9cbiAgdmFyaWFudEZvck9wdGlvbnM6IGZ1bmN0aW9uIHZhcmlhbnRGb3JPcHRpb25zKHByb2R1Y3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvZHVjdC52YXJpYW50cy5maW5kKGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICByZXR1cm4gdmFyaWFudC5zZWxlY3RlZE9wdGlvbnMuZXZlcnkoZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zW3NlbGVjdGVkT3B0aW9uLm5hbWVdID09PSBzZWxlY3RlZE9wdGlvbi52YWx1ZS52YWx1ZU9mKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcXVlcnkoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWQgPSBjbGllbnQudmFyaWFibGUoXCJpZFwiLCBcIklEIVwiKTtcbiAgc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlaWdodFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIiwge1xuICAgICAgYWxpYXM6IFwiYXZhaWxhYmxlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInNrdVwiKTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwiY29tcGFyZUF0UHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgIGltYWdlLmFkZChcIndpZHRoXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwiaGVpZ2h0XCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2VsZWN0ZWRPcHRpb25zXCIsIGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlXCIsIGZ1bmN0aW9uICh1bml0UHJpY2UpIHtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlTWVhc3VyZW1lbnRcIiwgZnVuY3Rpb24gKHVuaXRQcmljZU1lYXN1cmVtZW50KSB7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJtZWFzdXJlZFR5cGVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVZhbHVlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVZhbHVlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Qcm9kdWN0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlByb2R1Y3RGcmFnbWVudFwiLCBcIlByb2R1Y3RcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiKTtcbiAgICByb290LmFkZChcImNyZWF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcInVwZGF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uSHRtbFwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInZlbmRvclwiKTtcbiAgICByb290LmFkZChcInB1Ymxpc2hlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwib25saW5lU3RvcmVVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcHRpb25zXCIsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBvcHRpb25zLmFkZChcInZhbHVlc1wiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICBpbWFnZXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGltYWdlcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGQoXCJpZFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInVybFwiLCB7XG4gICAgICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcIndpZHRoXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwiaGVpZ2h0XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidmFyaWFudHNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHZhcmlhbnRzKSB7XG4gICAgICB2YXJpYW50cy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFyaWFudHMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkUXVlcnkoW3ZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5pZF0sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJub2RlXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgaWQ6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5pZFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkkMShjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5pZHMgPSBjbGllbnQudmFyaWFibGUoXCJpZHNcIiwgXCJbSUQhXSFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcInByb2R1Y3RUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2ZW5kb3JcIik7XG4gICAgcm9vdC5hZGQoXCJwdWJsaXNoZWRBdFwiKTtcbiAgICByb290LmFkZChcIm9ubGluZVN0b3JlVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3B0aW9uc1wiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgb3B0aW9ucy5hZGQoXCJ2YWx1ZXNcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgaW1hZ2VzLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBpbWFnZXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImFsdFRleHRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImhlaWdodFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInZhcmlhbnRzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uICh2YXJpYW50cykge1xuICAgICAgdmFyaWFudHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIHZhcmlhbnRzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRzXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcIm5vZGVzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgaWRzOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRzXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICBub2Rlcy5hZGRGcmFnbWVudChzcHJlYWRzLlByb2R1Y3RGcmFnbWVudCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDIoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uZmlyc3QgPSBjbGllbnQudmFyaWFibGUoXCJmaXJzdFwiLCBcIkludCFcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5xdWVyeSA9IGNsaWVudC52YXJpYWJsZShcInF1ZXJ5XCIsIFwiU3RyaW5nXCIpO1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uc29ydEtleSA9IGNsaWVudC52YXJpYWJsZShcInNvcnRLZXlcIiwgXCJQcm9kdWN0U29ydEtleXNcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5yZXZlcnNlID0gY2xpZW50LnZhcmlhYmxlKFwicmV2ZXJzZVwiLCBcIkJvb2xlYW5cIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcInByb2R1Y3RUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2ZW5kb3JcIik7XG4gICAgcm9vdC5hZGQoXCJwdWJsaXNoZWRBdFwiKTtcbiAgICByb290LmFkZChcIm9ubGluZVN0b3JlVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3B0aW9uc1wiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgb3B0aW9ucy5hZGQoXCJ2YWx1ZXNcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgaW1hZ2VzLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBpbWFnZXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImFsdFRleHRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImhlaWdodFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInZhcmlhbnRzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uICh2YXJpYW50cykge1xuICAgICAgdmFyaWFudHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIHZhcmlhbnRzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uZmlyc3QsIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5xdWVyeSwgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnNvcnRLZXksIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5yZXZlcnNlXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInByb2R1Y3RzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5maXJzdCxcbiAgICAgICAgcXVlcnk6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5xdWVyeSxcbiAgICAgICAgc29ydEtleTogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnNvcnRLZXksXG4gICAgICAgIHJldmVyc2U6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5yZXZlcnNlXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHByb2R1Y3RzKSB7XG4gICAgICBwcm9kdWN0cy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgcHJvZHVjdHMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5Qcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQzKGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgdmFyIHNwcmVhZHMgPSB7fTtcbiAgdmFyIHZhcmlhYmxlcyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18gPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmhhbmRsZSA9IGNsaWVudC52YXJpYWJsZShcImhhbmRsZVwiLCBcIlN0cmluZyFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcInByb2R1Y3RUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2ZW5kb3JcIik7XG4gICAgcm9vdC5hZGQoXCJwdWJsaXNoZWRBdFwiKTtcbiAgICByb290LmFkZChcIm9ubGluZVN0b3JlVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3B0aW9uc1wiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgb3B0aW9ucy5hZGQoXCJ2YWx1ZXNcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgaW1hZ2VzLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBpbWFnZXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImFsdFRleHRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImhlaWdodFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInZhcmlhbnRzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uICh2YXJpYW50cykge1xuICAgICAgdmFyaWFudHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIHZhcmlhbnRzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaGFuZGxlXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInByb2R1Y3RCeUhhbmRsZVwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGhhbmRsZTogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmhhbmRsZVxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChwcm9kdWN0QnlIYW5kbGUpIHtcbiAgICAgIHByb2R1Y3RCeUhhbmRsZS5hZGRGcmFnbWVudChzcHJlYWRzLlByb2R1Y3RGcmFnbWVudCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDQoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ucHJvZHVjdElkID0gY2xpZW50LnZhcmlhYmxlKFwicHJvZHVjdElkXCIsIFwiSUQhXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLlByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiUHJvZHVjdEZyYWdtZW50XCIsIFwiUHJvZHVjdFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIpO1xuICAgIHJvb3QuYWRkKFwiY3JlYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25IdG1sXCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgcm9vdC5hZGQoXCJoYW5kbGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcm9kdWN0VHlwZVwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwidmVuZG9yXCIpO1xuICAgIHJvb3QuYWRkKFwicHVibGlzaGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJvbmxpbmVTdG9yZVVybFwiKTtcbiAgICByb290LmFkZChcIm9wdGlvbnNcIiwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIG9wdGlvbnMuYWRkKFwidmFsdWVzXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChpbWFnZXMpIHtcbiAgICAgIGltYWdlcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgaW1hZ2VzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZChcImlkXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwid2lkdGhcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ2YXJpYW50c1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAodmFyaWFudHMpIHtcbiAgICAgIHZhcmlhbnRzLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICB2YXJpYW50cy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRRdWVyeShbdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnByb2R1Y3RJZF0sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJwcm9kdWN0UmVjb21tZW5kYXRpb25zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgcHJvZHVjdElkOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ucHJvZHVjdElkXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHByb2R1Y3RSZWNvbW1lbmRhdGlvbnMpIHtcbiAgICAgIHByb2R1Y3RSZWNvbW1lbmRhdGlvbnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5Qcm9kdWN0RnJhZ21lbnQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG4vLyBHcmFwaFFMXG4vKipcbiAqIFRoZSBKUyBCdXkgU0RLIHByb2R1Y3QgcmVzb3VyY2VcbiAqIEBjbGFzc1xuICovXG5cbnZhciBQcm9kdWN0UmVzb3VyY2UgPSBmdW5jdGlvbiAoX1Jlc291cmNlKSB7XG4gIGluaGVyaXRzJDEoUHJvZHVjdFJlc291cmNlLCBfUmVzb3VyY2UpO1xuXG4gIGZ1bmN0aW9uIFByb2R1Y3RSZXNvdXJjZSgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIFByb2R1Y3RSZXNvdXJjZSk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4kMSh0aGlzLCAoUHJvZHVjdFJlc291cmNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvZHVjdFJlc291cmNlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyQxKFByb2R1Y3RSZXNvdXJjZSwgW3tcbiAgICBrZXk6ICdmZXRjaEFsbCcsXG5cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYWxsIHByb2R1Y3RzIG9uIHRoZSBzaG9wLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQucHJvZHVjdC5mZXRjaEFsbCgpLnRoZW4oKHByb2R1Y3RzKSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgcHJvZHVjdHNcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW50fSBbcGFnZVNpemVdIFRoZSBudW1iZXIgb2YgcHJvZHVjdHMgdG8gZmV0Y2ggcGVyIHBhZ2VcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWxbXX0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIGFuIGFycmF5IG9mIGBHcmFwaE1vZGVsYHMgb2YgdGhlIHByb2R1Y3RzLlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaEFsbCgpIHtcbiAgICAgIHZhciBmaXJzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMjA7XG5cbiAgICAgIHJldHVybiB0aGlzLmdyYXBoUUxDbGllbnQuc2VuZChxdWVyeSQyLCB7IGZpcnN0OiBmaXJzdCB9KS50aGVuKGRlZmF1bHRSZXNvbHZlcigncHJvZHVjdHMnKSkudGhlbihwYWdpbmF0ZVByb2R1Y3RDb25uZWN0aW9uc0FuZFJlc29sdmUodGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhIHNpbmdsZSBwcm9kdWN0IGJ5IElEIG9uIHRoZSBzaG9wLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQucHJvZHVjdC5mZXRjaCgnWGs5bE0ySmtOekZtTnpJUTROVElZNFpERmk5RGFHVmphMjkxZEM5bE0ySmtOPT0nKS50aGVuKChwcm9kdWN0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgcHJvZHVjdFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIFRoZSBpZCBvZiB0aGUgcHJvZHVjdCB0byBmZXRjaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCBhIGBHcmFwaE1vZGVsYCBvZiB0aGUgcHJvZHVjdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmV0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaChpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5LCB7IGlkOiBpZCB9KS50aGVuKGRlZmF1bHRSZXNvbHZlcignbm9kZScpKS50aGVuKHBhZ2luYXRlUHJvZHVjdENvbm5lY3Rpb25zQW5kUmVzb2x2ZSh0aGlzLmdyYXBoUUxDbGllbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIG11bHRpcGxlIHByb2R1Y3RzIGJ5IElEIG9uIHRoZSBzaG9wLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBpZHMgPSBbJ1hrOWxNMkprTnpGbU56SVE0TlRJWTRaREZpOURhR1ZqYTI5MWRDOWxNMkprTj09JywgJ1oybGtPaTh2YzJodmNHbG1lUzlRY205a2RXTjBMemM0TlRjNU9Ea3pPRFE9J107XG4gICAgICogY2xpZW50LnByb2R1Y3QuZmV0Y2hNdWx0aXBsZShpZHMpLnRoZW4oKHByb2R1Y3RzKSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgcHJvZHVjdHNcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGlkcyBUaGUgaWRzIG9mIHRoZSBwcm9kdWN0cyB0byBmZXRjaFxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbFtdfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYSBgR3JhcGhNb2RlbGAgb2YgdGhlIHByb2R1Y3QuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZldGNoTXVsdGlwbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaE11bHRpcGxlKGlkcykge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDEsIHsgaWRzOiBpZHMgfSkudGhlbihkZWZhdWx0UmVzb2x2ZXIoJ25vZGVzJykpLnRoZW4ocGFnaW5hdGVQcm9kdWN0Q29ubmVjdGlvbnNBbmRSZXNvbHZlKHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYSBzaW5nbGUgcHJvZHVjdCBieSBoYW5kbGUgb24gdGhlIHNob3AuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNsaWVudC5wcm9kdWN0LmZldGNoQnlIYW5kbGUoJ215LXByb2R1Y3QnKS50aGVuKChwcm9kdWN0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgcHJvZHVjdFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGhhbmRsZSBUaGUgaGFuZGxlIG9mIHRoZSBwcm9kdWN0IHRvIGZldGNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIGEgYEdyYXBoTW9kZWxgIG9mIHRoZSBwcm9kdWN0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmZXRjaEJ5SGFuZGxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hCeUhhbmRsZShoYW5kbGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyYXBoUUxDbGllbnQuc2VuZChxdWVyeSQzLCB7IGhhbmRsZTogaGFuZGxlIH0pLnRoZW4oZGVmYXVsdFJlc29sdmVyKCdwcm9kdWN0QnlIYW5kbGUnKSkudGhlbihwYWdpbmF0ZVByb2R1Y3RDb25uZWN0aW9uc0FuZFJlc29sdmUodGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbGwgcHJvZHVjdHMgb24gdGhlIHNob3AgdGhhdCBtYXRjaCB0aGUgcXVlcnkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNsaWVudC5wcm9kdWN0LmZldGNoUXVlcnkoe2ZpcnN0OiAyMCwgc29ydEtleTogJ0NSRUFURURfQVQnLCByZXZlcnNlOiB0cnVlfSkudGhlbigocHJvZHVjdHMpID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSBmaXJzdCAxMCBwcm9kdWN0cyBzb3J0ZWQgYnkgdGl0bGUgaW4gYXNjZW5kaW5nIG9yZGVyXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2FyZ3NdIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSBxdWVyeSBkYXRhIGNvbnRhaW5pbmcgemVybyBvciBtb3JlIG9mOlxuICAgICAqICAgQHBhcmFtIHtJbnR9IFthcmdzLmZpcnN0PTIwXSBUaGUgcmVsYXkgYGZpcnN0YCBwYXJhbS4gVGhpcyBzcGVjaWZpZXMgcGFnZSBzaXplLlxuICAgICAqICAgQHBhcmFtIHtTdHJpbmd9IFthcmdzLnNvcnRLZXk9SURdIFRoZSBrZXkgdG8gc29ydCByZXN1bHRzIGJ5LiBBdmFpbGFibGUgdmFsdWVzIGFyZVxuICAgICAqICAgZG9jdW1lbnRlZCBhcyB7QGxpbmsgaHR0cHM6Ly9oZWxwLnNob3BpZnkuY29tL2FwaS9zdG9yZWZyb250LWFwaS9yZWZlcmVuY2UvZW51bS9wcm9kdWN0c29ydGtleXN8UHJvZHVjdCBTb3J0IEtleXN9LlxuICAgICAqICAgQHBhcmFtIHtTdHJpbmd9IFthcmdzLnF1ZXJ5XSBBIHF1ZXJ5IHN0cmluZy4gU2VlIGZ1bGwgZG9jdW1lbnRhdGlvbiB7QGxpbmsgaHR0cHM6Ly9oZWxwLnNob3BpZnkuY29tL2FwaS9zdG9yZWZyb250LWFwaS9yZWZlcmVuY2Uvb2JqZWN0L3Nob3AjcHJvZHVjdHN8aGVyZX1cbiAgICAgKiAgIEBwYXJhbSB7Qm9vbGVhbn0gW2FyZ3MucmV2ZXJzZV0gV2hldGhlciBvciBub3QgdG8gcmV2ZXJzZSB0aGUgc29ydCBvcmRlciBvZiB0aGUgcmVzdWx0c1xuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbFtdfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYW4gYXJyYXkgb2YgYEdyYXBoTW9kZWxgcyBvZiB0aGUgcHJvZHVjdHMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZldGNoUXVlcnknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmZXRjaFF1ZXJ5KCkge1xuICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWYkZmlyc3QgPSBfcmVmLmZpcnN0LFxuICAgICAgICAgIGZpcnN0ID0gX3JlZiRmaXJzdCA9PT0gdW5kZWZpbmVkID8gMjAgOiBfcmVmJGZpcnN0LFxuICAgICAgICAgIF9yZWYkc29ydEtleSA9IF9yZWYuc29ydEtleSxcbiAgICAgICAgICBzb3J0S2V5ID0gX3JlZiRzb3J0S2V5ID09PSB1bmRlZmluZWQgPyAnSUQnIDogX3JlZiRzb3J0S2V5LFxuICAgICAgICAgIHF1ZXJ5JCQxID0gX3JlZi5xdWVyeSxcbiAgICAgICAgICByZXZlcnNlID0gX3JlZi5yZXZlcnNlO1xuXG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMiwge1xuICAgICAgICBmaXJzdDogZmlyc3QsXG4gICAgICAgIHNvcnRLZXk6IHNvcnRLZXksXG4gICAgICAgIHF1ZXJ5OiBxdWVyeSQkMSxcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZVxuICAgICAgfSkudGhlbihkZWZhdWx0UmVzb2x2ZXIoJ3Byb2R1Y3RzJykpLnRoZW4ocGFnaW5hdGVQcm9kdWN0Q29ubmVjdGlvbnNBbmRSZXNvbHZlKHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmQgcmVjb21tZW5kZWQgcHJvZHVjdHMgcmVsYXRlZCB0byBhIGdpdmVuIHByb2R1Y3RJZC5cbiAgICAgKiBUbyBsZWFybiBtb3JlIGFib3V0IGhvdyByZWNvbW1lbmRhdGlvbnMgYXJlIGdlbmVyYXRlZCwgc2VlIGh0dHBzOi8vc2hvcGlmeS5kZXYvdGhlbWVzL3Byb2R1Y3QtbWVyY2hhbmRpc2luZy9yZWNvbW1lbmRhdGlvbnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHByb2R1Y3RJZCAnWGs5bE0ySmtOekZtTnpJUTROVElZNFpERmk5RGFHVmphMjkxZEM5bE0ySmtOPT0nO1xuICAgICAqIGNsaWVudC5wcm9kdWN0LmZldGNoUHJvZHVjdFJlY29tbWVuZGF0aW9ucyhwcm9kdWN0SWQpLnRoZW4oKHByb2R1Y3RzKSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgcHJvZHVjdHNcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9kdWN0SWQgVGhlIGlkIG9mIHRoZSBwcm9kdWN0IHRvIGZldGNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbFtdfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYW4gYXJyYXkgb2YgYEdyYXBoTW9kZWxgcyBvZiB0aGUgcHJvZHVjdHMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZldGNoUmVjb21tZW5kYXRpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hSZWNvbW1lbmRhdGlvbnMocHJvZHVjdElkKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkNCwgeyBwcm9kdWN0SWQ6IHByb2R1Y3RJZCB9KS50aGVuKGRlZmF1bHRSZXNvbHZlcigncHJvZHVjdFJlY29tbWVuZGF0aW9ucycpKS50aGVuKHBhZ2luYXRlUHJvZHVjdENvbm5lY3Rpb25zQW5kUmVzb2x2ZSh0aGlzLmdyYXBoUUxDbGllbnQpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoZWxwZXJzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIHJldHVybiBwcm9kdWN0SGVscGVycztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFByb2R1Y3RSZXNvdXJjZTtcbn0oUmVzb3VyY2UpO1xuXG5mdW5jdGlvbiBxdWVyeSQ1KGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgdmFyIHNwcmVhZHMgPSB7fTtcbiAgdmFyIHZhcmlhYmxlcyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18gPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmlkID0gY2xpZW50LnZhcmlhYmxlKFwiaWRcIiwgXCJJRCFcIik7XG4gIHNwcmVhZHMuQ29sbGVjdGlvbkZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDb2xsZWN0aW9uRnJhZ21lbnRcIiwgXCJDb2xsZWN0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25IdG1sXCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRdLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwibm9kZVwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGlkOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkNvbGxlY3Rpb25GcmFnbWVudCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDYoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWQgPSBjbGllbnQudmFyaWFibGUoXCJpZFwiLCBcIklEIVwiKTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnByb2R1Y3RzRmlyc3QgPSBjbGllbnQudmFyaWFibGUoXCJwcm9kdWN0c0ZpcnN0XCIsIFwiSW50IVwiKTtcbiAgc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlaWdodFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIiwge1xuICAgICAgYWxpYXM6IFwiYXZhaWxhYmxlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInNrdVwiKTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwiY29tcGFyZUF0UHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgIGltYWdlLmFkZChcIndpZHRoXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwiaGVpZ2h0XCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2VsZWN0ZWRPcHRpb25zXCIsIGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlXCIsIGZ1bmN0aW9uICh1bml0UHJpY2UpIHtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlTWVhc3VyZW1lbnRcIiwgZnVuY3Rpb24gKHVuaXRQcmljZU1lYXN1cmVtZW50KSB7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJtZWFzdXJlZFR5cGVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVZhbHVlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVZhbHVlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Db2xsZWN0aW9uRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNvbGxlY3Rpb25GcmFnbWVudFwiLCBcIkNvbGxlY3Rpb25cIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Qcm9kdWN0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlByb2R1Y3RGcmFnbWVudFwiLCBcIlByb2R1Y3RcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiKTtcbiAgICByb290LmFkZChcImNyZWF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcInVwZGF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uSHRtbFwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInZlbmRvclwiKTtcbiAgICByb290LmFkZChcInB1Ymxpc2hlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwib25saW5lU3RvcmVVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcHRpb25zXCIsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBvcHRpb25zLmFkZChcInZhbHVlc1wiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoaW1hZ2VzKSB7XG4gICAgICBpbWFnZXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGltYWdlcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGQoXCJpZFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInVybFwiLCB7XG4gICAgICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcIndpZHRoXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwiaGVpZ2h0XCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidmFyaWFudHNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHZhcmlhbnRzKSB7XG4gICAgICB2YXJpYW50cy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFyaWFudHMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkUXVlcnkoW3ZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5pZCwgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnByb2R1Y3RzRmlyc3RdLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwibm9kZVwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGlkOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkNvbGxlY3Rpb25GcmFnbWVudCk7XG4gICAgICBub2RlLmFkZElubGluZUZyYWdtZW50T24oXCJDb2xsZWN0aW9uXCIsIGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gICAgICAgIENvbGxlY3Rpb24uYWRkKFwicHJvZHVjdHNcIiwge1xuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIGZpcnN0OiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ucHJvZHVjdHNGaXJzdFxuICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKHByb2R1Y3RzKSB7XG4gICAgICAgICAgcHJvZHVjdHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcm9kdWN0cy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLlByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkkNyhjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5maXJzdCA9IGNsaWVudC52YXJpYWJsZShcImZpcnN0XCIsIFwiSW50IVwiKTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnF1ZXJ5ID0gY2xpZW50LnZhcmlhYmxlKFwicXVlcnlcIiwgXCJTdHJpbmdcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5zb3J0S2V5ID0gY2xpZW50LnZhcmlhYmxlKFwic29ydEtleVwiLCBcIkNvbGxlY3Rpb25Tb3J0S2V5c1wiKTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnJldmVyc2UgPSBjbGllbnQudmFyaWFibGUoXCJyZXZlcnNlXCIsIFwiQm9vbGVhblwiKTtcbiAgc3ByZWFkcy5Db2xsZWN0aW9uRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNvbGxlY3Rpb25GcmFnbWVudFwiLCBcIkNvbGxlY3Rpb25cIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkUXVlcnkoW3ZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5maXJzdCwgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnF1ZXJ5LCB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uc29ydEtleSwgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnJldmVyc2VdLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiY29sbGVjdGlvbnNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmZpcnN0LFxuICAgICAgICBxdWVyeTogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnF1ZXJ5LFxuICAgICAgICBzb3J0S2V5OiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uc29ydEtleSxcbiAgICAgICAgcmV2ZXJzZTogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnJldmVyc2VcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoY29sbGVjdGlvbnMpIHtcbiAgICAgIGNvbGxlY3Rpb25zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBjb2xsZWN0aW9ucy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkNvbGxlY3Rpb25GcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDgoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uZmlyc3QgPSBjbGllbnQudmFyaWFibGUoXCJmaXJzdFwiLCBcIkludCFcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5xdWVyeSA9IGNsaWVudC52YXJpYWJsZShcInF1ZXJ5XCIsIFwiU3RyaW5nXCIpO1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uc29ydEtleSA9IGNsaWVudC52YXJpYWJsZShcInNvcnRLZXlcIiwgXCJDb2xsZWN0aW9uU29ydEtleXNcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5yZXZlcnNlID0gY2xpZW50LnZhcmlhYmxlKFwicmV2ZXJzZVwiLCBcIkJvb2xlYW5cIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5wcm9kdWN0c0ZpcnN0ID0gY2xpZW50LnZhcmlhYmxlKFwicHJvZHVjdHNGaXJzdFwiLCBcIkludCFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuQ29sbGVjdGlvbkZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDb2xsZWN0aW9uRnJhZ21lbnRcIiwgXCJDb2xsZWN0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25IdG1sXCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcInByb2R1Y3RUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2ZW5kb3JcIik7XG4gICAgcm9vdC5hZGQoXCJwdWJsaXNoZWRBdFwiKTtcbiAgICByb290LmFkZChcIm9ubGluZVN0b3JlVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3B0aW9uc1wiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgb3B0aW9ucy5hZGQoXCJ2YWx1ZXNcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgaW1hZ2VzLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBpbWFnZXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImFsdFRleHRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImhlaWdodFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInZhcmlhbnRzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uICh2YXJpYW50cykge1xuICAgICAgdmFyaWFudHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIHZhcmlhbnRzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uZmlyc3QsIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5xdWVyeSwgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLnNvcnRLZXksIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5yZXZlcnNlLCB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ucHJvZHVjdHNGaXJzdF0sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJjb2xsZWN0aW9uc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uZmlyc3QsXG4gICAgICAgIHF1ZXJ5OiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ucXVlcnksXG4gICAgICAgIHNvcnRLZXk6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5zb3J0S2V5LFxuICAgICAgICByZXZlcnNlOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ucmV2ZXJzZVxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjb2xsZWN0aW9ucykge1xuICAgICAgY29sbGVjdGlvbnMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGNvbGxlY3Rpb25zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuQ29sbGVjdGlvbkZyYWdtZW50KTtcbiAgICAgICAgICBub2RlLmFkZChcInByb2R1Y3RzXCIsIHtcbiAgICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgICAgZmlyc3Q6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5wcm9kdWN0c0ZpcnN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICBwcm9kdWN0cy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvZHVjdHMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5Qcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQ5KGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgdmFyIHNwcmVhZHMgPSB7fTtcbiAgdmFyIHZhcmlhYmxlcyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18gPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmhhbmRsZSA9IGNsaWVudC52YXJpYWJsZShcImhhbmRsZVwiLCBcIlN0cmluZyFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvbkh0bWxcIik7XG4gICAgcm9vdC5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcInByb2R1Y3RUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2ZW5kb3JcIik7XG4gICAgcm9vdC5hZGQoXCJwdWJsaXNoZWRBdFwiKTtcbiAgICByb290LmFkZChcIm9ubGluZVN0b3JlVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3B0aW9uc1wiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgb3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgb3B0aW9ucy5hZGQoXCJ2YWx1ZXNcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGltYWdlcykge1xuICAgICAgaW1hZ2VzLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBpbWFnZXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImFsdFRleHRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImhlaWdodFwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInZhcmlhbnRzXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uICh2YXJpYW50cykge1xuICAgICAgdmFyaWFudHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIHZhcmlhbnRzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuQ29sbGVjdGlvbkZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDb2xsZWN0aW9uRnJhZ21lbnRcIiwgXCJDb2xsZWN0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImhhbmRsZVwiKTtcbiAgICByb290LmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiZGVzY3JpcHRpb25IdG1sXCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuQ29sbGVjdGlvbnNQcm9kdWN0c0ZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDb2xsZWN0aW9uc1Byb2R1Y3RzRnJhZ21lbnRcIiwgXCJDb2xsZWN0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJwcm9kdWN0c1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyMFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChwcm9kdWN0cykge1xuICAgICAgcHJvZHVjdHMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIHByb2R1Y3RzLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaGFuZGxlXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNvbGxlY3Rpb25CeUhhbmRsZVwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGhhbmRsZTogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmhhbmRsZVxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjb2xsZWN0aW9uQnlIYW5kbGUpIHtcbiAgICAgIGNvbGxlY3Rpb25CeUhhbmRsZS5hZGRGcmFnbWVudChzcHJlYWRzLkNvbGxlY3Rpb25GcmFnbWVudCk7XG4gICAgICBjb2xsZWN0aW9uQnlIYW5kbGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5Db2xsZWN0aW9uc1Byb2R1Y3RzRnJhZ21lbnQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG4vLyBHcmFwaFFMXG4vKipcbiAqIFRoZSBKUyBCdXkgU0RLIGNvbGxlY3Rpb24gcmVzb3VyY2VcbiAqIEBjbGFzc1xuICovXG5cbnZhciBDb2xsZWN0aW9uUmVzb3VyY2UgPSBmdW5jdGlvbiAoX1Jlc291cmNlKSB7XG4gIGluaGVyaXRzJDEoQ29sbGVjdGlvblJlc291cmNlLCBfUmVzb3VyY2UpO1xuXG4gIGZ1bmN0aW9uIENvbGxlY3Rpb25SZXNvdXJjZSgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIENvbGxlY3Rpb25SZXNvdXJjZSk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4kMSh0aGlzLCAoQ29sbGVjdGlvblJlc291cmNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29sbGVjdGlvblJlc291cmNlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyQxKENvbGxlY3Rpb25SZXNvdXJjZSwgW3tcbiAgICBrZXk6ICdmZXRjaEFsbCcsXG5cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYWxsIGNvbGxlY3Rpb25zIG9uIHRoZSBzaG9wLCBub3QgaW5jbHVkaW5nIHByb2R1Y3RzLlxuICAgICAqIFRvIGZldGNoIGNvbGxlY3Rpb25zIHdpdGggcHJvZHVjdHMgdXNlIFtmZXRjaEFsbHNXaXRoUHJvZHVjdHNde0BsaW5rIENsaWVudCNmZXRjaEFsbHNXaXRoUHJvZHVjdHN9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQuY29sbGVjdGlvbi5mZXRjaEFsbCgpLnRoZW4oKGNvbGxlY3Rpb25zKSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgY29sbGVjdGlvbnNcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbFtdfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYW4gYXJyYXkgb2YgYEdyYXBoTW9kZWxgcyBvZiB0aGUgY29sbGVjdGlvbnMuXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQWxsKCkge1xuICAgICAgdmFyIGZpcnN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAyMDtcblxuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDcsIHsgZmlyc3Q6IGZpcnN0IH0pLnRoZW4oZGVmYXVsdFJlc29sdmVyKCdjb2xsZWN0aW9ucycpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGFsbCBjb2xsZWN0aW9ucyBvbiB0aGUgc2hvcCwgaW5jbHVkaW5nIHByb2R1Y3RzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQuY29sbGVjdGlvbi5mZXRjaEFsbFdpdGhQcm9kdWN0cygpLnRoZW4oKGNvbGxlY3Rpb25zKSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgY29sbGVjdGlvbnNcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbFtdfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYW4gYXJyYXkgb2YgYEdyYXBoTW9kZWxgcyBvZiB0aGUgY29sbGVjdGlvbnMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZldGNoQWxsV2l0aFByb2R1Y3RzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hBbGxXaXRoUHJvZHVjdHMoKSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZiRmaXJzdCA9IF9yZWYuZmlyc3QsXG4gICAgICAgICAgZmlyc3QgPSBfcmVmJGZpcnN0ID09PSB1bmRlZmluZWQgPyAyMCA6IF9yZWYkZmlyc3QsXG4gICAgICAgICAgX3JlZiRwcm9kdWN0c0ZpcnN0ID0gX3JlZi5wcm9kdWN0c0ZpcnN0LFxuICAgICAgICAgIHByb2R1Y3RzRmlyc3QgPSBfcmVmJHByb2R1Y3RzRmlyc3QgPT09IHVuZGVmaW5lZCA/IDIwIDogX3JlZiRwcm9kdWN0c0ZpcnN0O1xuXG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkOCwgeyBmaXJzdDogZmlyc3QsIHByb2R1Y3RzRmlyc3Q6IHByb2R1Y3RzRmlyc3QgfSkudGhlbihkZWZhdWx0UmVzb2x2ZXIoJ2NvbGxlY3Rpb25zJykpLnRoZW4ocGFnaW5hdGVDb2xsZWN0aW9uc1Byb2R1Y3RDb25uZWN0aW9uc0FuZFJlc29sdmUodGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhIHNpbmdsZSBjb2xsZWN0aW9uIGJ5IElEIG9uIHRoZSBzaG9wLCBub3QgaW5jbHVkaW5nIHByb2R1Y3RzLlxuICAgICAqIFRvIGZldGNoIHRoZSBjb2xsZWN0aW9uIHdpdGggcHJvZHVjdHMgdXNlIFtmZXRjaFdpdGhQcm9kdWN0c117QGxpbmsgQ2xpZW50I2ZldGNoV2l0aFByb2R1Y3RzfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LmNvbGxlY3Rpb24uZmV0Y2goJ1hrOWxNMkprTnpGbU56SVE0TlRJWTRaREZpWlRVeVpUVXdOVEUyTUROaFpqZz09JykudGhlbigoY29sbGVjdGlvbikgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGNvbGxlY3Rpb24gdG8gZmV0Y2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZXxHcmFwaE1vZGVsfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYSBgR3JhcGhNb2RlbGAgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZldGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2goaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyYXBoUUxDbGllbnQuc2VuZChxdWVyeSQ1LCB7IGlkOiBpZCB9KS50aGVuKGRlZmF1bHRSZXNvbHZlcignbm9kZScpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGEgc2luZ2xlIGNvbGxlY3Rpb24gYnkgSUQgb24gdGhlIHNob3AsIGluY2x1ZGluZyBwcm9kdWN0cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LmNvbGxlY3Rpb24uZmV0Y2hXaXRoUHJvZHVjdHMoJ1hrOWxNMkprTnpGbU56SVE0TlRJWTRaREZpWlRVeVpUVXdOVEUyTUROaFpqZz09JykudGhlbigoY29sbGVjdGlvbikgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGNvbGxlY3Rpb24gdG8gZmV0Y2guXG4gICAgICogQHJldHVybiB7UHJvbWlzZXxHcmFwaE1vZGVsfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYSBgR3JhcGhNb2RlbGAgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZldGNoV2l0aFByb2R1Y3RzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hXaXRoUHJvZHVjdHMoaWQpIHtcbiAgICAgIHZhciBfcmVmMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICAgICAgX3JlZjIkcHJvZHVjdHNGaXJzdCA9IF9yZWYyLnByb2R1Y3RzRmlyc3QsXG4gICAgICAgICAgcHJvZHVjdHNGaXJzdCA9IF9yZWYyJHByb2R1Y3RzRmlyc3QgPT09IHVuZGVmaW5lZCA/IDIwIDogX3JlZjIkcHJvZHVjdHNGaXJzdDtcblxuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDYsIHsgaWQ6IGlkLCBwcm9kdWN0c0ZpcnN0OiBwcm9kdWN0c0ZpcnN0IH0pLnRoZW4oZGVmYXVsdFJlc29sdmVyKCdub2RlJykpLnRoZW4ocGFnaW5hdGVDb2xsZWN0aW9uc1Byb2R1Y3RDb25uZWN0aW9uc0FuZFJlc29sdmUodGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhIGNvbGxlY3Rpb24gYnkgaGFuZGxlIG9uIHRoZSBzaG9wLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQuY29sbGVjdGlvbi5mZXRjaEJ5SGFuZGxlKCdteS1jb2xsZWN0aW9uJykudGhlbigoY29sbGVjdGlvbikgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBoYW5kbGUgVGhlIGhhbmRsZSBvZiB0aGUgY29sbGVjdGlvbiB0byBmZXRjaC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCBhIGBHcmFwaE1vZGVsYCBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmV0Y2hCeUhhbmRsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoQnlIYW5kbGUoaGFuZGxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkOSwgeyBoYW5kbGU6IGhhbmRsZSB9KS50aGVuKGRlZmF1bHRSZXNvbHZlcignY29sbGVjdGlvbkJ5SGFuZGxlJykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgYWxsIGNvbGxlY3Rpb25zIG9uIHRoZSBzaG9wIHRoYXQgbWF0Y2ggdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQuY29sbGVjdGlvbi5mZXRjaFF1ZXJ5KHtmaXJzdDogMjAsIHNvcnRLZXk6ICdDUkVBVEVEX0FUJywgcmV2ZXJzZTogdHJ1ZX0pLnRoZW4oKGNvbGxlY3Rpb25zKSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgZmlyc3QgMTAgY29sbGVjdGlvbnMgc29ydGVkIGJ5IHRpdGxlIGluIGFzY2VuZGluZyBvcmRlclxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFthcmdzXSBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgcXVlcnkgZGF0YSBjb250YWluaW5nIHplcm8gb3IgbW9yZSBvZjpcbiAgICAgKiAgIEBwYXJhbSB7SW50fSBbYXJncy5maXJzdD0yMF0gVGhlIHJlbGF5IGBmaXJzdGAgcGFyYW0uIFRoaXMgc3BlY2lmaWVzIHBhZ2Ugc2l6ZS5cbiAgICAgKiAgIEBwYXJhbSB7U3RyaW5nfSBbYXJncy5zb3J0S2V5PUlEXSBUaGUga2V5IHRvIHNvcnQgcmVzdWx0cyBieS4gQXZhaWxhYmxlIHZhbHVlcyBhcmVcbiAgICAgKiAgIGRvY3VtZW50ZWQgYXMge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL2VudW0vY29sbGVjdGlvbnNvcnRrZXlzfENvbGxlY3Rpb24gU29ydCBLZXlzfS5cbiAgICAgKiAgIEBwYXJhbSB7U3RyaW5nfSBbYXJncy5xdWVyeV0gQSBxdWVyeSBzdHJpbmcuIFNlZSBmdWxsIGRvY3VtZW50YXRpb24ge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL29iamVjdC9zaG9wI2NvbGxlY3Rpb25zfGhlcmV9XG4gICAgICogICBAcGFyYW0ge0Jvb2xlYW59IFthcmdzLnJldmVyc2VdIFdoZXRoZXIgb3Igbm90IHRvIHJldmVyc2UgdGhlIHNvcnQgb3JkZXIgb2YgdGhlIHJlc3VsdHNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWxbXX0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIGFuIGFycmF5IG9mIGBHcmFwaE1vZGVsYHMgb2YgdGhlIGNvbGxlY3Rpb25zLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmZXRjaFF1ZXJ5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hRdWVyeSgpIHtcbiAgICAgIHZhciBfcmVmMyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZjMkZmlyc3QgPSBfcmVmMy5maXJzdCxcbiAgICAgICAgICBmaXJzdCA9IF9yZWYzJGZpcnN0ID09PSB1bmRlZmluZWQgPyAyMCA6IF9yZWYzJGZpcnN0LFxuICAgICAgICAgIF9yZWYzJHNvcnRLZXkgPSBfcmVmMy5zb3J0S2V5LFxuICAgICAgICAgIHNvcnRLZXkgPSBfcmVmMyRzb3J0S2V5ID09PSB1bmRlZmluZWQgPyAnSUQnIDogX3JlZjMkc29ydEtleSxcbiAgICAgICAgICBxdWVyeSA9IF9yZWYzLnF1ZXJ5LFxuICAgICAgICAgIHJldmVyc2UgPSBfcmVmMy5yZXZlcnNlO1xuXG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkNywge1xuICAgICAgICBmaXJzdDogZmlyc3QsXG4gICAgICAgIHNvcnRLZXk6IHNvcnRLZXksXG4gICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgcmV2ZXJzZTogcmV2ZXJzZVxuICAgICAgfSkudGhlbihkZWZhdWx0UmVzb2x2ZXIoJ2NvbGxlY3Rpb25zJykpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ29sbGVjdGlvblJlc291cmNlO1xufShSZXNvdXJjZSk7XG5cbmZ1bmN0aW9uIHF1ZXJ5JDEwKGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgZG9jdW1lbnQuYWRkUXVlcnkoZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInNob3BcIiwgZnVuY3Rpb24gKHNob3ApIHtcbiAgICAgIHNob3AuYWRkKFwicGF5bWVudFNldHRpbmdzXCIsIGZ1bmN0aW9uIChwYXltZW50U2V0dGluZ3MpIHtcbiAgICAgICAgcGF5bWVudFNldHRpbmdzLmFkZChcImVuYWJsZWRQcmVzZW50bWVudEN1cnJlbmNpZXNcIik7XG4gICAgICB9KTtcbiAgICAgIHNob3AuYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgICBzaG9wLmFkZChcIm1vbmV5Rm9ybWF0XCIpO1xuICAgICAgc2hvcC5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2hvcC5hZGQoXCJwcmltYXJ5RG9tYWluXCIsIGZ1bmN0aW9uIChwcmltYXJ5RG9tYWluKSB7XG4gICAgICAgIHByaW1hcnlEb21haW4uYWRkKFwiaG9zdFwiKTtcbiAgICAgICAgcHJpbWFyeURvbWFpbi5hZGQoXCJzc2xFbmFibGVkXCIpO1xuICAgICAgICBwcmltYXJ5RG9tYWluLmFkZChcInVybFwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQxMShjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHNwcmVhZHMuUG9saWN5RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlBvbGljeUZyYWdtZW50XCIsIFwiU2hvcFBvbGljeVwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInVybFwiKTtcbiAgICByb290LmFkZChcImJvZHlcIik7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRRdWVyeShmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwic2hvcFwiLCBmdW5jdGlvbiAoc2hvcCkge1xuICAgICAgc2hvcC5hZGQoXCJwcml2YWN5UG9saWN5XCIsIGZ1bmN0aW9uIChwcml2YWN5UG9saWN5KSB7XG4gICAgICAgIHByaXZhY3lQb2xpY3kuYWRkRnJhZ21lbnQoc3ByZWFkcy5Qb2xpY3lGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIHNob3AuYWRkKFwidGVybXNPZlNlcnZpY2VcIiwgZnVuY3Rpb24gKHRlcm1zT2ZTZXJ2aWNlKSB7XG4gICAgICAgIHRlcm1zT2ZTZXJ2aWNlLmFkZEZyYWdtZW50KHNwcmVhZHMuUG9saWN5RnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBzaG9wLmFkZChcInJlZnVuZFBvbGljeVwiLCBmdW5jdGlvbiAocmVmdW5kUG9saWN5KSB7XG4gICAgICAgIHJlZnVuZFBvbGljeS5hZGRGcmFnbWVudChzcHJlYWRzLlBvbGljeUZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG4vLyBHcmFwaFFMXG4vKipcbiAqIFRoZSBKUyBCdXkgU0RLIHNob3AgcmVzb3VyY2VcbiAqIEBjbGFzc1xuICovXG5cbnZhciBTaG9wUmVzb3VyY2UgPSBmdW5jdGlvbiAoX1Jlc291cmNlKSB7XG4gIGluaGVyaXRzJDEoU2hvcFJlc291cmNlLCBfUmVzb3VyY2UpO1xuXG4gIGZ1bmN0aW9uIFNob3BSZXNvdXJjZSgpIHtcbiAgICBjbGFzc0NhbGxDaGVjayQxKHRoaXMsIFNob3BSZXNvdXJjZSk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4kMSh0aGlzLCAoU2hvcFJlc291cmNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2hvcFJlc291cmNlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyQxKFNob3BSZXNvdXJjZSwgW3tcbiAgICBrZXk6ICdmZXRjaEluZm8nLFxuXG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHNob3AgaW5mb3JtYXRpb24gKGBjdXJyZW5jeUNvZGVgLCBgZGVzY3JpcHRpb25gLCBgbW9uZXlGb3JtYXRgLCBgbmFtZWAsIGFuZCBgcHJpbWFyeURvbWFpbmApLlxuICAgICAqIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL29iamVjdC9zaG9wfFN0b3JlZnJvbnQgQVBJIHJlZmVyZW5jZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNsaWVudC5zaG9wLmZldGNoSW5mbygpLnRoZW4oKHNob3ApID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSBzaG9wXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCBhIGBHcmFwaE1vZGVsYCBvZiB0aGUgc2hvcC5cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hJbmZvKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDEwKS50aGVuKGRlZmF1bHRSZXNvbHZlcignc2hvcCcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHNob3AgcG9saWNpZXMgKHByaXZhY3kgcG9saWN5LCB0ZXJtcyBvZiBzZXJ2aWNlIGFuZCByZWZ1bmQgcG9saWN5KS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY2xpZW50LnNob3AuZmV0Y2hQb2xpY2llcygpLnRoZW4oKHNob3ApID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSBzaG9wXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCBhIGBHcmFwaE1vZGVsYCBvZiB0aGUgc2hvcC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZmV0Y2hQb2xpY2llcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZldGNoUG9saWNpZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMTEpLnRoZW4oZGVmYXVsdFJlc29sdmVyKCdzaG9wJykpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2hvcFJlc291cmNlO1xufShSZXNvdXJjZSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUNoZWNrb3V0TXV0YXRpb24obXV0YXRpb25Sb290S2V5LCBjbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIF9yZWYkZGF0YSA9IF9yZWYuZGF0YSxcbiAgICAgICAgZGF0YSA9IF9yZWYkZGF0YSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGRhdGEsXG4gICAgICAgIGVycm9ycyA9IF9yZWYuZXJyb3JzLFxuICAgICAgICBfcmVmJG1vZGVsID0gX3JlZi5tb2RlbCxcbiAgICAgICAgbW9kZWwgPSBfcmVmJG1vZGVsID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkbW9kZWw7XG5cbiAgICB2YXIgcm9vdERhdGEgPSBkYXRhW211dGF0aW9uUm9vdEtleV07XG4gICAgdmFyIHJvb3RNb2RlbCA9IG1vZGVsW211dGF0aW9uUm9vdEtleV07XG5cbiAgICBpZiAocm9vdERhdGEgJiYgcm9vdERhdGEuY2hlY2tvdXQpIHtcbiAgICAgIHJldHVybiBjbGllbnQuZmV0Y2hBbGxQYWdlcyhyb290TW9kZWwuY2hlY2tvdXQubGluZUl0ZW1zLCB7IHBhZ2VTaXplOiAyNTAgfSkudGhlbihmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICAgIHJvb3RNb2RlbC5jaGVja291dC5hdHRycy5saW5lSXRlbXMgPSBsaW5lSXRlbXM7XG4gICAgICAgIHJvb3RNb2RlbC5jaGVja291dC5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHJvb3RNb2RlbC5jaGVja291dC51c2VyRXJyb3JzID0gcm9vdE1vZGVsLnVzZXJFcnJvcnM7XG5cbiAgICAgICAgcmV0dXJuIHJvb3RNb2RlbC5jaGVja291dDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlcnJvcnMgJiYgZXJyb3JzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlcnJvcnMpKSk7XG4gICAgfVxuXG4gICAgaWYgKHJvb3REYXRhICYmIHJvb3REYXRhLmNoZWNrb3V0VXNlckVycm9ycyAmJiByb290RGF0YS5jaGVja291dFVzZXJFcnJvcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHJvb3REYXRhLmNoZWNrb3V0VXNlckVycm9ycykpKTtcbiAgICB9XG5cbiAgICBpZiAocm9vdERhdGEgJiYgcm9vdERhdGEudXNlckVycm9ycyAmJiByb290RGF0YS51c2VyRXJyb3JzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShyb290RGF0YS51c2VyRXJyb3JzKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJUaGUgXCIgKyBtdXRhdGlvblJvb3RLZXkgKyBcIiBtdXRhdGlvbiBmYWlsZWQgZHVlIHRvIGFuIHVua25vd24gZXJyb3IuXCIpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcXVlcnkkMTIoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWQgPSBjbGllbnQudmFyaWFibGUoXCJpZFwiLCBcIklEIVwiKTtcbiAgc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlaWdodFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIiwge1xuICAgICAgYWxpYXM6IFwiYXZhaWxhYmxlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInNrdVwiKTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwiY29tcGFyZUF0UHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgIGltYWdlLmFkZChcIndpZHRoXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwiaGVpZ2h0XCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2VsZWN0ZWRPcHRpb25zXCIsIGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlXCIsIGZ1bmN0aW9uICh1bml0UHJpY2UpIHtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlTWVhc3VyZW1lbnRcIiwgZnVuY3Rpb24gKHVuaXRQcmljZU1lYXN1cmVtZW50KSB7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJtZWFzdXJlZFR5cGVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVZhbHVlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVZhbHVlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudFwiLCBcIkRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInRhcmdldFNlbGVjdGlvblwiKTtcbiAgICByb290LmFkZChcImFsbG9jYXRpb25NZXRob2RcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidmFsdWVcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTW9uZXlWMlwiLCBmdW5jdGlvbiAoTW9uZXlWMikge1xuICAgICAgICBNb25leVYyLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJQcmljaW5nUGVyY2VudGFnZVZhbHVlXCIsIGZ1bmN0aW9uIChQcmljaW5nUGVyY2VudGFnZVZhbHVlKSB7XG4gICAgICAgIFByaWNpbmdQZXJjZW50YWdlVmFsdWUuYWRkKFwicGVyY2VudGFnZVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1hbnVhbERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkRpc2NvdW50Q29kZUFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChEaXNjb3VudENvZGVBcHBsaWNhdGlvbikge1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiY29kZVwiKTtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImFwcGxpY2FibGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQXBwbGllZEdpZnRDYXJkRnJhZ21lbnRcIiwgXCJBcHBsaWVkR2lmdENhcmRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIHtcbiAgICAgIGFsaWFzOiBcImFtb3VudFVzZWRWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCB7XG4gICAgICBhbGlhczogXCJiYWxhbmNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJlc2VudG1lbnRBbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChwcmVzZW50bWVudEFtb3VudFVzZWQpIHtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0Q2hhcmFjdGVyc1wiKTtcbiAgfSk7XG4gIHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICByb290LmFkZChcInByb2R1Y3RcIiwgZnVuY3Rpb24gKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaWRcIik7XG4gICAgICBwcm9kdWN0LmFkZChcImhhbmRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiTWFpbGluZ0FkZHJlc3NGcmFnbWVudFwiLCBcIk1haWxpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MxXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczJcIik7XG4gICAgcm9vdC5hZGQoXCJjaXR5XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFueVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlcIik7XG4gICAgcm9vdC5hZGQoXCJmaXJzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJmb3JtYXR0ZWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImxhdGl0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwibG9uZ2l0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwicGhvbmVcIik7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZVwiKTtcbiAgICByb290LmFkZChcInppcFwiKTtcbiAgICByb290LmFkZChcIm5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5Q29kZVYyXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvdW50cnlDb2RlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInByb3ZpbmNlQ29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRGcmFnbWVudFwiLCBcIkNoZWNrb3V0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInJlYWR5XCIpO1xuICAgIHJvb3QuYWRkKFwicmVxdWlyZXNTaGlwcGluZ1wiKTtcbiAgICByb290LmFkZChcIm5vdGVcIik7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCB7XG4gICAgICBhbGlhczogXCJwYXltZW50RHVlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2ViVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3JkZXJTdGF0dXNVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhFeGVtcHRcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhlc0luY2x1ZGVkXCIpO1xuICAgIHJvb3QuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1N1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UpIHtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBsZXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiY3JlYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiZW1haWxcIik7XG4gICAgcm9vdC5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAxMFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9ucykge1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhcHBsaWVkR2lmdENhcmRzXCIsIGZ1bmN0aW9uIChhcHBsaWVkR2lmdENhcmRzKSB7XG4gICAgICBhcHBsaWVkR2lmdENhcmRzLmFkZEZyYWdtZW50KHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdMaW5lXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0xpbmUpIHtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJoYW5kbGVcIik7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwib3JkZXJcIiwgZnVuY3Rpb24gKG9yZGVyKSB7XG4gICAgICBvcmRlci5hZGQoXCJpZFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInByb2Nlc3NlZEF0XCIpO1xuICAgICAgb3JkZXIuYWRkKFwib3JkZXJOdW1iZXJcIik7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsU2hpcHBpbmdQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxSZWZ1bmRlZFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VzdG9tZXJVcmxcIik7XG4gICAgICBvcmRlci5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgICAgYXJnczoge1xuICAgICAgICAgIGZpcnN0OiAyNTBcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGQoXCJpZFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwiZGlzY291bnRBbGxvY2F0aW9uc1wiLCBmdW5jdGlvbiAoZGlzY291bnRBbGxvY2F0aW9ucykge1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJhbGxvY2F0ZWRBbW91bnRcIiwgZnVuY3Rpb24gKGFsbG9jYXRlZEFtb3VudCkge1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgZGlzY291bnRBcHBsaWNhdGlvbi5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZFF1ZXJ5KFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRdLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwibm9kZVwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGlkOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uaWRcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQxMyhjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5pbnB1dCA9IGNsaWVudC52YXJpYWJsZShcImlucHV0XCIsIFwiQ2hlY2tvdXRDcmVhdGVJbnB1dCFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJEaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnRcIiwgXCJEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRTZWxlY3Rpb25cIik7XG4gICAgcm9vdC5hZGQoXCJhbGxvY2F0aW9uTWV0aG9kXCIpO1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0VHlwZVwiKTtcbiAgICByb290LmFkZChcInZhbHVlXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1vbmV5VjJcIiwgZnVuY3Rpb24gKE1vbmV5VjIpIHtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZVwiLCBmdW5jdGlvbiAoUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZSkge1xuICAgICAgICBQcmljaW5nUGVyY2VudGFnZVZhbHVlLmFkZChcInBlcmNlbnRhZ2VcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJEaXNjb3VudENvZGVBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoRGlzY291bnRDb2RlQXBwbGljYXRpb24pIHtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImNvZGVcIik7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJhcHBsaWNhYmxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIlNjcmlwdERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKFNjcmlwdERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIFNjcmlwdERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50XCIsIFwiQXBwbGllZEdpZnRDYXJkXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChhbW91bnRVc2VkKSB7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCB7XG4gICAgICBhbGlhczogXCJhbW91bnRVc2VkVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChhbW91bnRVc2VkKSB7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCBmdW5jdGlvbiAoYmFsYW5jZSkge1xuICAgICAgYmFsYW5jZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBiYWxhbmNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwge1xuICAgICAgYWxpYXM6IFwiYmFsYW5jZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYmFsYW5jZSkge1xuICAgICAgYmFsYW5jZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBiYWxhbmNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByZXNlbnRtZW50QW1vdW50VXNlZFwiLCBmdW5jdGlvbiAocHJlc2VudG1lbnRBbW91bnRVc2VkKSB7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdENoYXJhY3RlcnNcIik7XG4gIH0pO1xuICBzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCk7XG4gICAgcm9vdC5hZGQoXCJwcm9kdWN0XCIsIGZ1bmN0aW9uIChwcm9kdWN0KSB7XG4gICAgICBwcm9kdWN0LmFkZChcImlkXCIpO1xuICAgICAgcHJvZHVjdC5hZGQoXCJoYW5kbGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJVc2VyRXJyb3JGcmFnbWVudFwiLCBcIlVzZXJFcnJvclwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiZmllbGRcIik7XG4gICAgcm9vdC5hZGQoXCJtZXNzYWdlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dFVzZXJFcnJvckZyYWdtZW50XCIsIFwiQ2hlY2tvdXRVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgICByb290LmFkZChcImNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIk1haWxpbmdBZGRyZXNzRnJhZ21lbnRcIiwgXCJNYWlsaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMVwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MyXCIpO1xuICAgIHJvb3QuYWRkKFwiY2l0eVwiKTtcbiAgICByb290LmFkZChcImNvbXBhbnlcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5XCIpO1xuICAgIHJvb3QuYWRkKFwiZmlyc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiZm9ybWF0dGVkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJsYXRpdHVkZVwiKTtcbiAgICByb290LmFkZChcImxvbmdpdHVkZVwiKTtcbiAgICByb290LmFkZChcInBob25lXCIpO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VcIik7XG4gICAgcm9vdC5hZGQoXCJ6aXBcIik7XG4gICAgcm9vdC5hZGQoXCJuYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeUNvZGVWMlwiLCB7XG4gICAgICBhbGlhczogXCJjb3VudHJ5Q29kZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZUNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0RnJhZ21lbnRcIiwgXCJDaGVja291dFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJyZWFkeVwiKTtcbiAgICByb290LmFkZChcInJlcXVpcmVzU2hpcHBpbmdcIik7XG4gICAgcm9vdC5hZGQoXCJub3RlXCIpO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwge1xuICAgICAgYWxpYXM6IFwicGF5bWVudER1ZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlYlVybFwiKTtcbiAgICByb290LmFkZChcIm9yZGVyU3RhdHVzVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwidGF4RXhlbXB0XCIpO1xuICAgIHJvb3QuYWRkKFwidGF4ZXNJbmNsdWRlZFwiKTtcbiAgICByb290LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNTdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChsaW5lSXRlbXNTdWJ0b3RhbFByaWNlKSB7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wbGV0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImNyZWF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcInVwZGF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImVtYWlsXCIpO1xuICAgIHJvb3QuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvbnNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbnMpIHtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYXBwbGllZEdpZnRDYXJkc1wiLCBmdW5jdGlvbiAoYXBwbGllZEdpZnRDYXJkcykge1xuICAgICAgYXBwbGllZEdpZnRDYXJkcy5hZGRGcmFnbWVudChzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nTGluZVwiLCBmdW5jdGlvbiAoc2hpcHBpbmdMaW5lKSB7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwiaGFuZGxlXCIpO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIm9yZGVyXCIsIGZ1bmN0aW9uIChvcmRlcikge1xuICAgICAgb3JkZXIuYWRkKFwiaWRcIik7XG4gICAgICBvcmRlci5hZGQoXCJwcm9jZXNzZWRBdFwiKTtcbiAgICAgIG9yZGVyLmFkZChcIm9yZGVyTnVtYmVyXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFNoaXBwaW5nUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUmVmdW5kZWRWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1c3RvbWVyVXJsXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICBmaXJzdDogMjUwXG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImRpc2NvdW50QWxsb2NhdGlvbnNcIiwgZnVuY3Rpb24gKGRpc2NvdW50QWxsb2NhdGlvbnMpIHtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiYWxsb2NhdGVkQW1vdW50XCIsIGZ1bmN0aW9uIChhbGxvY2F0ZWRBbW91bnQpIHtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICAgICAgICAgIGRpc2NvdW50QXBwbGljYXRpb24uYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRNdXRhdGlvbihbdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmlucHV0XSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNoZWNrb3V0Q3JlYXRlXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgaW5wdXQ6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5pbnB1dFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjaGVja291dENyZWF0ZSkge1xuICAgICAgY2hlY2tvdXRDcmVhdGUuYWRkKFwidXNlckVycm9yc1wiLCBmdW5jdGlvbiAodXNlckVycm9ycykge1xuICAgICAgICB1c2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dENyZWF0ZS5hZGQoXCJjaGVja291dFVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKGNoZWNrb3V0VXNlckVycm9ycykge1xuICAgICAgICBjaGVja291dFVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRDcmVhdGUuYWRkKFwiY2hlY2tvdXRcIiwgZnVuY3Rpb24gKGNoZWNrb3V0KSB7XG4gICAgICAgIGNoZWNrb3V0LmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkkMTQoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uY2hlY2tvdXRJZCA9IGNsaWVudC52YXJpYWJsZShcImNoZWNrb3V0SWRcIiwgXCJJRCFcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5saW5lSXRlbXMgPSBjbGllbnQudmFyaWFibGUoXCJsaW5lSXRlbXNcIiwgXCJbQ2hlY2tvdXRMaW5lSXRlbUlucHV0IV0hXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50XCIsIFwiRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0U2VsZWN0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiYWxsb2NhdGlvbk1ldGhvZFwiKTtcbiAgICByb290LmFkZChcInRhcmdldFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJNb25leVYyXCIsIGZ1bmN0aW9uIChNb25leVYyKSB7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBNb25leVYyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIlByaWNpbmdQZXJjZW50YWdlVmFsdWVcIiwgZnVuY3Rpb24gKFByaWNpbmdQZXJjZW50YWdlVmFsdWUpIHtcbiAgICAgICAgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZS5hZGQoXCJwZXJjZW50YWdlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKERpc2NvdW50Q29kZUFwcGxpY2F0aW9uKSB7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJjb2RlXCIpO1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiYXBwbGljYWJsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJBcHBsaWVkR2lmdENhcmRGcmFnbWVudFwiLCBcIkFwcGxpZWRHaWZ0Q2FyZFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwge1xuICAgICAgYWxpYXM6IFwiYW1vdW50VXNlZFYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImJhbGFuY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmVzZW50bWVudEFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKHByZXNlbnRtZW50QW1vdW50VXNlZCkge1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImxhc3RDaGFyYWN0ZXJzXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFwiLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5hZGQoXCJpZFwiKTtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVXNlckVycm9yRnJhZ21lbnRcIiwgXCJVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudFwiLCBcIkNoZWNrb3V0VXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gICAgcm9vdC5hZGQoXCJjb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJNYWlsaW5nQWRkcmVzc0ZyYWdtZW50XCIsIFwiTWFpbGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczFcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMlwiKTtcbiAgICByb290LmFkZChcImNpdHlcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYW55XCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeVwiKTtcbiAgICByb290LmFkZChcImZpcnN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImZvcm1hdHRlZFwiKTtcbiAgICByb290LmFkZChcImxhc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwibGF0aXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJsb25naXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJwaG9uZVwiKTtcbiAgICByb290LmFkZChcInByb3ZpbmNlXCIpO1xuICAgIHJvb3QuYWRkKFwiemlwXCIpO1xuICAgIHJvb3QuYWRkKFwibmFtZVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlDb2RlVjJcIiwge1xuICAgICAgYWxpYXM6IFwiY291bnRyeUNvZGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VDb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dEZyYWdtZW50XCIsIFwiQ2hlY2tvdXRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwicmVhZHlcIik7XG4gICAgcm9vdC5hZGQoXCJyZXF1aXJlc1NoaXBwaW5nXCIpO1xuICAgIHJvb3QuYWRkKFwibm90ZVwiKTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIHtcbiAgICAgIGFsaWFzOiBcInBheW1lbnREdWVWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWJVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcmRlclN0YXR1c1VybFwiKTtcbiAgICByb290LmFkZChcInRheEV4ZW1wdFwiKTtcbiAgICByb290LmFkZChcInRheGVzSW5jbHVkZWRcIik7XG4gICAgcm9vdC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zU3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAobGluZUl0ZW1zU3VidG90YWxQcmljZSkge1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGxldGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJlbWFpbFwiKTtcbiAgICByb290LmFkZChcImRpc2NvdW50QXBwbGljYXRpb25zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDEwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb25zKSB7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFwcGxpZWRHaWZ0Q2FyZHNcIiwgZnVuY3Rpb24gKGFwcGxpZWRHaWZ0Q2FyZHMpIHtcbiAgICAgIGFwcGxpZWRHaWZ0Q2FyZHMuYWRkRnJhZ21lbnQoc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0xpbmVcIiwgZnVuY3Rpb24gKHNoaXBwaW5nTGluZSkge1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcImhhbmRsZVwiKTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJvcmRlclwiLCBmdW5jdGlvbiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmFkZChcImlkXCIpO1xuICAgICAgb3JkZXIuYWRkKFwicHJvY2Vzc2VkQXRcIik7XG4gICAgICBvcmRlci5hZGQoXCJvcmRlck51bWJlclwiKTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxTaGlwcGluZ1ByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFJlZnVuZGVkVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXN0b21lclVybFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZChcImlkXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJkaXNjb3VudEFsbG9jYXRpb25zXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFsbG9jYXRpb25zKSB7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImFsbG9jYXRlZEFtb3VudFwiLCBmdW5jdGlvbiAoYWxsb2NhdGVkQW1vdW50KSB7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgICAgICAgICBkaXNjb3VudEFwcGxpY2F0aW9uLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkTXV0YXRpb24oW3ZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5jaGVja291dElkLCB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ubGluZUl0ZW1zXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNoZWNrb3V0TGluZUl0ZW1zQWRkXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgY2hlY2tvdXRJZDogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmNoZWNrb3V0SWQsXG4gICAgICAgIGxpbmVJdGVtczogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmxpbmVJdGVtc1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjaGVja291dExpbmVJdGVtc0FkZCkge1xuICAgICAgY2hlY2tvdXRMaW5lSXRlbXNBZGQuYWRkKFwidXNlckVycm9yc1wiLCBmdW5jdGlvbiAodXNlckVycm9ycykge1xuICAgICAgICB1c2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dExpbmVJdGVtc0FkZC5hZGQoXCJjaGVja291dFVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKGNoZWNrb3V0VXNlckVycm9ycykge1xuICAgICAgICBjaGVja291dFVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRMaW5lSXRlbXNBZGQuYWRkKFwiY2hlY2tvdXRcIiwgZnVuY3Rpb24gKGNoZWNrb3V0KSB7XG4gICAgICAgIGNoZWNrb3V0LmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkkMTUoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uY2hlY2tvdXRJZCA9IGNsaWVudC52YXJpYWJsZShcImNoZWNrb3V0SWRcIiwgXCJJRCFcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5saW5lSXRlbUlkcyA9IGNsaWVudC52YXJpYWJsZShcImxpbmVJdGVtSWRzXCIsIFwiW0lEIV0hXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50XCIsIFwiRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0U2VsZWN0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiYWxsb2NhdGlvbk1ldGhvZFwiKTtcbiAgICByb290LmFkZChcInRhcmdldFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJNb25leVYyXCIsIGZ1bmN0aW9uIChNb25leVYyKSB7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBNb25leVYyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIlByaWNpbmdQZXJjZW50YWdlVmFsdWVcIiwgZnVuY3Rpb24gKFByaWNpbmdQZXJjZW50YWdlVmFsdWUpIHtcbiAgICAgICAgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZS5hZGQoXCJwZXJjZW50YWdlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKERpc2NvdW50Q29kZUFwcGxpY2F0aW9uKSB7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJjb2RlXCIpO1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiYXBwbGljYWJsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJBcHBsaWVkR2lmdENhcmRGcmFnbWVudFwiLCBcIkFwcGxpZWRHaWZ0Q2FyZFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwge1xuICAgICAgYWxpYXM6IFwiYW1vdW50VXNlZFYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImJhbGFuY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmVzZW50bWVudEFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKHByZXNlbnRtZW50QW1vdW50VXNlZCkge1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImxhc3RDaGFyYWN0ZXJzXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFwiLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5hZGQoXCJpZFwiKTtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVXNlckVycm9yRnJhZ21lbnRcIiwgXCJVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudFwiLCBcIkNoZWNrb3V0VXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gICAgcm9vdC5hZGQoXCJjb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJNYWlsaW5nQWRkcmVzc0ZyYWdtZW50XCIsIFwiTWFpbGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczFcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMlwiKTtcbiAgICByb290LmFkZChcImNpdHlcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYW55XCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeVwiKTtcbiAgICByb290LmFkZChcImZpcnN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImZvcm1hdHRlZFwiKTtcbiAgICByb290LmFkZChcImxhc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwibGF0aXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJsb25naXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJwaG9uZVwiKTtcbiAgICByb290LmFkZChcInByb3ZpbmNlXCIpO1xuICAgIHJvb3QuYWRkKFwiemlwXCIpO1xuICAgIHJvb3QuYWRkKFwibmFtZVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlDb2RlVjJcIiwge1xuICAgICAgYWxpYXM6IFwiY291bnRyeUNvZGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VDb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dEZyYWdtZW50XCIsIFwiQ2hlY2tvdXRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwicmVhZHlcIik7XG4gICAgcm9vdC5hZGQoXCJyZXF1aXJlc1NoaXBwaW5nXCIpO1xuICAgIHJvb3QuYWRkKFwibm90ZVwiKTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIHtcbiAgICAgIGFsaWFzOiBcInBheW1lbnREdWVWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWJVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcmRlclN0YXR1c1VybFwiKTtcbiAgICByb290LmFkZChcInRheEV4ZW1wdFwiKTtcbiAgICByb290LmFkZChcInRheGVzSW5jbHVkZWRcIik7XG4gICAgcm9vdC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zU3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAobGluZUl0ZW1zU3VidG90YWxQcmljZSkge1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGxldGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJlbWFpbFwiKTtcbiAgICByb290LmFkZChcImRpc2NvdW50QXBwbGljYXRpb25zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDEwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb25zKSB7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFwcGxpZWRHaWZ0Q2FyZHNcIiwgZnVuY3Rpb24gKGFwcGxpZWRHaWZ0Q2FyZHMpIHtcbiAgICAgIGFwcGxpZWRHaWZ0Q2FyZHMuYWRkRnJhZ21lbnQoc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0xpbmVcIiwgZnVuY3Rpb24gKHNoaXBwaW5nTGluZSkge1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcImhhbmRsZVwiKTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJvcmRlclwiLCBmdW5jdGlvbiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmFkZChcImlkXCIpO1xuICAgICAgb3JkZXIuYWRkKFwicHJvY2Vzc2VkQXRcIik7XG4gICAgICBvcmRlci5hZGQoXCJvcmRlck51bWJlclwiKTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxTaGlwcGluZ1ByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFJlZnVuZGVkVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXN0b21lclVybFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZChcImlkXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJkaXNjb3VudEFsbG9jYXRpb25zXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFsbG9jYXRpb25zKSB7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImFsbG9jYXRlZEFtb3VudFwiLCBmdW5jdGlvbiAoYWxsb2NhdGVkQW1vdW50KSB7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgICAgICAgICBkaXNjb3VudEFwcGxpY2F0aW9uLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkTXV0YXRpb24oW3ZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5jaGVja291dElkLCB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ubGluZUl0ZW1JZHNdLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiY2hlY2tvdXRMaW5lSXRlbXNSZW1vdmVcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBjaGVja291dElkOiB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uY2hlY2tvdXRJZCxcbiAgICAgICAgbGluZUl0ZW1JZHM6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5saW5lSXRlbUlkc1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjaGVja291dExpbmVJdGVtc1JlbW92ZSkge1xuICAgICAgY2hlY2tvdXRMaW5lSXRlbXNSZW1vdmUuYWRkKFwidXNlckVycm9yc1wiLCBmdW5jdGlvbiAodXNlckVycm9ycykge1xuICAgICAgICB1c2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dExpbmVJdGVtc1JlbW92ZS5hZGQoXCJjaGVja291dFVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKGNoZWNrb3V0VXNlckVycm9ycykge1xuICAgICAgICBjaGVja291dFVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRMaW5lSXRlbXNSZW1vdmUuYWRkKFwiY2hlY2tvdXRcIiwgZnVuY3Rpb24gKGNoZWNrb3V0KSB7XG4gICAgICAgIGNoZWNrb3V0LmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkkMTYoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uY2hlY2tvdXRJZCA9IGNsaWVudC52YXJpYWJsZShcImNoZWNrb3V0SWRcIiwgXCJJRCFcIik7XG4gIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5saW5lSXRlbXMgPSBjbGllbnQudmFyaWFibGUoXCJsaW5lSXRlbXNcIiwgXCJbQ2hlY2tvdXRMaW5lSXRlbUlucHV0IV0hXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50XCIsIFwiRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0U2VsZWN0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiYWxsb2NhdGlvbk1ldGhvZFwiKTtcbiAgICByb290LmFkZChcInRhcmdldFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJNb25leVYyXCIsIGZ1bmN0aW9uIChNb25leVYyKSB7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBNb25leVYyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIlByaWNpbmdQZXJjZW50YWdlVmFsdWVcIiwgZnVuY3Rpb24gKFByaWNpbmdQZXJjZW50YWdlVmFsdWUpIHtcbiAgICAgICAgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZS5hZGQoXCJwZXJjZW50YWdlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKERpc2NvdW50Q29kZUFwcGxpY2F0aW9uKSB7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJjb2RlXCIpO1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiYXBwbGljYWJsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJBcHBsaWVkR2lmdENhcmRGcmFnbWVudFwiLCBcIkFwcGxpZWRHaWZ0Q2FyZFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwge1xuICAgICAgYWxpYXM6IFwiYW1vdW50VXNlZFYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImJhbGFuY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmVzZW50bWVudEFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKHByZXNlbnRtZW50QW1vdW50VXNlZCkge1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImxhc3RDaGFyYWN0ZXJzXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFwiLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5hZGQoXCJpZFwiKTtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dFVzZXJFcnJvckZyYWdtZW50XCIsIFwiQ2hlY2tvdXRVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgICByb290LmFkZChcImNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIk1haWxpbmdBZGRyZXNzRnJhZ21lbnRcIiwgXCJNYWlsaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMVwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MyXCIpO1xuICAgIHJvb3QuYWRkKFwiY2l0eVwiKTtcbiAgICByb290LmFkZChcImNvbXBhbnlcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5XCIpO1xuICAgIHJvb3QuYWRkKFwiZmlyc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiZm9ybWF0dGVkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJsYXRpdHVkZVwiKTtcbiAgICByb290LmFkZChcImxvbmdpdHVkZVwiKTtcbiAgICByb290LmFkZChcInBob25lXCIpO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VcIik7XG4gICAgcm9vdC5hZGQoXCJ6aXBcIik7XG4gICAgcm9vdC5hZGQoXCJuYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeUNvZGVWMlwiLCB7XG4gICAgICBhbGlhczogXCJjb3VudHJ5Q29kZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZUNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0RnJhZ21lbnRcIiwgXCJDaGVja291dFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJyZWFkeVwiKTtcbiAgICByb290LmFkZChcInJlcXVpcmVzU2hpcHBpbmdcIik7XG4gICAgcm9vdC5hZGQoXCJub3RlXCIpO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwge1xuICAgICAgYWxpYXM6IFwicGF5bWVudER1ZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlYlVybFwiKTtcbiAgICByb290LmFkZChcIm9yZGVyU3RhdHVzVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwidGF4RXhlbXB0XCIpO1xuICAgIHJvb3QuYWRkKFwidGF4ZXNJbmNsdWRlZFwiKTtcbiAgICByb290LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNTdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChsaW5lSXRlbXNTdWJ0b3RhbFByaWNlKSB7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wbGV0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImNyZWF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcInVwZGF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImVtYWlsXCIpO1xuICAgIHJvb3QuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvbnNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbnMpIHtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYXBwbGllZEdpZnRDYXJkc1wiLCBmdW5jdGlvbiAoYXBwbGllZEdpZnRDYXJkcykge1xuICAgICAgYXBwbGllZEdpZnRDYXJkcy5hZGRGcmFnbWVudChzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nTGluZVwiLCBmdW5jdGlvbiAoc2hpcHBpbmdMaW5lKSB7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwiaGFuZGxlXCIpO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIm9yZGVyXCIsIGZ1bmN0aW9uIChvcmRlcikge1xuICAgICAgb3JkZXIuYWRkKFwiaWRcIik7XG4gICAgICBvcmRlci5hZGQoXCJwcm9jZXNzZWRBdFwiKTtcbiAgICAgIG9yZGVyLmFkZChcIm9yZGVyTnVtYmVyXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFNoaXBwaW5nUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUmVmdW5kZWRWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1c3RvbWVyVXJsXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICBmaXJzdDogMjUwXG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImRpc2NvdW50QWxsb2NhdGlvbnNcIiwgZnVuY3Rpb24gKGRpc2NvdW50QWxsb2NhdGlvbnMpIHtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiYWxsb2NhdGVkQW1vdW50XCIsIGZ1bmN0aW9uIChhbGxvY2F0ZWRBbW91bnQpIHtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICAgICAgICAgIGRpc2NvdW50QXBwbGljYXRpb24uYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRNdXRhdGlvbihbdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmNoZWNrb3V0SWQsIHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5saW5lSXRlbXNdLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiY2hlY2tvdXRMaW5lSXRlbXNSZXBsYWNlXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgY2hlY2tvdXRJZDogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmNoZWNrb3V0SWQsXG4gICAgICAgIGxpbmVJdGVtczogdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmxpbmVJdGVtc1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjaGVja291dExpbmVJdGVtc1JlcGxhY2UpIHtcbiAgICAgIGNoZWNrb3V0TGluZUl0ZW1zUmVwbGFjZS5hZGQoXCJ1c2VyRXJyb3JzXCIsIGZ1bmN0aW9uICh1c2VyRXJyb3JzKSB7XG4gICAgICAgIHVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRMaW5lSXRlbXNSZXBsYWNlLmFkZChcImNoZWNrb3V0XCIsIGZ1bmN0aW9uIChjaGVja291dCkge1xuICAgICAgICBjaGVja291dC5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDE3KGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgdmFyIHNwcmVhZHMgPSB7fTtcbiAgdmFyIHZhcmlhYmxlcyA9IHt9O1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18gPSB7fTtcbiAgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmNoZWNrb3V0SWQgPSBjbGllbnQudmFyaWFibGUoXCJjaGVja291dElkXCIsIFwiSUQhXCIpO1xuICB2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18ubGluZUl0ZW1zID0gY2xpZW50LnZhcmlhYmxlKFwibGluZUl0ZW1zXCIsIFwiW0NoZWNrb3V0TGluZUl0ZW1VcGRhdGVJbnB1dCFdIVwiKTtcbiAgc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlaWdodFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIiwge1xuICAgICAgYWxpYXM6IFwiYXZhaWxhYmxlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInNrdVwiKTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwiY29tcGFyZUF0UHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgIGltYWdlLmFkZChcIndpZHRoXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwiaGVpZ2h0XCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2VsZWN0ZWRPcHRpb25zXCIsIGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlXCIsIGZ1bmN0aW9uICh1bml0UHJpY2UpIHtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlTWVhc3VyZW1lbnRcIiwgZnVuY3Rpb24gKHVuaXRQcmljZU1lYXN1cmVtZW50KSB7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJtZWFzdXJlZFR5cGVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVZhbHVlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVZhbHVlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudFwiLCBcIkRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInRhcmdldFNlbGVjdGlvblwiKTtcbiAgICByb290LmFkZChcImFsbG9jYXRpb25NZXRob2RcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidmFsdWVcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTW9uZXlWMlwiLCBmdW5jdGlvbiAoTW9uZXlWMikge1xuICAgICAgICBNb25leVYyLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJQcmljaW5nUGVyY2VudGFnZVZhbHVlXCIsIGZ1bmN0aW9uIChQcmljaW5nUGVyY2VudGFnZVZhbHVlKSB7XG4gICAgICAgIFByaWNpbmdQZXJjZW50YWdlVmFsdWUuYWRkKFwicGVyY2VudGFnZVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1hbnVhbERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkRpc2NvdW50Q29kZUFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChEaXNjb3VudENvZGVBcHBsaWNhdGlvbikge1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiY29kZVwiKTtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImFwcGxpY2FibGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQXBwbGllZEdpZnRDYXJkRnJhZ21lbnRcIiwgXCJBcHBsaWVkR2lmdENhcmRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIHtcbiAgICAgIGFsaWFzOiBcImFtb3VudFVzZWRWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCB7XG4gICAgICBhbGlhczogXCJiYWxhbmNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJlc2VudG1lbnRBbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChwcmVzZW50bWVudEFtb3VudFVzZWQpIHtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0Q2hhcmFjdGVyc1wiKTtcbiAgfSk7XG4gIHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICByb290LmFkZChcInByb2R1Y3RcIiwgZnVuY3Rpb24gKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaWRcIik7XG4gICAgICBwcm9kdWN0LmFkZChcImhhbmRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlVzZXJFcnJvckZyYWdtZW50XCIsIFwiVXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnRcIiwgXCJDaGVja291dFVzZXJFcnJvclwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiZmllbGRcIik7XG4gICAgcm9vdC5hZGQoXCJtZXNzYWdlXCIpO1xuICAgIHJvb3QuYWRkKFwiY29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiTWFpbGluZ0FkZHJlc3NGcmFnbWVudFwiLCBcIk1haWxpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MxXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczJcIik7XG4gICAgcm9vdC5hZGQoXCJjaXR5XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFueVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlcIik7XG4gICAgcm9vdC5hZGQoXCJmaXJzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJmb3JtYXR0ZWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImxhdGl0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwibG9uZ2l0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwicGhvbmVcIik7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZVwiKTtcbiAgICByb290LmFkZChcInppcFwiKTtcbiAgICByb290LmFkZChcIm5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5Q29kZVYyXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvdW50cnlDb2RlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInByb3ZpbmNlQ29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRGcmFnbWVudFwiLCBcIkNoZWNrb3V0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInJlYWR5XCIpO1xuICAgIHJvb3QuYWRkKFwicmVxdWlyZXNTaGlwcGluZ1wiKTtcbiAgICByb290LmFkZChcIm5vdGVcIik7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCB7XG4gICAgICBhbGlhczogXCJwYXltZW50RHVlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2ViVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3JkZXJTdGF0dXNVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhFeGVtcHRcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhlc0luY2x1ZGVkXCIpO1xuICAgIHJvb3QuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1N1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UpIHtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBsZXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiY3JlYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiZW1haWxcIik7XG4gICAgcm9vdC5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAxMFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9ucykge1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhcHBsaWVkR2lmdENhcmRzXCIsIGZ1bmN0aW9uIChhcHBsaWVkR2lmdENhcmRzKSB7XG4gICAgICBhcHBsaWVkR2lmdENhcmRzLmFkZEZyYWdtZW50KHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdMaW5lXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0xpbmUpIHtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJoYW5kbGVcIik7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwib3JkZXJcIiwgZnVuY3Rpb24gKG9yZGVyKSB7XG4gICAgICBvcmRlci5hZGQoXCJpZFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInByb2Nlc3NlZEF0XCIpO1xuICAgICAgb3JkZXIuYWRkKFwib3JkZXJOdW1iZXJcIik7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsU2hpcHBpbmdQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxSZWZ1bmRlZFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VzdG9tZXJVcmxcIik7XG4gICAgICBvcmRlci5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgICAgYXJnczoge1xuICAgICAgICAgIGZpcnN0OiAyNTBcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGQoXCJpZFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwiZGlzY291bnRBbGxvY2F0aW9uc1wiLCBmdW5jdGlvbiAoZGlzY291bnRBbGxvY2F0aW9ucykge1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJhbGxvY2F0ZWRBbW91bnRcIiwgZnVuY3Rpb24gKGFsbG9jYXRlZEFtb3VudCkge1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgZGlzY291bnRBcHBsaWNhdGlvbi5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZE11dGF0aW9uKFt2YXJpYWJsZXMuX19kZWZhdWx0T3BlcmF0aW9uX18uY2hlY2tvdXRJZCwgdmFyaWFibGVzLl9fZGVmYXVsdE9wZXJhdGlvbl9fLmxpbmVJdGVtc10sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJjaGVja291dExpbmVJdGVtc1VwZGF0ZVwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGNoZWNrb3V0SWQ6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5jaGVja291dElkLFxuICAgICAgICBsaW5lSXRlbXM6IHZhcmlhYmxlcy5fX2RlZmF1bHRPcGVyYXRpb25fXy5saW5lSXRlbXNcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoY2hlY2tvdXRMaW5lSXRlbXNVcGRhdGUpIHtcbiAgICAgIGNoZWNrb3V0TGluZUl0ZW1zVXBkYXRlLmFkZChcInVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKHVzZXJFcnJvcnMpIHtcbiAgICAgICAgdXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRMaW5lSXRlbXNVcGRhdGUuYWRkKFwiY2hlY2tvdXRVc2VyRXJyb3JzXCIsIGZ1bmN0aW9uIChjaGVja291dFVzZXJFcnJvcnMpIHtcbiAgICAgICAgY2hlY2tvdXRVc2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIGNoZWNrb3V0TGluZUl0ZW1zVXBkYXRlLmFkZChcImNoZWNrb3V0XCIsIGZ1bmN0aW9uIChjaGVja291dCkge1xuICAgICAgICBjaGVja291dC5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDE4KGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgdmFyIHNwcmVhZHMgPSB7fTtcbiAgdmFyIHZhcmlhYmxlcyA9IHt9O1xuICB2YXJpYWJsZXMuY2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjIgPSB7fTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyLmNoZWNrb3V0SWQgPSBjbGllbnQudmFyaWFibGUoXCJjaGVja291dElkXCIsIFwiSUQhXCIpO1xuICB2YXJpYWJsZXMuY2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjIuaW5wdXQgPSBjbGllbnQudmFyaWFibGUoXCJpbnB1dFwiLCBcIkNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYySW5wdXQhXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50XCIsIFwiRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0U2VsZWN0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiYWxsb2NhdGlvbk1ldGhvZFwiKTtcbiAgICByb290LmFkZChcInRhcmdldFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJNb25leVYyXCIsIGZ1bmN0aW9uIChNb25leVYyKSB7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBNb25leVYyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIlByaWNpbmdQZXJjZW50YWdlVmFsdWVcIiwgZnVuY3Rpb24gKFByaWNpbmdQZXJjZW50YWdlVmFsdWUpIHtcbiAgICAgICAgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZS5hZGQoXCJwZXJjZW50YWdlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKERpc2NvdW50Q29kZUFwcGxpY2F0aW9uKSB7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJjb2RlXCIpO1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiYXBwbGljYWJsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJBcHBsaWVkR2lmdENhcmRGcmFnbWVudFwiLCBcIkFwcGxpZWRHaWZ0Q2FyZFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwge1xuICAgICAgYWxpYXM6IFwiYW1vdW50VXNlZFYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImJhbGFuY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmVzZW50bWVudEFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKHByZXNlbnRtZW50QW1vdW50VXNlZCkge1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImxhc3RDaGFyYWN0ZXJzXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFwiLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5hZGQoXCJpZFwiKTtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVXNlckVycm9yRnJhZ21lbnRcIiwgXCJVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudFwiLCBcIkNoZWNrb3V0VXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gICAgcm9vdC5hZGQoXCJjb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJNYWlsaW5nQWRkcmVzc0ZyYWdtZW50XCIsIFwiTWFpbGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczFcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMlwiKTtcbiAgICByb290LmFkZChcImNpdHlcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYW55XCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeVwiKTtcbiAgICByb290LmFkZChcImZpcnN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImZvcm1hdHRlZFwiKTtcbiAgICByb290LmFkZChcImxhc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwibGF0aXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJsb25naXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJwaG9uZVwiKTtcbiAgICByb290LmFkZChcInByb3ZpbmNlXCIpO1xuICAgIHJvb3QuYWRkKFwiemlwXCIpO1xuICAgIHJvb3QuYWRkKFwibmFtZVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlDb2RlVjJcIiwge1xuICAgICAgYWxpYXM6IFwiY291bnRyeUNvZGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VDb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dEZyYWdtZW50XCIsIFwiQ2hlY2tvdXRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwicmVhZHlcIik7XG4gICAgcm9vdC5hZGQoXCJyZXF1aXJlc1NoaXBwaW5nXCIpO1xuICAgIHJvb3QuYWRkKFwibm90ZVwiKTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIHtcbiAgICAgIGFsaWFzOiBcInBheW1lbnREdWVWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWJVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcmRlclN0YXR1c1VybFwiKTtcbiAgICByb290LmFkZChcInRheEV4ZW1wdFwiKTtcbiAgICByb290LmFkZChcInRheGVzSW5jbHVkZWRcIik7XG4gICAgcm9vdC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zU3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAobGluZUl0ZW1zU3VidG90YWxQcmljZSkge1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGxldGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJlbWFpbFwiKTtcbiAgICByb290LmFkZChcImRpc2NvdW50QXBwbGljYXRpb25zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDEwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb25zKSB7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFwcGxpZWRHaWZ0Q2FyZHNcIiwgZnVuY3Rpb24gKGFwcGxpZWRHaWZ0Q2FyZHMpIHtcbiAgICAgIGFwcGxpZWRHaWZ0Q2FyZHMuYWRkRnJhZ21lbnQoc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0xpbmVcIiwgZnVuY3Rpb24gKHNoaXBwaW5nTGluZSkge1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcImhhbmRsZVwiKTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJvcmRlclwiLCBmdW5jdGlvbiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmFkZChcImlkXCIpO1xuICAgICAgb3JkZXIuYWRkKFwicHJvY2Vzc2VkQXRcIik7XG4gICAgICBvcmRlci5hZGQoXCJvcmRlck51bWJlclwiKTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxTaGlwcGluZ1ByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFJlZnVuZGVkVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXN0b21lclVybFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZChcImlkXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJkaXNjb3VudEFsbG9jYXRpb25zXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFsbG9jYXRpb25zKSB7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImFsbG9jYXRlZEFtb3VudFwiLCBmdW5jdGlvbiAoYWxsb2NhdGVkQW1vdW50KSB7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgICAgICAgICBkaXNjb3VudEFwcGxpY2F0aW9uLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkTXV0YXRpb24oXCJjaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMlwiLCBbdmFyaWFibGVzLmNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyLmNoZWNrb3V0SWQsIHZhcmlhYmxlcy5jaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMi5pbnB1dF0sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJjaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMlwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGNoZWNrb3V0SWQ6IHZhcmlhYmxlcy5jaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMi5jaGVja291dElkLFxuICAgICAgICBpbnB1dDogdmFyaWFibGVzLmNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyLmlucHV0XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyKSB7XG4gICAgICBjaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMi5hZGQoXCJ1c2VyRXJyb3JzXCIsIGZ1bmN0aW9uICh1c2VyRXJyb3JzKSB7XG4gICAgICAgIHVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIGNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyLmFkZChcImNoZWNrb3V0VXNlckVycm9yc1wiLCBmdW5jdGlvbiAoY2hlY2tvdXRVc2VyRXJyb3JzKSB7XG4gICAgICAgIGNoZWNrb3V0VXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMi5hZGQoXCJjaGVja291dFwiLCBmdW5jdGlvbiAoY2hlY2tvdXQpIHtcbiAgICAgICAgY2hlY2tvdXQuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dEZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQxOShjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0RGlzY291bnRDb2RlQXBwbHlWMiA9IHt9O1xuICB2YXJpYWJsZXMuY2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyLmRpc2NvdW50Q29kZSA9IGNsaWVudC52YXJpYWJsZShcImRpc2NvdW50Q29kZVwiLCBcIlN0cmluZyFcIik7XG4gIHZhcmlhYmxlcy5jaGVja291dERpc2NvdW50Q29kZUFwcGx5VjIuY2hlY2tvdXRJZCA9IGNsaWVudC52YXJpYWJsZShcImNoZWNrb3V0SWRcIiwgXCJJRCFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJEaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnRcIiwgXCJEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRTZWxlY3Rpb25cIik7XG4gICAgcm9vdC5hZGQoXCJhbGxvY2F0aW9uTWV0aG9kXCIpO1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0VHlwZVwiKTtcbiAgICByb290LmFkZChcInZhbHVlXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1vbmV5VjJcIiwgZnVuY3Rpb24gKE1vbmV5VjIpIHtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZVwiLCBmdW5jdGlvbiAoUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZSkge1xuICAgICAgICBQcmljaW5nUGVyY2VudGFnZVZhbHVlLmFkZChcInBlcmNlbnRhZ2VcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJEaXNjb3VudENvZGVBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoRGlzY291bnRDb2RlQXBwbGljYXRpb24pIHtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImNvZGVcIik7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJhcHBsaWNhYmxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIlNjcmlwdERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKFNjcmlwdERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIFNjcmlwdERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50XCIsIFwiQXBwbGllZEdpZnRDYXJkXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChhbW91bnRVc2VkKSB7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCB7XG4gICAgICBhbGlhczogXCJhbW91bnRVc2VkVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChhbW91bnRVc2VkKSB7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCBmdW5jdGlvbiAoYmFsYW5jZSkge1xuICAgICAgYmFsYW5jZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBiYWxhbmNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwge1xuICAgICAgYWxpYXM6IFwiYmFsYW5jZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYmFsYW5jZSkge1xuICAgICAgYmFsYW5jZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBiYWxhbmNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByZXNlbnRtZW50QW1vdW50VXNlZFwiLCBmdW5jdGlvbiAocHJlc2VudG1lbnRBbW91bnRVc2VkKSB7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdENoYXJhY3RlcnNcIik7XG4gIH0pO1xuICBzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCk7XG4gICAgcm9vdC5hZGQoXCJwcm9kdWN0XCIsIGZ1bmN0aW9uIChwcm9kdWN0KSB7XG4gICAgICBwcm9kdWN0LmFkZChcImlkXCIpO1xuICAgICAgcHJvZHVjdC5hZGQoXCJoYW5kbGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJVc2VyRXJyb3JGcmFnbWVudFwiLCBcIlVzZXJFcnJvclwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiZmllbGRcIik7XG4gICAgcm9vdC5hZGQoXCJtZXNzYWdlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dFVzZXJFcnJvckZyYWdtZW50XCIsIFwiQ2hlY2tvdXRVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgICByb290LmFkZChcImNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIk1haWxpbmdBZGRyZXNzRnJhZ21lbnRcIiwgXCJNYWlsaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMVwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MyXCIpO1xuICAgIHJvb3QuYWRkKFwiY2l0eVwiKTtcbiAgICByb290LmFkZChcImNvbXBhbnlcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5XCIpO1xuICAgIHJvb3QuYWRkKFwiZmlyc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiZm9ybWF0dGVkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJsYXRpdHVkZVwiKTtcbiAgICByb290LmFkZChcImxvbmdpdHVkZVwiKTtcbiAgICByb290LmFkZChcInBob25lXCIpO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VcIik7XG4gICAgcm9vdC5hZGQoXCJ6aXBcIik7XG4gICAgcm9vdC5hZGQoXCJuYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeUNvZGVWMlwiLCB7XG4gICAgICBhbGlhczogXCJjb3VudHJ5Q29kZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZUNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0RnJhZ21lbnRcIiwgXCJDaGVja291dFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJyZWFkeVwiKTtcbiAgICByb290LmFkZChcInJlcXVpcmVzU2hpcHBpbmdcIik7XG4gICAgcm9vdC5hZGQoXCJub3RlXCIpO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwge1xuICAgICAgYWxpYXM6IFwicGF5bWVudER1ZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlYlVybFwiKTtcbiAgICByb290LmFkZChcIm9yZGVyU3RhdHVzVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwidGF4RXhlbXB0XCIpO1xuICAgIHJvb3QuYWRkKFwidGF4ZXNJbmNsdWRlZFwiKTtcbiAgICByb290LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNTdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChsaW5lSXRlbXNTdWJ0b3RhbFByaWNlKSB7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wbGV0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImNyZWF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcInVwZGF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImVtYWlsXCIpO1xuICAgIHJvb3QuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvbnNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbnMpIHtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYXBwbGllZEdpZnRDYXJkc1wiLCBmdW5jdGlvbiAoYXBwbGllZEdpZnRDYXJkcykge1xuICAgICAgYXBwbGllZEdpZnRDYXJkcy5hZGRGcmFnbWVudChzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nTGluZVwiLCBmdW5jdGlvbiAoc2hpcHBpbmdMaW5lKSB7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwiaGFuZGxlXCIpO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIm9yZGVyXCIsIGZ1bmN0aW9uIChvcmRlcikge1xuICAgICAgb3JkZXIuYWRkKFwiaWRcIik7XG4gICAgICBvcmRlci5hZGQoXCJwcm9jZXNzZWRBdFwiKTtcbiAgICAgIG9yZGVyLmFkZChcIm9yZGVyTnVtYmVyXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFNoaXBwaW5nUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUmVmdW5kZWRWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1c3RvbWVyVXJsXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICBmaXJzdDogMjUwXG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImRpc2NvdW50QWxsb2NhdGlvbnNcIiwgZnVuY3Rpb24gKGRpc2NvdW50QWxsb2NhdGlvbnMpIHtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiYWxsb2NhdGVkQW1vdW50XCIsIGZ1bmN0aW9uIChhbGxvY2F0ZWRBbW91bnQpIHtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICAgICAgICAgIGRpc2NvdW50QXBwbGljYXRpb24uYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRNdXRhdGlvbihcImNoZWNrb3V0RGlzY291bnRDb2RlQXBwbHlWMlwiLCBbdmFyaWFibGVzLmNoZWNrb3V0RGlzY291bnRDb2RlQXBwbHlWMi5kaXNjb3VudENvZGUsIHZhcmlhYmxlcy5jaGVja291dERpc2NvdW50Q29kZUFwcGx5VjIuY2hlY2tvdXRJZF0sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJjaGVja291dERpc2NvdW50Q29kZUFwcGx5VjJcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBkaXNjb3VudENvZGU6IHZhcmlhYmxlcy5jaGVja291dERpc2NvdW50Q29kZUFwcGx5VjIuZGlzY291bnRDb2RlLFxuICAgICAgICBjaGVja291dElkOiB2YXJpYWJsZXMuY2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyLmNoZWNrb3V0SWRcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoY2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyKSB7XG4gICAgICBjaGVja291dERpc2NvdW50Q29kZUFwcGx5VjIuYWRkKFwidXNlckVycm9yc1wiLCBmdW5jdGlvbiAodXNlckVycm9ycykge1xuICAgICAgICB1c2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dERpc2NvdW50Q29kZUFwcGx5VjIuYWRkKFwiY2hlY2tvdXRVc2VyRXJyb3JzXCIsIGZ1bmN0aW9uIChjaGVja291dFVzZXJFcnJvcnMpIHtcbiAgICAgICAgY2hlY2tvdXRVc2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIGNoZWNrb3V0RGlzY291bnRDb2RlQXBwbHlWMi5hZGQoXCJjaGVja291dFwiLCBmdW5jdGlvbiAoY2hlY2tvdXQpIHtcbiAgICAgICAgY2hlY2tvdXQuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dEZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQyMChjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0RGlzY291bnRDb2RlUmVtb3ZlID0ge307XG4gIHZhcmlhYmxlcy5jaGVja291dERpc2NvdW50Q29kZVJlbW92ZS5jaGVja291dElkID0gY2xpZW50LnZhcmlhYmxlKFwiY2hlY2tvdXRJZFwiLCBcIklEIVwiKTtcbiAgc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlaWdodFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIiwge1xuICAgICAgYWxpYXM6IFwiYXZhaWxhYmxlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInNrdVwiKTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwiY29tcGFyZUF0UHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgIGltYWdlLmFkZChcIndpZHRoXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwiaGVpZ2h0XCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2VsZWN0ZWRPcHRpb25zXCIsIGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlXCIsIGZ1bmN0aW9uICh1bml0UHJpY2UpIHtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlTWVhc3VyZW1lbnRcIiwgZnVuY3Rpb24gKHVuaXRQcmljZU1lYXN1cmVtZW50KSB7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJtZWFzdXJlZFR5cGVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVZhbHVlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVZhbHVlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudFwiLCBcIkRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInRhcmdldFNlbGVjdGlvblwiKTtcbiAgICByb290LmFkZChcImFsbG9jYXRpb25NZXRob2RcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidmFsdWVcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTW9uZXlWMlwiLCBmdW5jdGlvbiAoTW9uZXlWMikge1xuICAgICAgICBNb25leVYyLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJQcmljaW5nUGVyY2VudGFnZVZhbHVlXCIsIGZ1bmN0aW9uIChQcmljaW5nUGVyY2VudGFnZVZhbHVlKSB7XG4gICAgICAgIFByaWNpbmdQZXJjZW50YWdlVmFsdWUuYWRkKFwicGVyY2VudGFnZVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1hbnVhbERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkRpc2NvdW50Q29kZUFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChEaXNjb3VudENvZGVBcHBsaWNhdGlvbikge1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiY29kZVwiKTtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImFwcGxpY2FibGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQXBwbGllZEdpZnRDYXJkRnJhZ21lbnRcIiwgXCJBcHBsaWVkR2lmdENhcmRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIHtcbiAgICAgIGFsaWFzOiBcImFtb3VudFVzZWRWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCB7XG4gICAgICBhbGlhczogXCJiYWxhbmNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJlc2VudG1lbnRBbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChwcmVzZW50bWVudEFtb3VudFVzZWQpIHtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0Q2hhcmFjdGVyc1wiKTtcbiAgfSk7XG4gIHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICByb290LmFkZChcInByb2R1Y3RcIiwgZnVuY3Rpb24gKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaWRcIik7XG4gICAgICBwcm9kdWN0LmFkZChcImhhbmRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlVzZXJFcnJvckZyYWdtZW50XCIsIFwiVXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnRcIiwgXCJDaGVja291dFVzZXJFcnJvclwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiZmllbGRcIik7XG4gICAgcm9vdC5hZGQoXCJtZXNzYWdlXCIpO1xuICAgIHJvb3QuYWRkKFwiY29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiTWFpbGluZ0FkZHJlc3NGcmFnbWVudFwiLCBcIk1haWxpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MxXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczJcIik7XG4gICAgcm9vdC5hZGQoXCJjaXR5XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFueVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlcIik7XG4gICAgcm9vdC5hZGQoXCJmaXJzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJmb3JtYXR0ZWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImxhdGl0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwibG9uZ2l0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwicGhvbmVcIik7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZVwiKTtcbiAgICByb290LmFkZChcInppcFwiKTtcbiAgICByb290LmFkZChcIm5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5Q29kZVYyXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvdW50cnlDb2RlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInByb3ZpbmNlQ29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRGcmFnbWVudFwiLCBcIkNoZWNrb3V0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInJlYWR5XCIpO1xuICAgIHJvb3QuYWRkKFwicmVxdWlyZXNTaGlwcGluZ1wiKTtcbiAgICByb290LmFkZChcIm5vdGVcIik7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCB7XG4gICAgICBhbGlhczogXCJwYXltZW50RHVlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2ViVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3JkZXJTdGF0dXNVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhFeGVtcHRcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhlc0luY2x1ZGVkXCIpO1xuICAgIHJvb3QuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1N1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UpIHtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBsZXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiY3JlYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiZW1haWxcIik7XG4gICAgcm9vdC5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAxMFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9ucykge1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhcHBsaWVkR2lmdENhcmRzXCIsIGZ1bmN0aW9uIChhcHBsaWVkR2lmdENhcmRzKSB7XG4gICAgICBhcHBsaWVkR2lmdENhcmRzLmFkZEZyYWdtZW50KHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdMaW5lXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0xpbmUpIHtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJoYW5kbGVcIik7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwib3JkZXJcIiwgZnVuY3Rpb24gKG9yZGVyKSB7XG4gICAgICBvcmRlci5hZGQoXCJpZFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInByb2Nlc3NlZEF0XCIpO1xuICAgICAgb3JkZXIuYWRkKFwib3JkZXJOdW1iZXJcIik7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsU2hpcHBpbmdQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxSZWZ1bmRlZFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VzdG9tZXJVcmxcIik7XG4gICAgICBvcmRlci5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgICAgYXJnczoge1xuICAgICAgICAgIGZpcnN0OiAyNTBcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGQoXCJpZFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwiZGlzY291bnRBbGxvY2F0aW9uc1wiLCBmdW5jdGlvbiAoZGlzY291bnRBbGxvY2F0aW9ucykge1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJhbGxvY2F0ZWRBbW91bnRcIiwgZnVuY3Rpb24gKGFsbG9jYXRlZEFtb3VudCkge1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgZGlzY291bnRBcHBsaWNhdGlvbi5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZE11dGF0aW9uKFwiY2hlY2tvdXREaXNjb3VudENvZGVSZW1vdmVcIiwgW3ZhcmlhYmxlcy5jaGVja291dERpc2NvdW50Q29kZVJlbW92ZS5jaGVja291dElkXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNoZWNrb3V0RGlzY291bnRDb2RlUmVtb3ZlXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgY2hlY2tvdXRJZDogdmFyaWFibGVzLmNoZWNrb3V0RGlzY291bnRDb2RlUmVtb3ZlLmNoZWNrb3V0SWRcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoY2hlY2tvdXREaXNjb3VudENvZGVSZW1vdmUpIHtcbiAgICAgIGNoZWNrb3V0RGlzY291bnRDb2RlUmVtb3ZlLmFkZChcInVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKHVzZXJFcnJvcnMpIHtcbiAgICAgICAgdXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXREaXNjb3VudENvZGVSZW1vdmUuYWRkKFwiY2hlY2tvdXRVc2VyRXJyb3JzXCIsIGZ1bmN0aW9uIChjaGVja291dFVzZXJFcnJvcnMpIHtcbiAgICAgICAgY2hlY2tvdXRVc2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIGNoZWNrb3V0RGlzY291bnRDb2RlUmVtb3ZlLmFkZChcImNoZWNrb3V0XCIsIGZ1bmN0aW9uIChjaGVja291dCkge1xuICAgICAgICBjaGVja291dC5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5JDIxKGNsaWVudCkge1xuICB2YXIgZG9jdW1lbnQgPSBjbGllbnQuZG9jdW1lbnQoKTtcbiAgdmFyIHNwcmVhZHMgPSB7fTtcbiAgdmFyIHZhcmlhYmxlcyA9IHt9O1xuICB2YXJpYWJsZXMuY2hlY2tvdXRHaWZ0Q2FyZHNBcHBlbmQgPSB7fTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRzQXBwZW5kLmdpZnRDYXJkQ29kZXMgPSBjbGllbnQudmFyaWFibGUoXCJnaWZ0Q2FyZENvZGVzXCIsIFwiW1N0cmluZyFdIVwiKTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRzQXBwZW5kLmNoZWNrb3V0SWQgPSBjbGllbnQudmFyaWFibGUoXCJjaGVja291dElkXCIsIFwiSUQhXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50XCIsIFwiRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0U2VsZWN0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiYWxsb2NhdGlvbk1ldGhvZFwiKTtcbiAgICByb290LmFkZChcInRhcmdldFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJNb25leVYyXCIsIGZ1bmN0aW9uIChNb25leVYyKSB7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBNb25leVYyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIlByaWNpbmdQZXJjZW50YWdlVmFsdWVcIiwgZnVuY3Rpb24gKFByaWNpbmdQZXJjZW50YWdlVmFsdWUpIHtcbiAgICAgICAgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZS5hZGQoXCJwZXJjZW50YWdlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKERpc2NvdW50Q29kZUFwcGxpY2F0aW9uKSB7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJjb2RlXCIpO1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiYXBwbGljYWJsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJBcHBsaWVkR2lmdENhcmRGcmFnbWVudFwiLCBcIkFwcGxpZWRHaWZ0Q2FyZFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwge1xuICAgICAgYWxpYXM6IFwiYW1vdW50VXNlZFYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImJhbGFuY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmVzZW50bWVudEFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKHByZXNlbnRtZW50QW1vdW50VXNlZCkge1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImxhc3RDaGFyYWN0ZXJzXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFwiLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5hZGQoXCJpZFwiKTtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVXNlckVycm9yRnJhZ21lbnRcIiwgXCJVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudFwiLCBcIkNoZWNrb3V0VXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gICAgcm9vdC5hZGQoXCJjb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJNYWlsaW5nQWRkcmVzc0ZyYWdtZW50XCIsIFwiTWFpbGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczFcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMlwiKTtcbiAgICByb290LmFkZChcImNpdHlcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYW55XCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeVwiKTtcbiAgICByb290LmFkZChcImZpcnN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImZvcm1hdHRlZFwiKTtcbiAgICByb290LmFkZChcImxhc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwibGF0aXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJsb25naXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJwaG9uZVwiKTtcbiAgICByb290LmFkZChcInByb3ZpbmNlXCIpO1xuICAgIHJvb3QuYWRkKFwiemlwXCIpO1xuICAgIHJvb3QuYWRkKFwibmFtZVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlDb2RlVjJcIiwge1xuICAgICAgYWxpYXM6IFwiY291bnRyeUNvZGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VDb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dEZyYWdtZW50XCIsIFwiQ2hlY2tvdXRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwicmVhZHlcIik7XG4gICAgcm9vdC5hZGQoXCJyZXF1aXJlc1NoaXBwaW5nXCIpO1xuICAgIHJvb3QuYWRkKFwibm90ZVwiKTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIHtcbiAgICAgIGFsaWFzOiBcInBheW1lbnREdWVWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWJVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcmRlclN0YXR1c1VybFwiKTtcbiAgICByb290LmFkZChcInRheEV4ZW1wdFwiKTtcbiAgICByb290LmFkZChcInRheGVzSW5jbHVkZWRcIik7XG4gICAgcm9vdC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zU3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAobGluZUl0ZW1zU3VidG90YWxQcmljZSkge1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGxldGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJlbWFpbFwiKTtcbiAgICByb290LmFkZChcImRpc2NvdW50QXBwbGljYXRpb25zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDEwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb25zKSB7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFwcGxpZWRHaWZ0Q2FyZHNcIiwgZnVuY3Rpb24gKGFwcGxpZWRHaWZ0Q2FyZHMpIHtcbiAgICAgIGFwcGxpZWRHaWZ0Q2FyZHMuYWRkRnJhZ21lbnQoc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0xpbmVcIiwgZnVuY3Rpb24gKHNoaXBwaW5nTGluZSkge1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcImhhbmRsZVwiKTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJvcmRlclwiLCBmdW5jdGlvbiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmFkZChcImlkXCIpO1xuICAgICAgb3JkZXIuYWRkKFwicHJvY2Vzc2VkQXRcIik7XG4gICAgICBvcmRlci5hZGQoXCJvcmRlck51bWJlclwiKTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxTaGlwcGluZ1ByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFJlZnVuZGVkVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXN0b21lclVybFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZChcImlkXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJkaXNjb3VudEFsbG9jYXRpb25zXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFsbG9jYXRpb25zKSB7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImFsbG9jYXRlZEFtb3VudFwiLCBmdW5jdGlvbiAoYWxsb2NhdGVkQW1vdW50KSB7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgICAgICAgICBkaXNjb3VudEFwcGxpY2F0aW9uLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkTXV0YXRpb24oXCJjaGVja291dEdpZnRDYXJkc0FwcGVuZFwiLCBbdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRzQXBwZW5kLmdpZnRDYXJkQ29kZXMsIHZhcmlhYmxlcy5jaGVja291dEdpZnRDYXJkc0FwcGVuZC5jaGVja291dElkXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNoZWNrb3V0R2lmdENhcmRzQXBwZW5kXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZ2lmdENhcmRDb2RlczogdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRzQXBwZW5kLmdpZnRDYXJkQ29kZXMsXG4gICAgICAgIGNoZWNrb3V0SWQ6IHZhcmlhYmxlcy5jaGVja291dEdpZnRDYXJkc0FwcGVuZC5jaGVja291dElkXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGNoZWNrb3V0R2lmdENhcmRzQXBwZW5kKSB7XG4gICAgICBjaGVja291dEdpZnRDYXJkc0FwcGVuZC5hZGQoXCJ1c2VyRXJyb3JzXCIsIGZ1bmN0aW9uICh1c2VyRXJyb3JzKSB7XG4gICAgICAgIHVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIGNoZWNrb3V0R2lmdENhcmRzQXBwZW5kLmFkZChcImNoZWNrb3V0VXNlckVycm9yc1wiLCBmdW5jdGlvbiAoY2hlY2tvdXRVc2VyRXJyb3JzKSB7XG4gICAgICAgIGNoZWNrb3V0VXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dEdpZnRDYXJkc0FwcGVuZC5hZGQoXCJjaGVja291dFwiLCBmdW5jdGlvbiAoY2hlY2tvdXQpIHtcbiAgICAgICAgY2hlY2tvdXQuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dEZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQyMihjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMiA9IHt9O1xuICB2YXJpYWJsZXMuY2hlY2tvdXRHaWZ0Q2FyZFJlbW92ZVYyLmFwcGxpZWRHaWZ0Q2FyZElkID0gY2xpZW50LnZhcmlhYmxlKFwiYXBwbGllZEdpZnRDYXJkSWRcIiwgXCJJRCFcIik7XG4gIHZhcmlhYmxlcy5jaGVja291dEdpZnRDYXJkUmVtb3ZlVjIuY2hlY2tvdXRJZCA9IGNsaWVudC52YXJpYWJsZShcImNoZWNrb3V0SWRcIiwgXCJJRCFcIik7XG4gIHNwcmVhZHMuVmFyaWFudEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJ0aXRsZVwiKTtcbiAgICByb290LmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWlnaHRcIik7XG4gICAgcm9vdC5hZGQoXCJhdmFpbGFibGVGb3JTYWxlXCIsIHtcbiAgICAgIGFsaWFzOiBcImF2YWlsYWJsZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJza3VcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvbXBhcmVBdFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaW1hZ2VcIiwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICBpbWFnZS5hZGQoXCJpZFwiKTtcbiAgICAgIGltYWdlLmFkZChcInVybFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInNyY1wiXG4gICAgICB9KTtcbiAgICAgIGltYWdlLmFkZChcImFsdFRleHRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ3aWR0aFwiKTtcbiAgICAgIGltYWdlLmFkZChcImhlaWdodFwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNlbGVjdGVkT3B0aW9uc1wiLCBmdW5jdGlvbiAoc2VsZWN0ZWRPcHRpb25zKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwibmFtZVwiKTtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZVwiLCBmdW5jdGlvbiAodW5pdFByaWNlKSB7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdW5pdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInVuaXRQcmljZU1lYXN1cmVtZW50XCIsIGZ1bmN0aW9uICh1bml0UHJpY2VNZWFzdXJlbWVudCkge1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwibWVhc3VyZWRUeXBlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicXVhbnRpdHlWYWx1ZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VWYWx1ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJEaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnRcIiwgXCJEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRTZWxlY3Rpb25cIik7XG4gICAgcm9vdC5hZGQoXCJhbGxvY2F0aW9uTWV0aG9kXCIpO1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0VHlwZVwiKTtcbiAgICByb290LmFkZChcInZhbHVlXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1vbmV5VjJcIiwgZnVuY3Rpb24gKE1vbmV5VjIpIHtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZVwiLCBmdW5jdGlvbiAoUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZSkge1xuICAgICAgICBQcmljaW5nUGVyY2VudGFnZVZhbHVlLmFkZChcInBlcmNlbnRhZ2VcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJkZXNjcmlwdGlvblwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJEaXNjb3VudENvZGVBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoRGlzY291bnRDb2RlQXBwbGljYXRpb24pIHtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImNvZGVcIik7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJhcHBsaWNhYmxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIlNjcmlwdERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKFNjcmlwdERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIFNjcmlwdERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50XCIsIFwiQXBwbGllZEdpZnRDYXJkXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChhbW91bnRVc2VkKSB7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCB7XG4gICAgICBhbGlhczogXCJhbW91bnRVc2VkVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChhbW91bnRVc2VkKSB7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCBmdW5jdGlvbiAoYmFsYW5jZSkge1xuICAgICAgYmFsYW5jZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBiYWxhbmNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwge1xuICAgICAgYWxpYXM6IFwiYmFsYW5jZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYmFsYW5jZSkge1xuICAgICAgYmFsYW5jZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBiYWxhbmNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByZXNlbnRtZW50QW1vdW50VXNlZFwiLCBmdW5jdGlvbiAocHJlc2VudG1lbnRBbW91bnRVc2VkKSB7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdENoYXJhY3RlcnNcIik7XG4gIH0pO1xuICBzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJWYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCk7XG4gICAgcm9vdC5hZGQoXCJwcm9kdWN0XCIsIGZ1bmN0aW9uIChwcm9kdWN0KSB7XG4gICAgICBwcm9kdWN0LmFkZChcImlkXCIpO1xuICAgICAgcHJvZHVjdC5hZGQoXCJoYW5kbGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJVc2VyRXJyb3JGcmFnbWVudFwiLCBcIlVzZXJFcnJvclwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiZmllbGRcIik7XG4gICAgcm9vdC5hZGQoXCJtZXNzYWdlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dFVzZXJFcnJvckZyYWdtZW50XCIsIFwiQ2hlY2tvdXRVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgICByb290LmFkZChcImNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIk1haWxpbmdBZGRyZXNzRnJhZ21lbnRcIiwgXCJNYWlsaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMVwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MyXCIpO1xuICAgIHJvb3QuYWRkKFwiY2l0eVwiKTtcbiAgICByb290LmFkZChcImNvbXBhbnlcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5XCIpO1xuICAgIHJvb3QuYWRkKFwiZmlyc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiZm9ybWF0dGVkXCIpO1xuICAgIHJvb3QuYWRkKFwibGFzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJsYXRpdHVkZVwiKTtcbiAgICByb290LmFkZChcImxvbmdpdHVkZVwiKTtcbiAgICByb290LmFkZChcInBob25lXCIpO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VcIik7XG4gICAgcm9vdC5hZGQoXCJ6aXBcIik7XG4gICAgcm9vdC5hZGQoXCJuYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeUNvZGVWMlwiLCB7XG4gICAgICBhbGlhczogXCJjb3VudHJ5Q29kZVwiXG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZUNvZGVcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0RnJhZ21lbnRcIiwgXCJDaGVja291dFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJyZWFkeVwiKTtcbiAgICByb290LmFkZChcInJlcXVpcmVzU2hpcHBpbmdcIik7XG4gICAgcm9vdC5hZGQoXCJub3RlXCIpO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwge1xuICAgICAgYWxpYXM6IFwicGF5bWVudER1ZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocGF5bWVudER1ZSkge1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwYXltZW50RHVlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlYlVybFwiKTtcbiAgICByb290LmFkZChcIm9yZGVyU3RhdHVzVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwidGF4RXhlbXB0XCIpO1xuICAgIHJvb3QuYWRkKFwidGF4ZXNJbmNsdWRlZFwiKTtcbiAgICByb290LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNTdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChsaW5lSXRlbXNTdWJ0b3RhbFByaWNlKSB7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wbGV0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImNyZWF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcInVwZGF0ZWRBdFwiKTtcbiAgICByb290LmFkZChcImVtYWlsXCIpO1xuICAgIHJvb3QuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvbnNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbnMpIHtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYXBwbGllZEdpZnRDYXJkc1wiLCBmdW5jdGlvbiAoYXBwbGllZEdpZnRDYXJkcykge1xuICAgICAgYXBwbGllZEdpZnRDYXJkcy5hZGRGcmFnbWVudChzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInNoaXBwaW5nTGluZVwiLCBmdW5jdGlvbiAoc2hpcHBpbmdMaW5lKSB7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwiaGFuZGxlXCIpO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwicHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIm9yZGVyXCIsIGZ1bmN0aW9uIChvcmRlcikge1xuICAgICAgb3JkZXIuYWRkKFwiaWRcIik7XG4gICAgICBvcmRlci5hZGQoXCJwcm9jZXNzZWRBdFwiKTtcbiAgICAgIG9yZGVyLmFkZChcIm9yZGVyTnVtYmVyXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFNoaXBwaW5nUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFNoaXBwaW5nUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUmVmdW5kZWRWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1c3RvbWVyVXJsXCIpO1xuICAgICAgb3JkZXIuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICBmaXJzdDogMjUwXG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBmaXJzdDogMjUwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgbGluZUl0ZW1zLmFkZChcInBhZ2VJbmZvXCIsIGZ1bmN0aW9uIChwYWdlSW5mbykge1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgfSk7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgZWRnZXMuYWRkKFwibm9kZVwiLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIG5vZGUuYWRkKFwiaWRcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwia2V5XCIpO1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcImRpc2NvdW50QWxsb2NhdGlvbnNcIiwgZnVuY3Rpb24gKGRpc2NvdW50QWxsb2NhdGlvbnMpIHtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiYWxsb2NhdGVkQW1vdW50XCIsIGZ1bmN0aW9uIChhbGxvY2F0ZWRBbW91bnQpIHtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgICAgICAgYWxsb2NhdGVkQW1vdW50LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICAgICAgICAgIGRpc2NvdW50QXBwbGljYXRpb24uYWRkRnJhZ21lbnQoc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRNdXRhdGlvbihcImNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMlwiLCBbdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMi5hcHBsaWVkR2lmdENhcmRJZCwgdmFyaWFibGVzLmNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMi5jaGVja291dElkXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMlwiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGFwcGxpZWRHaWZ0Q2FyZElkOiB2YXJpYWJsZXMuY2hlY2tvdXRHaWZ0Q2FyZFJlbW92ZVYyLmFwcGxpZWRHaWZ0Q2FyZElkLFxuICAgICAgICBjaGVja291dElkOiB2YXJpYWJsZXMuY2hlY2tvdXRHaWZ0Q2FyZFJlbW92ZVYyLmNoZWNrb3V0SWRcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoY2hlY2tvdXRHaWZ0Q2FyZFJlbW92ZVYyKSB7XG4gICAgICBjaGVja291dEdpZnRDYXJkUmVtb3ZlVjIuYWRkKFwidXNlckVycm9yc1wiLCBmdW5jdGlvbiAodXNlckVycm9ycykge1xuICAgICAgICB1c2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dEdpZnRDYXJkUmVtb3ZlVjIuYWRkKFwiY2hlY2tvdXRVc2VyRXJyb3JzXCIsIGZ1bmN0aW9uIChjaGVja291dFVzZXJFcnJvcnMpIHtcbiAgICAgICAgY2hlY2tvdXRVc2VyRXJyb3JzLmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICAgIGNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMi5hZGQoXCJjaGVja291dFwiLCBmdW5jdGlvbiAoY2hlY2tvdXQpIHtcbiAgICAgICAgY2hlY2tvdXQuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dEZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG5mdW5jdGlvbiBxdWVyeSQyMyhjbGllbnQpIHtcbiAgdmFyIGRvY3VtZW50ID0gY2xpZW50LmRvY3VtZW50KCk7XG4gIHZhciBzcHJlYWRzID0ge307XG4gIHZhciB2YXJpYWJsZXMgPSB7fTtcbiAgdmFyaWFibGVzLmNoZWNrb3V0RW1haWxVcGRhdGVWMiA9IHt9O1xuICB2YXJpYWJsZXMuY2hlY2tvdXRFbWFpbFVwZGF0ZVYyLmNoZWNrb3V0SWQgPSBjbGllbnQudmFyaWFibGUoXCJjaGVja291dElkXCIsIFwiSUQhXCIpO1xuICB2YXJpYWJsZXMuY2hlY2tvdXRFbWFpbFVwZGF0ZVYyLmVtYWlsID0gY2xpZW50LnZhcmlhYmxlKFwiZW1haWxcIiwgXCJTdHJpbmchXCIpO1xuICBzcHJlYWRzLlZhcmlhbnRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwidGl0bGVcIik7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2VpZ2h0XCIpO1xuICAgIHJvb3QuYWRkKFwiYXZhaWxhYmxlRm9yU2FsZVwiLCB7XG4gICAgICBhbGlhczogXCJhdmFpbGFibGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2t1XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjb21wYXJlQXRQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJjb21wYXJlQXRQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAoY29tcGFyZUF0UHJpY2UpIHtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGNvbXBhcmVBdFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImltYWdlXCIsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgaW1hZ2UuYWRkKFwiaWRcIik7XG4gICAgICBpbWFnZS5hZGQoXCJ1cmxcIiwge1xuICAgICAgICBhbGlhczogXCJzcmNcIlxuICAgICAgfSk7XG4gICAgICBpbWFnZS5hZGQoXCJhbHRUZXh0XCIpO1xuICAgICAgaW1hZ2UuYWRkKFwid2lkdGhcIik7XG4gICAgICBpbWFnZS5hZGQoXCJoZWlnaHRcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzZWxlY3RlZE9wdGlvbnNcIiwgZnVuY3Rpb24gKHNlbGVjdGVkT3B0aW9ucykge1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcIm5hbWVcIik7XG4gICAgICBzZWxlY3RlZE9wdGlvbnMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VcIiwgZnVuY3Rpb24gKHVuaXRQcmljZSkge1xuICAgICAgdW5pdFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiLCBmdW5jdGlvbiAodW5pdFByaWNlTWVhc3VyZW1lbnQpIHtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcIm1lYXN1cmVkVHlwZVwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInF1YW50aXR5VmFsdWVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJyZWZlcmVuY2VVbml0XCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVmFsdWVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50XCIsIFwiRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwidGFyZ2V0U2VsZWN0aW9uXCIpO1xuICAgIHJvb3QuYWRkKFwiYWxsb2NhdGlvbk1ldGhvZFwiKTtcbiAgICByb290LmFkZChcInRhcmdldFR5cGVcIik7XG4gICAgcm9vdC5hZGQoXCJ2YWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJNb25leVYyXCIsIGZ1bmN0aW9uIChNb25leVYyKSB7XG4gICAgICAgIE1vbmV5VjIuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBNb25leVYyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgdmFsdWUuYWRkSW5saW5lRnJhZ21lbnRPbihcIlByaWNpbmdQZXJjZW50YWdlVmFsdWVcIiwgZnVuY3Rpb24gKFByaWNpbmdQZXJjZW50YWdlVmFsdWUpIHtcbiAgICAgICAgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZS5hZGQoXCJwZXJjZW50YWdlXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgTWFudWFsRGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwiZGVzY3JpcHRpb25cIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKERpc2NvdW50Q29kZUFwcGxpY2F0aW9uKSB7XG4gICAgICBEaXNjb3VudENvZGVBcHBsaWNhdGlvbi5hZGQoXCJjb2RlXCIpO1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiYXBwbGljYWJsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gIH0pO1xuICBzcHJlYWRzLkFwcGxpZWRHaWZ0Q2FyZEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJBcHBsaWVkR2lmdENhcmRGcmFnbWVudFwiLCBcIkFwcGxpZWRHaWZ0Q2FyZFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiYW1vdW50VXNlZFwiLCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwge1xuICAgICAgYWxpYXM6IFwiYW1vdW50VXNlZFYyXCJcbiAgICB9LCBmdW5jdGlvbiAoYW1vdW50VXNlZCkge1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBhbW91bnRVc2VkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImJhbGFuY2VcIiwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIHtcbiAgICAgIGFsaWFzOiBcImJhbGFuY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGJhbGFuY2UpIHtcbiAgICAgIGJhbGFuY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYmFsYW5jZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmVzZW50bWVudEFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKHByZXNlbnRtZW50QW1vdW50VXNlZCkge1xuICAgICAgcHJlc2VudG1lbnRBbW91bnRVc2VkLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImxhc3RDaGFyYWN0ZXJzXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnRcIiwgXCJQcm9kdWN0VmFyaWFudFwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQpO1xuICAgIHJvb3QuYWRkKFwicHJvZHVjdFwiLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5hZGQoXCJpZFwiKTtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaGFuZGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5Vc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiVXNlckVycm9yRnJhZ21lbnRcIiwgXCJVc2VyRXJyb3JcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImZpZWxkXCIpO1xuICAgIHJvb3QuYWRkKFwibWVzc2FnZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRVc2VyRXJyb3JGcmFnbWVudFwiLCBcIkNoZWNrb3V0VXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gICAgcm9vdC5hZGQoXCJjb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJNYWlsaW5nQWRkcmVzc0ZyYWdtZW50XCIsIFwiTWFpbGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczFcIik7XG4gICAgcm9vdC5hZGQoXCJhZGRyZXNzMlwiKTtcbiAgICByb290LmFkZChcImNpdHlcIik7XG4gICAgcm9vdC5hZGQoXCJjb21wYW55XCIpO1xuICAgIHJvb3QuYWRkKFwiY291bnRyeVwiKTtcbiAgICByb290LmFkZChcImZpcnN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImZvcm1hdHRlZFwiKTtcbiAgICByb290LmFkZChcImxhc3ROYW1lXCIpO1xuICAgIHJvb3QuYWRkKFwibGF0aXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJsb25naXR1ZGVcIik7XG4gICAgcm9vdC5hZGQoXCJwaG9uZVwiKTtcbiAgICByb290LmFkZChcInByb3ZpbmNlXCIpO1xuICAgIHJvb3QuYWRkKFwiemlwXCIpO1xuICAgIHJvb3QuYWRkKFwibmFtZVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlDb2RlVjJcIiwge1xuICAgICAgYWxpYXM6IFwiY291bnRyeUNvZGVcIlxuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJvdmluY2VDb2RlXCIpO1xuICB9KTtcbiAgc3ByZWFkcy5DaGVja291dEZyYWdtZW50ID0gZG9jdW1lbnQuZGVmaW5lRnJhZ21lbnQoXCJDaGVja291dEZyYWdtZW50XCIsIFwiQ2hlY2tvdXRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImlkXCIpO1xuICAgIHJvb3QuYWRkKFwicmVhZHlcIik7XG4gICAgcm9vdC5hZGQoXCJyZXF1aXJlc1NoaXBwaW5nXCIpO1xuICAgIHJvb3QuYWRkKFwibm90ZVwiKTtcbiAgICByb290LmFkZChcInBheW1lbnREdWVcIiwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIHtcbiAgICAgIGFsaWFzOiBcInBheW1lbnREdWVWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHBheW1lbnREdWUpIHtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgcGF5bWVudER1ZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ3ZWJVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJvcmRlclN0YXR1c1VybFwiKTtcbiAgICByb290LmFkZChcInRheEV4ZW1wdFwiKTtcbiAgICByb290LmFkZChcInRheGVzSW5jbHVkZWRcIik7XG4gICAgcm9vdC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFRheCkge1xuICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zU3VidG90YWxQcmljZVwiLCBmdW5jdGlvbiAobGluZUl0ZW1zU3VidG90YWxQcmljZSkge1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBsaW5lSXRlbXNTdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGxldGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJjcmVhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJ1cGRhdGVkQXRcIik7XG4gICAgcm9vdC5hZGQoXCJlbWFpbFwiKTtcbiAgICByb290LmFkZChcImRpc2NvdW50QXBwbGljYXRpb25zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDEwXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb25zKSB7XG4gICAgICBkaXNjb3VudEFwcGxpY2F0aW9ucy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImFwcGxpZWRHaWZ0Q2FyZHNcIiwgZnVuY3Rpb24gKGFwcGxpZWRHaWZ0Q2FyZHMpIHtcbiAgICAgIGFwcGxpZWRHaWZ0Q2FyZHMuYWRkRnJhZ21lbnQoc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgc2hpcHBpbmdBZGRyZXNzLmFkZEZyYWdtZW50KHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzaGlwcGluZ0xpbmVcIiwgZnVuY3Rpb24gKHNoaXBwaW5nTGluZSkge1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcImhhbmRsZVwiKTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgICAgcHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJwcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwidGl0bGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJvcmRlclwiLCBmdW5jdGlvbiAob3JkZXIpIHtcbiAgICAgIG9yZGVyLmFkZChcImlkXCIpO1xuICAgICAgb3JkZXIuYWRkKFwicHJvY2Vzc2VkQXRcIik7XG4gICAgICBvcmRlci5hZGQoXCJvcmRlck51bWJlclwiKTtcbiAgICAgIG9yZGVyLmFkZChcInN1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHN1YnRvdGFsUHJpY2UpIHtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3VidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxTaGlwcGluZ1ByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxTaGlwcGluZ1ByaWNlVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsU2hpcHBpbmdQcmljZSkge1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFNoaXBwaW5nUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsVGF4XCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxUYXhWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKHRvdGFsUHJpY2UpIHtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxSZWZ1bmRlZFwiLCBmdW5jdGlvbiAodG90YWxSZWZ1bmRlZCkge1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwge1xuICAgICAgICBhbGlhczogXCJ0b3RhbFJlZnVuZGVkVjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJjdXN0b21lclVybFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInNoaXBwaW5nQWRkcmVzc1wiLCBmdW5jdGlvbiAoc2hpcHBpbmdBZGRyZXNzKSB7XG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJsaW5lSXRlbXNcIiwge1xuICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNOZXh0UGFnZVwiKTtcbiAgICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICAgIH0pO1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwiZWRnZXNcIiwgZnVuY3Rpb24gKGVkZ2VzKSB7XG4gICAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcInZhcmlhbnRcIiwgZnVuY3Rpb24gKHZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJxdWFudGl0eVwiKTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgIGFyZ3M6IHtcbiAgICAgICAgZmlyc3Q6IDI1MFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChsaW5lSXRlbXMpIHtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJwYWdlSW5mb1wiLCBmdW5jdGlvbiAocGFnZUluZm8pIHtcbiAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc1ByZXZpb3VzUGFnZVwiKTtcbiAgICAgIH0pO1xuICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJjdXJzb3JcIik7XG4gICAgICAgIGVkZ2VzLmFkZChcIm5vZGVcIiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBub2RlLmFkZChcImlkXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidGl0bGVcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICB2YXJpYW50LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgbm9kZS5hZGQoXCJjdXN0b21BdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uIChjdXN0b21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcImtleVwiKTtcbiAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbm9kZS5hZGQoXCJkaXNjb3VudEFsbG9jYXRpb25zXCIsIGZ1bmN0aW9uIChkaXNjb3VudEFsbG9jYXRpb25zKSB7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImFsbG9jYXRlZEFtb3VudFwiLCBmdW5jdGlvbiAoYWxsb2NhdGVkQW1vdW50KSB7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgICAgICAgIGFsbG9jYXRlZEFtb3VudC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc2NvdW50QWxsb2NhdGlvbnMuYWRkKFwiZGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoZGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgICAgICAgICBkaXNjb3VudEFwcGxpY2F0aW9uLmFkZEZyYWdtZW50KHNwcmVhZHMuRGlzY291bnRBcHBsaWNhdGlvbkZyYWdtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkTXV0YXRpb24oXCJjaGVja291dEVtYWlsVXBkYXRlVjJcIiwgW3ZhcmlhYmxlcy5jaGVja291dEVtYWlsVXBkYXRlVjIuY2hlY2tvdXRJZCwgdmFyaWFibGVzLmNoZWNrb3V0RW1haWxVcGRhdGVWMi5lbWFpbF0sIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJjaGVja291dEVtYWlsVXBkYXRlVjJcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBjaGVja291dElkOiB2YXJpYWJsZXMuY2hlY2tvdXRFbWFpbFVwZGF0ZVYyLmNoZWNrb3V0SWQsXG4gICAgICAgIGVtYWlsOiB2YXJpYWJsZXMuY2hlY2tvdXRFbWFpbFVwZGF0ZVYyLmVtYWlsXG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGNoZWNrb3V0RW1haWxVcGRhdGVWMikge1xuICAgICAgY2hlY2tvdXRFbWFpbFVwZGF0ZVYyLmFkZChcInVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKHVzZXJFcnJvcnMpIHtcbiAgICAgICAgdXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRFbWFpbFVwZGF0ZVYyLmFkZChcImNoZWNrb3V0VXNlckVycm9yc1wiLCBmdW5jdGlvbiAoY2hlY2tvdXRVc2VyRXJyb3JzKSB7XG4gICAgICAgIGNoZWNrb3V0VXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgICBjaGVja291dEVtYWlsVXBkYXRlVjIuYWRkKFwiY2hlY2tvdXRcIiwgZnVuY3Rpb24gKGNoZWNrb3V0KSB7XG4gICAgICAgIGNoZWNrb3V0LmFkZEZyYWdtZW50KHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBkb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gcXVlcnkkMjQoY2xpZW50KSB7XG4gIHZhciBkb2N1bWVudCA9IGNsaWVudC5kb2N1bWVudCgpO1xuICB2YXIgc3ByZWFkcyA9IHt9O1xuICB2YXIgdmFyaWFibGVzID0ge307XG4gIHZhcmlhYmxlcy5jaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyID0ge307XG4gIHZhcmlhYmxlcy5jaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyLnNoaXBwaW5nQWRkcmVzcyA9IGNsaWVudC52YXJpYWJsZShcInNoaXBwaW5nQWRkcmVzc1wiLCBcIk1haWxpbmdBZGRyZXNzSW5wdXQhXCIpO1xuICB2YXJpYWJsZXMuY2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMi5jaGVja291dElkID0gY2xpZW50LnZhcmlhYmxlKFwiY2hlY2tvdXRJZFwiLCBcIklEIVwiKTtcbiAgc3ByZWFkcy5WYXJpYW50RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRGcmFnbWVudFwiLCBcIlByb2R1Y3RWYXJpYW50XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInRpdGxlXCIpO1xuICAgIHJvb3QuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJwcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAocHJpY2UpIHtcbiAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcIndlaWdodFwiKTtcbiAgICByb290LmFkZChcImF2YWlsYWJsZUZvclNhbGVcIiwge1xuICAgICAgYWxpYXM6IFwiYXZhaWxhYmxlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInNrdVwiKTtcbiAgICByb290LmFkZChcImNvbXBhcmVBdFByaWNlXCIsIGZ1bmN0aW9uIChjb21wYXJlQXRQcmljZSkge1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgY29tcGFyZUF0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY29tcGFyZUF0UHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwiY29tcGFyZUF0UHJpY2VWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGNvbXBhcmVBdFByaWNlKSB7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICBjb21wYXJlQXRQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJpbWFnZVwiLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgIGltYWdlLmFkZChcImlkXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwidXJsXCIsIHtcbiAgICAgICAgYWxpYXM6IFwic3JjXCJcbiAgICAgIH0pO1xuICAgICAgaW1hZ2UuYWRkKFwiYWx0VGV4dFwiKTtcbiAgICAgIGltYWdlLmFkZChcIndpZHRoXCIpO1xuICAgICAgaW1hZ2UuYWRkKFwiaGVpZ2h0XCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2VsZWN0ZWRPcHRpb25zXCIsIGZ1bmN0aW9uIChzZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgIHNlbGVjdGVkT3B0aW9ucy5hZGQoXCJuYW1lXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlXCIsIGZ1bmN0aW9uICh1bml0UHJpY2UpIHtcbiAgICAgIHVuaXRQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB1bml0UHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidW5pdFByaWNlTWVhc3VyZW1lbnRcIiwgZnVuY3Rpb24gKHVuaXRQcmljZU1lYXN1cmVtZW50KSB7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJtZWFzdXJlZFR5cGVcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVVuaXRcIik7XG4gICAgICB1bml0UHJpY2VNZWFzdXJlbWVudC5hZGQoXCJxdWFudGl0eVZhbHVlXCIpO1xuICAgICAgdW5pdFByaWNlTWVhc3VyZW1lbnQuYWRkKFwicmVmZXJlbmNlVW5pdFwiKTtcbiAgICAgIHVuaXRQcmljZU1lYXN1cmVtZW50LmFkZChcInJlZmVyZW5jZVZhbHVlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5EaXNjb3VudEFwcGxpY2F0aW9uRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudFwiLCBcIkRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcInRhcmdldFNlbGVjdGlvblwiKTtcbiAgICByb290LmFkZChcImFsbG9jYXRpb25NZXRob2RcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXJnZXRUeXBlXCIpO1xuICAgIHJvb3QuYWRkKFwidmFsdWVcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YWx1ZS5hZGRJbmxpbmVGcmFnbWVudE9uKFwiTW9uZXlWMlwiLCBmdW5jdGlvbiAoTW9uZXlWMikge1xuICAgICAgICBNb25leVYyLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgTW9uZXlWMi5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIHZhbHVlLmFkZElubGluZUZyYWdtZW50T24oXCJQcmljaW5nUGVyY2VudGFnZVZhbHVlXCIsIGZ1bmN0aW9uIChQcmljaW5nUGVyY2VudGFnZVZhbHVlKSB7XG4gICAgICAgIFByaWNpbmdQZXJjZW50YWdlVmFsdWUuYWRkKFwicGVyY2VudGFnZVwiKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIk1hbnVhbERpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24uYWRkKFwidGl0bGVcIik7XG4gICAgICBNYW51YWxEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcImRlc2NyaXB0aW9uXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkSW5saW5lRnJhZ21lbnRPbihcIkRpc2NvdW50Q29kZUFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChEaXNjb3VudENvZGVBcHBsaWNhdGlvbikge1xuICAgICAgRGlzY291bnRDb2RlQXBwbGljYXRpb24uYWRkKFwiY29kZVwiKTtcbiAgICAgIERpc2NvdW50Q29kZUFwcGxpY2F0aW9uLmFkZChcImFwcGxpY2FibGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGRJbmxpbmVGcmFnbWVudE9uKFwiU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvblwiLCBmdW5jdGlvbiAoU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbikge1xuICAgICAgU2NyaXB0RGlzY291bnRBcHBsaWNhdGlvbi5hZGQoXCJ0aXRsZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZElubGluZUZyYWdtZW50T24oXCJBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uXCIsIGZ1bmN0aW9uIChBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uKSB7XG4gICAgICBBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgc3ByZWFkcy5BcHBsaWVkR2lmdENhcmRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQXBwbGllZEdpZnRDYXJkRnJhZ21lbnRcIiwgXCJBcHBsaWVkR2lmdENhcmRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImFtb3VudFVzZWRcIiwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhbW91bnRVc2VkXCIsIHtcbiAgICAgIGFsaWFzOiBcImFtb3VudFVzZWRWMlwiXG4gICAgfSwgZnVuY3Rpb24gKGFtb3VudFVzZWQpIHtcbiAgICAgIGFtb3VudFVzZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgYW1vdW50VXNlZC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJiYWxhbmNlXCIsIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiYmFsYW5jZVwiLCB7XG4gICAgICBhbGlhczogXCJiYWxhbmNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChiYWxhbmNlKSB7XG4gICAgICBiYWxhbmNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIGJhbGFuY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicHJlc2VudG1lbnRBbW91bnRVc2VkXCIsIGZ1bmN0aW9uIChwcmVzZW50bWVudEFtb3VudFVzZWQpIHtcbiAgICAgIHByZXNlbnRtZW50QW1vdW50VXNlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICBwcmVzZW50bWVudEFtb3VudFVzZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiaWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0Q2hhcmFjdGVyc1wiKTtcbiAgfSk7XG4gIHNwcmVhZHMuVmFyaWFudFdpdGhQcm9kdWN0RnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50XCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZEZyYWdtZW50KHNwcmVhZHMuVmFyaWFudEZyYWdtZW50KTtcbiAgICByb290LmFkZChcInByb2R1Y3RcIiwgZnVuY3Rpb24gKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QuYWRkKFwiaWRcIik7XG4gICAgICBwcm9kdWN0LmFkZChcImhhbmRsZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHNwcmVhZHMuVXNlckVycm9yRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIlVzZXJFcnJvckZyYWdtZW50XCIsIFwiVXNlckVycm9yXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJmaWVsZFwiKTtcbiAgICByb290LmFkZChcIm1lc3NhZ2VcIik7XG4gIH0pO1xuICBzcHJlYWRzLkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnQgPSBkb2N1bWVudC5kZWZpbmVGcmFnbWVudChcIkNoZWNrb3V0VXNlckVycm9yRnJhZ21lbnRcIiwgXCJDaGVja291dFVzZXJFcnJvclwiLCBmdW5jdGlvbiAocm9vdCkge1xuICAgIHJvb3QuYWRkKFwiZmllbGRcIik7XG4gICAgcm9vdC5hZGQoXCJtZXNzYWdlXCIpO1xuICAgIHJvb3QuYWRkKFwiY29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuTWFpbGluZ0FkZHJlc3NGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiTWFpbGluZ0FkZHJlc3NGcmFnbWVudFwiLCBcIk1haWxpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcImFkZHJlc3MxXCIpO1xuICAgIHJvb3QuYWRkKFwiYWRkcmVzczJcIik7XG4gICAgcm9vdC5hZGQoXCJjaXR5XCIpO1xuICAgIHJvb3QuYWRkKFwiY29tcGFueVwiKTtcbiAgICByb290LmFkZChcImNvdW50cnlcIik7XG4gICAgcm9vdC5hZGQoXCJmaXJzdE5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJmb3JtYXR0ZWRcIik7XG4gICAgcm9vdC5hZGQoXCJsYXN0TmFtZVwiKTtcbiAgICByb290LmFkZChcImxhdGl0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwibG9uZ2l0dWRlXCIpO1xuICAgIHJvb3QuYWRkKFwicGhvbmVcIik7XG4gICAgcm9vdC5hZGQoXCJwcm92aW5jZVwiKTtcbiAgICByb290LmFkZChcInppcFwiKTtcbiAgICByb290LmFkZChcIm5hbWVcIik7XG4gICAgcm9vdC5hZGQoXCJjb3VudHJ5Q29kZVYyXCIsIHtcbiAgICAgIGFsaWFzOiBcImNvdW50cnlDb2RlXCJcbiAgICB9KTtcbiAgICByb290LmFkZChcInByb3ZpbmNlQ29kZVwiKTtcbiAgfSk7XG4gIHNwcmVhZHMuQ2hlY2tvdXRGcmFnbWVudCA9IGRvY3VtZW50LmRlZmluZUZyYWdtZW50KFwiQ2hlY2tvdXRGcmFnbWVudFwiLCBcIkNoZWNrb3V0XCIsIGZ1bmN0aW9uIChyb290KSB7XG4gICAgcm9vdC5hZGQoXCJpZFwiKTtcbiAgICByb290LmFkZChcInJlYWR5XCIpO1xuICAgIHJvb3QuYWRkKFwicmVxdWlyZXNTaGlwcGluZ1wiKTtcbiAgICByb290LmFkZChcIm5vdGVcIik7XG4gICAgcm9vdC5hZGQoXCJwYXltZW50RHVlXCIsIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwicGF5bWVudER1ZVwiLCB7XG4gICAgICBhbGlhczogXCJwYXltZW50RHVlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChwYXltZW50RHVlKSB7XG4gICAgICBwYXltZW50RHVlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHBheW1lbnREdWUuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwid2ViVXJsXCIpO1xuICAgIHJvb3QuYWRkKFwib3JkZXJTdGF0dXNVcmxcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhFeGVtcHRcIik7XG4gICAgcm9vdC5hZGQoXCJ0YXhlc0luY2x1ZGVkXCIpO1xuICAgIHJvb3QuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIHJvb3QuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICB0b3RhbFRheC5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFRheC5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICBhbGlhczogXCJ0b3RhbFRheFYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxUYXgpIHtcbiAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgIHRvdGFsVGF4LmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1N1YnRvdGFsUHJpY2VcIiwgZnVuY3Rpb24gKGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UpIHtcbiAgICAgIGxpbmVJdGVtc1N1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgbGluZUl0ZW1zU3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICBhbGlhczogXCJzdWJ0b3RhbFByaWNlVjJcIlxuICAgIH0sIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwidG90YWxQcmljZVwiLCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcInRvdGFsUHJpY2VcIiwge1xuICAgICAgYWxpYXM6IFwidG90YWxQcmljZVYyXCJcbiAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgdG90YWxQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImNvbXBsZXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiY3JlYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwidXBkYXRlZEF0XCIpO1xuICAgIHJvb3QuYWRkKFwiZW1haWxcIik7XG4gICAgcm9vdC5hZGQoXCJkaXNjb3VudEFwcGxpY2F0aW9uc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAxMFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChkaXNjb3VudEFwcGxpY2F0aW9ucykge1xuICAgICAgZGlzY291bnRBcHBsaWNhdGlvbnMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGRpc2NvdW50QXBwbGljYXRpb25zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcm9vdC5hZGQoXCJhcHBsaWVkR2lmdENhcmRzXCIsIGZ1bmN0aW9uIChhcHBsaWVkR2lmdENhcmRzKSB7XG4gICAgICBhcHBsaWVkR2lmdENhcmRzLmFkZEZyYWdtZW50KHNwcmVhZHMuQXBwbGllZEdpZnRDYXJkRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdBZGRyZXNzXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0FkZHJlc3MpIHtcbiAgICAgIHNoaXBwaW5nQWRkcmVzcy5hZGRGcmFnbWVudChzcHJlYWRzLk1haWxpbmdBZGRyZXNzRnJhZ21lbnQpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwic2hpcHBpbmdMaW5lXCIsIGZ1bmN0aW9uIChzaGlwcGluZ0xpbmUpIHtcbiAgICAgIHNoaXBwaW5nTGluZS5hZGQoXCJoYW5kbGVcIik7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwgZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgcHJpY2UuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBzaGlwcGluZ0xpbmUuYWRkKFwicHJpY2VcIiwge1xuICAgICAgICBhbGlhczogXCJwcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uIChwcmljZSkge1xuICAgICAgICBwcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgc2hpcHBpbmdMaW5lLmFkZChcInRpdGxlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgIH0pO1xuICAgIHJvb3QuYWRkKFwib3JkZXJcIiwgZnVuY3Rpb24gKG9yZGVyKSB7XG4gICAgICBvcmRlci5hZGQoXCJpZFwiKTtcbiAgICAgIG9yZGVyLmFkZChcInByb2Nlc3NlZEF0XCIpO1xuICAgICAgb3JkZXIuYWRkKFwib3JkZXJOdW1iZXJcIik7XG4gICAgICBvcmRlci5hZGQoXCJzdWJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uIChzdWJ0b3RhbFByaWNlKSB7XG4gICAgICAgIHN1YnRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwic3VidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInN1YnRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAoc3VidG90YWxQcmljZSkge1xuICAgICAgICBzdWJ0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgc3VidG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCBmdW5jdGlvbiAodG90YWxTaGlwcGluZ1ByaWNlKSB7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsU2hpcHBpbmdQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsU2hpcHBpbmdQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsU2hpcHBpbmdQcmljZVYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFNoaXBwaW5nUHJpY2UpIHtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxTaGlwcGluZ1ByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxUYXhcIiwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFRheFwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsVGF4VjJcIlxuICAgICAgfSwgZnVuY3Rpb24gKHRvdGFsVGF4KSB7XG4gICAgICAgIHRvdGFsVGF4LmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxUYXguYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFByaWNlXCIsIGZ1bmN0aW9uICh0b3RhbFByaWNlKSB7XG4gICAgICAgIHRvdGFsUHJpY2UuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwidG90YWxQcmljZVwiLCB7XG4gICAgICAgIGFsaWFzOiBcInRvdGFsUHJpY2VWMlwiXG4gICAgICB9LCBmdW5jdGlvbiAodG90YWxQcmljZSkge1xuICAgICAgICB0b3RhbFByaWNlLmFkZChcImFtb3VudFwiKTtcbiAgICAgICAgdG90YWxQcmljZS5hZGQoXCJjdXJyZW5jeUNvZGVcIik7XG4gICAgICB9KTtcbiAgICAgIG9yZGVyLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIG9yZGVyLmFkZChcInRvdGFsUmVmdW5kZWRcIiwgZnVuY3Rpb24gKHRvdGFsUmVmdW5kZWQpIHtcbiAgICAgICAgdG90YWxSZWZ1bmRlZC5hZGQoXCJhbW91bnRcIik7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgfSk7XG4gICAgICBvcmRlci5hZGQoXCJ0b3RhbFJlZnVuZGVkXCIsIHtcbiAgICAgICAgYWxpYXM6IFwidG90YWxSZWZ1bmRlZFYyXCJcbiAgICAgIH0sIGZ1bmN0aW9uICh0b3RhbFJlZnVuZGVkKSB7XG4gICAgICAgIHRvdGFsUmVmdW5kZWQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICB0b3RhbFJlZnVuZGVkLmFkZChcImN1cnJlbmN5Q29kZVwiKTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwiY3VzdG9tZXJVcmxcIik7XG4gICAgICBvcmRlci5hZGQoXCJzaGlwcGluZ0FkZHJlc3NcIiwgZnVuY3Rpb24gKHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgICBzaGlwcGluZ0FkZHJlc3MuYWRkRnJhZ21lbnQoc3ByZWFkcy5NYWlsaW5nQWRkcmVzc0ZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgb3JkZXIuYWRkKFwibGluZUl0ZW1zXCIsIHtcbiAgICAgICAgYXJnczoge1xuICAgICAgICAgIGZpcnN0OiAyNTBcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzTmV4dFBhZ2VcIik7XG4gICAgICAgICAgcGFnZUluZm8uYWRkKFwiaGFzUHJldmlvdXNQYWdlXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGluZUl0ZW1zLmFkZChcImVkZ2VzXCIsIGZ1bmN0aW9uIChlZGdlcykge1xuICAgICAgICAgIGVkZ2VzLmFkZChcImN1cnNvclwiKTtcbiAgICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgICAgbm9kZS5hZGQoXCJ2YXJpYW50XCIsIGZ1bmN0aW9uICh2YXJpYW50KSB7XG4gICAgICAgICAgICAgIHZhcmlhbnQuYWRkRnJhZ21lbnQoc3ByZWFkcy5WYXJpYW50V2l0aFByb2R1Y3RGcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vZGUuYWRkKFwicXVhbnRpdHlcIik7XG4gICAgICAgICAgICBub2RlLmFkZChcImN1c3RvbUF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24gKGN1c3RvbUF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICAgIGN1c3RvbUF0dHJpYnV0ZXMuYWRkKFwidmFsdWVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByb290LmFkZChcImxpbmVJdGVtc1wiLCB7XG4gICAgICBhcmdzOiB7XG4gICAgICAgIGZpcnN0OiAyNTBcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAobGluZUl0ZW1zKSB7XG4gICAgICBsaW5lSXRlbXMuYWRkKFwicGFnZUluZm9cIiwgZnVuY3Rpb24gKHBhZ2VJbmZvKSB7XG4gICAgICAgIHBhZ2VJbmZvLmFkZChcImhhc05leHRQYWdlXCIpO1xuICAgICAgICBwYWdlSW5mby5hZGQoXCJoYXNQcmV2aW91c1BhZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGxpbmVJdGVtcy5hZGQoXCJlZGdlc1wiLCBmdW5jdGlvbiAoZWRnZXMpIHtcbiAgICAgICAgZWRnZXMuYWRkKFwiY3Vyc29yXCIpO1xuICAgICAgICBlZGdlcy5hZGQoXCJub2RlXCIsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgbm9kZS5hZGQoXCJpZFwiKTtcbiAgICAgICAgICBub2RlLmFkZChcInRpdGxlXCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwidmFyaWFudFwiLCBmdW5jdGlvbiAodmFyaWFudCkge1xuICAgICAgICAgICAgdmFyaWFudC5hZGRGcmFnbWVudChzcHJlYWRzLlZhcmlhbnRXaXRoUHJvZHVjdEZyYWdtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBub2RlLmFkZChcInF1YW50aXR5XCIpO1xuICAgICAgICAgIG5vZGUuYWRkKFwiY3VzdG9tQXR0cmlidXRlc1wiLCBmdW5jdGlvbiAoY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgY3VzdG9tQXR0cmlidXRlcy5hZGQoXCJrZXlcIik7XG4gICAgICAgICAgICBjdXN0b21BdHRyaWJ1dGVzLmFkZChcInZhbHVlXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5vZGUuYWRkKFwiZGlzY291bnRBbGxvY2F0aW9uc1wiLCBmdW5jdGlvbiAoZGlzY291bnRBbGxvY2F0aW9ucykge1xuICAgICAgICAgICAgZGlzY291bnRBbGxvY2F0aW9ucy5hZGQoXCJhbGxvY2F0ZWRBbW91bnRcIiwgZnVuY3Rpb24gKGFsbG9jYXRlZEFtb3VudCkge1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiYW1vdW50XCIpO1xuICAgICAgICAgICAgICBhbGxvY2F0ZWRBbW91bnQuYWRkKFwiY3VycmVuY3lDb2RlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaXNjb3VudEFsbG9jYXRpb25zLmFkZChcImRpc2NvdW50QXBwbGljYXRpb25cIiwgZnVuY3Rpb24gKGRpc2NvdW50QXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgZGlzY291bnRBcHBsaWNhdGlvbi5hZGRGcmFnbWVudChzcHJlYWRzLkRpc2NvdW50QXBwbGljYXRpb25GcmFnbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZE11dGF0aW9uKFwiY2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMlwiLCBbdmFyaWFibGVzLmNoZWNrb3V0U2hpcHBpbmdBZGRyZXNzVXBkYXRlVjIuc2hpcHBpbmdBZGRyZXNzLCB2YXJpYWJsZXMuY2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMi5jaGVja291dElkXSwgZnVuY3Rpb24gKHJvb3QpIHtcbiAgICByb290LmFkZChcImNoZWNrb3V0U2hpcHBpbmdBZGRyZXNzVXBkYXRlVjJcIiwge1xuICAgICAgYXJnczoge1xuICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IHZhcmlhYmxlcy5jaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyLnNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgY2hlY2tvdXRJZDogdmFyaWFibGVzLmNoZWNrb3V0U2hpcHBpbmdBZGRyZXNzVXBkYXRlVjIuY2hlY2tvdXRJZFxuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChjaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyKSB7XG4gICAgICBjaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyLmFkZChcInVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKHVzZXJFcnJvcnMpIHtcbiAgICAgICAgdXNlckVycm9ycy5hZGRGcmFnbWVudChzcHJlYWRzLlVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMi5hZGQoXCJjaGVja291dFVzZXJFcnJvcnNcIiwgZnVuY3Rpb24gKGNoZWNrb3V0VXNlckVycm9ycykge1xuICAgICAgICBjaGVja291dFVzZXJFcnJvcnMuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dFVzZXJFcnJvckZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgICAgY2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMi5hZGQoXCJjaGVja291dFwiLCBmdW5jdGlvbiAoY2hlY2tvdXQpIHtcbiAgICAgICAgY2hlY2tvdXQuYWRkRnJhZ21lbnQoc3ByZWFkcy5DaGVja291dEZyYWdtZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGRvY3VtZW50O1xufVxuXG4vLyBHcmFwaFFMXG4vKipcbiAqIFRoZSBKUyBCdXkgU0RLIGNoZWNrb3V0IHJlc291cmNlXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgQ2hlY2tvdXRSZXNvdXJjZSA9IGZ1bmN0aW9uIChfUmVzb3VyY2UpIHtcbiAgaW5oZXJpdHMkMShDaGVja291dFJlc291cmNlLCBfUmVzb3VyY2UpO1xuXG4gIGZ1bmN0aW9uIENoZWNrb3V0UmVzb3VyY2UoKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBDaGVja291dFJlc291cmNlKTtcbiAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiQxKHRoaXMsIChDaGVja291dFJlc291cmNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2hlY2tvdXRSZXNvdXJjZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MkMShDaGVja291dFJlc291cmNlLCBbe1xuICAgIGtleTogJ2ZldGNoJyxcblxuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhIGNoZWNrb3V0IGJ5IElELlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjbGllbnQuY2hlY2tvdXQuZmV0Y2goJ0ZsWmo5clpYbE41TURZNFpERmlaVFV5WlRVd05URTJNRE5oWmpnPScpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgY2hlY2tvdXRcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGNoZWNrb3V0IHRvIGZldGNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIGEgYEdyYXBoTW9kZWxgIG9mIHRoZSBjaGVja291dC5cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2goaWQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMTIsIHsgaWQ6IGlkIH0pLnRoZW4oZGVmYXVsdFJlc29sdmVyKCdub2RlJykpLnRoZW4oZnVuY3Rpb24gKGNoZWNrb3V0KSB7XG4gICAgICAgIGlmICghY2hlY2tvdXQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfdGhpczIuZ3JhcGhRTENsaWVudC5mZXRjaEFsbFBhZ2VzKGNoZWNrb3V0LmxpbmVJdGVtcywgeyBwYWdlU2l6ZTogMjUwIH0pLnRoZW4oZnVuY3Rpb24gKGxpbmVJdGVtcykge1xuICAgICAgICAgIGNoZWNrb3V0LmF0dHJzLmxpbmVJdGVtcyA9IGxpbmVJdGVtcztcblxuICAgICAgICAgIHJldHVybiBjaGVja291dDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hlY2tvdXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGlucHV0ID0ge1xuICAgICAqICAgbGluZUl0ZW1zOiBbXG4gICAgICogICAgIHt2YXJpYW50SWQ6ICdaMmxrT2k4dmMyaHZjR2xtZVM5UWNtOWtkV04wVm1GeWFXRnVkQzh5T1RFd05qQXlNamM1TWc9PScsIHF1YW50aXR5OiA1fVxuICAgICAqICAgXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBjbGllbnQuY2hlY2tvdXQuY3JlYXRlKGlucHV0KS50aGVuKChjaGVja291dCkgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgY2hlY2tvdXRcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbaW5wdXRdIEFuIGlucHV0IG9iamVjdCBjb250YWluaW5nIHplcm8gb3IgbW9yZSBvZjpcbiAgICAgKiAgIEBwYXJhbSB7U3RyaW5nfSBbaW5wdXQuZW1haWxdIEFuIGVtYWlsIGNvbm5lY3RlZCB0byB0aGUgY2hlY2tvdXQuXG4gICAgICogICBAcGFyYW0ge09iamVjdFtdfSBbaW5wdXQubGluZUl0ZW1zXSBBIGxpc3Qgb2YgbGluZSBpdGVtcyBpbiB0aGUgY2hlY2tvdXQuIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL2lucHV0LW9iamVjdC9jaGVja291dGxpbmVpdGVtaW5wdXR8U3RvcmVmcm9udCBBUEkgcmVmZXJlbmNlfSBmb3IgdmFsaWQgaW5wdXQgZmllbGRzIGZvciBlYWNoIGxpbmUgaXRlbS5cbiAgICAgKiAgIEBwYXJhbSB7T2JqZWN0fSBbaW5wdXQuc2hpcHBpbmdBZGRyZXNzXSBBIHNoaXBwaW5nIGFkZHJlc3MuIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL2lucHV0LW9iamVjdC9tYWlsaW5nYWRkcmVzc2lucHV0fFN0b3JlZnJvbnQgQVBJIHJlZmVyZW5jZX0gZm9yIHZhbGlkIGlucHV0IGZpZWxkcy5cbiAgICAgKiAgIEBwYXJhbSB7U3RyaW5nfSBbaW5wdXQubm90ZV0gQSBub3RlIGZvciB0aGUgY2hlY2tvdXQuXG4gICAgICogICBAcGFyYW0ge09iamVjdFtdfSBbaW5wdXQuY3VzdG9tQXR0cmlidXRlc10gQSBsaXN0IG9mIGN1c3RvbSBhdHRyaWJ1dGVzIGZvciB0aGUgY2hlY2tvdXQuIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL2lucHV0LW9iamVjdC9hdHRyaWJ1dGVpbnB1dHxTdG9yZWZyb250IEFQSSByZWZlcmVuY2V9IGZvciB2YWxpZCBpbnB1dCBmaWVsZHMuXG4gICAgICogICBAcGFyYW0ge1N0cmluZ30gW2lucHV0LnByZXNlbnRtZW50Q3VycmVuY3lDb2RlIF0gQSBwcmVzZW50bWVudCBjdXJyZW5jeSBjb2RlLiBTZWUgdGhlIHtAbGluayBodHRwczovL2hlbHAuc2hvcGlmeS5jb20vZW4vYXBpL3N0b3JlZnJvbnQtYXBpL3JlZmVyZW5jZS9lbnVtL2N1cnJlbmN5Y29kZXxTdG9yZWZyb250IEFQSSByZWZlcmVuY2V9IGZvciB2YWxpZCBjdXJyZW5jeSBjb2RlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCB0aGUgY3JlYXRlZCBjaGVja291dC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY3JlYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDEzLCB7IGlucHV0OiBpbnB1dCB9KS50aGVuKGhhbmRsZUNoZWNrb3V0TXV0YXRpb24oJ2NoZWNrb3V0Q3JlYXRlJywgdGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgdGhlIHZhbHVlIG9mIGNoZWNrb3V0J3MgY3VzdG9tIGF0dHJpYnV0ZXMgYW5kL29yIG5vdGUgd2l0aCB2YWx1ZXMgZGVmaW5lZCBpbiB0aGUgaW5wdXRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY2hlY2tvdXRJZCA9ICdaMmxrT2k4dmMyaHZjR2xtZVM5RGFHVmphMjkxZEM5a01UWm1NMkV6TURNNFlqYzROPSc7XG4gICAgICogY29uc3QgaW5wdXQgPSB7Y3VzdG9tQXR0cmlidXRlczogW3trZXk6IFwiTXlLZXlcIiwgdmFsdWU6IFwiTXlWYWx1ZVwifV19O1xuICAgICAqXG4gICAgICogY2xpZW50LmNoZWNrb3V0LnVwZGF0ZUF0dHJpYnV0ZXMoY2hlY2tvdXRJZCwgaW5wdXQpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNoZWNrb3V0SWQgVGhlIElEIG9mIHRoZSBjaGVja291dCB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtpbnB1dF0gQW4gaW5wdXQgb2JqZWN0IGNvbnRhaW5pbmcgemVybyBvciBtb3JlIG9mOlxuICAgICAqICAgQHBhcmFtIHtCb29sZWFufSBbaW5wdXQuYWxsb3dQYXJ0aWFsQWRkcmVzc2VzXSBBbiBlbWFpbCBjb25uZWN0ZWQgdG8gdGhlIGNoZWNrb3V0LlxuICAgICAqICAgQHBhcmFtIHtPYmplY3RbXX0gW2lucHV0LmN1c3RvbUF0dHJpYnV0ZXNdIEEgbGlzdCBvZiBjdXN0b20gYXR0cmlidXRlcyBmb3IgdGhlIGNoZWNrb3V0LiBTZWUgdGhlIHtAbGluayBodHRwczovL2hlbHAuc2hvcGlmeS5jb20vYXBpL3N0b3JlZnJvbnQtYXBpL3JlZmVyZW5jZS9pbnB1dC1vYmplY3QvYXR0cmlidXRlaW5wdXR8U3RvcmVmcm9udCBBUEkgcmVmZXJlbmNlfSBmb3IgdmFsaWQgaW5wdXQgZmllbGRzLlxuICAgICAqICAgQHBhcmFtIHtTdHJpbmd9IFtpbnB1dC5ub3RlXSBBIG5vdGUgZm9yIHRoZSBjaGVja291dC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlQXR0cmlidXRlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXMoY2hlY2tvdXRJZCkge1xuICAgICAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDE4LCB7IGNoZWNrb3V0SWQ6IGNoZWNrb3V0SWQsIGlucHV0OiBpbnB1dCB9KS50aGVuKGhhbmRsZUNoZWNrb3V0TXV0YXRpb24oJ2NoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyJywgdGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgdGhlIHZhbHVlIG9mIGNoZWNrb3V0J3MgZW1haWwgYWRkcmVzc1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjaGVja291dElkID0gJ1oybGtPaTh2YzJodmNHbG1lUzlEYUdWamEyOTFkQzlrTVRabU0yRXpNRE00WWpjNE49JztcbiAgICAgKiBjb25zdCBlbWFpbCA9ICd1c2VyQGV4YW1wbGUuY29tJztcbiAgICAgKlxuICAgICAqIGNsaWVudC5jaGVja291dC51cGRhdGVFbWFpbChjaGVja291dElkLCBlbWFpbCkudGhlbigoY2hlY2tvdXQpID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY2hlY2tvdXRJZCBUaGUgSUQgb2YgdGhlIGNoZWNrb3V0IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW1haWwgVGhlIGVtYWlsIGFkZHJlc3MgdG8gYXBwbHkgdG8gdGhlIGNoZWNrb3V0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVFbWFpbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUVtYWlsKGNoZWNrb3V0SWQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMjMsIHsgY2hlY2tvdXRJZDogY2hlY2tvdXRJZCwgZW1haWw6IGVtYWlsIH0pLnRoZW4oaGFuZGxlQ2hlY2tvdXRNdXRhdGlvbignY2hlY2tvdXRFbWFpbFVwZGF0ZVYyJywgdGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBsaW5lIGl0ZW1zIHRvIGFuIGV4aXN0aW5nIGNoZWNrb3V0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjaGVja291dElkID0gJ1oybGtPaTh2YzJodmNHbG1lUzlEYUdWamEyOTFkQzlrTVRabU0yRXpNRE00WWpjNE49JztcbiAgICAgKiBjb25zdCBsaW5lSXRlbXMgPSBbe3ZhcmlhbnRJZDogJ1oybGtPaTh2YzJodmNHbG1lUzlRY205a2RXTjBWbUZ5YVdGdWRDOHlPVEV3TmpBeU1qYzVNZz09JywgcXVhbnRpdHk6IDV9XTtcbiAgICAgKlxuICAgICAqIGNsaWVudC5jaGVja291dC5hZGRMaW5lSXRlbXMoY2hlY2tvdXRJZCwgbGluZUl0ZW1zKS50aGVuKChjaGVja291dCkgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXRcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjaGVja291dElkIFRoZSBJRCBvZiB0aGUgY2hlY2tvdXQgdG8gYWRkIGxpbmUgaXRlbXMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gbGluZUl0ZW1zIEEgbGlzdCBvZiBsaW5lIGl0ZW1zIHRvIGFkZCB0byB0aGUgY2hlY2tvdXQuIFNlZSB0aGUge0BsaW5rIGh0dHBzOi8vaGVscC5zaG9waWZ5LmNvbS9hcGkvc3RvcmVmcm9udC1hcGkvcmVmZXJlbmNlL2lucHV0LW9iamVjdC9jaGVja291dGxpbmVpdGVtaW5wdXR8U3RvcmVmcm9udCBBUEkgcmVmZXJlbmNlfSBmb3IgdmFsaWQgaW5wdXQgZmllbGRzIGZvciBlYWNoIGxpbmUgaXRlbS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWRkTGluZUl0ZW1zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTGluZUl0ZW1zKGNoZWNrb3V0SWQsIGxpbmVJdGVtcykge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDE0LCB7IGNoZWNrb3V0SWQ6IGNoZWNrb3V0SWQsIGxpbmVJdGVtczogbGluZUl0ZW1zIH0pLnRoZW4oaGFuZGxlQ2hlY2tvdXRNdXRhdGlvbignY2hlY2tvdXRMaW5lSXRlbXNBZGQnLCB0aGlzLmdyYXBoUUxDbGllbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZGlzY291bnQgdG8gYW4gZXhpc3RpbmcgY2hlY2tvdXQgdXNpbmcgYSBkaXNjb3VudCBjb2RlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBjaGVja291dElkID0gJ1oybGtPaTh2YzJodmNHbG1lUzlEYUdWamEyOTFkQzlrTVRabU0yRXpNRE00WWpjNE49JztcbiAgICAgKiBjb25zdCBkaXNjb3VudENvZGUgPSAnYmVzdC1kaXNjb3VudC1ldmVyJztcbiAgICAgKlxuICAgICAqIGNsaWVudC5jaGVja291dC5hZGREaXNjb3VudChjaGVja291dElkLCBkaXNjb3VudENvZGUpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNoZWNrb3V0SWQgVGhlIElEIG9mIHRoZSBjaGVja291dCB0byBhZGQgZGlzY291bnQgdG8uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpc2NvdW50Q29kZSBUaGUgZGlzY291bnQgY29kZSB0byBhcHBseSB0byB0aGUgY2hlY2tvdXQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZXxHcmFwaE1vZGVsfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZERpc2NvdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRGlzY291bnQoY2hlY2tvdXRJZCwgZGlzY291bnRDb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMTksIHsgY2hlY2tvdXRJZDogY2hlY2tvdXRJZCwgZGlzY291bnRDb2RlOiBkaXNjb3VudENvZGUgfSkudGhlbihoYW5kbGVDaGVja291dE11dGF0aW9uKCdjaGVja291dERpc2NvdW50Q29kZUFwcGx5VjInLCB0aGlzLmdyYXBoUUxDbGllbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBhcHBsaWVkIGRpc2NvdW50IGZyb20gYW4gZXhpc3RpbmcgY2hlY2tvdXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNoZWNrb3V0SWQgPSAnWjJsa09pOHZjMmh2Y0dsbWVTOURhR1ZqYTI5MWRDOWtNVFptTTJFek1ETTRZamM0Tj0nO1xuICAgICAqXG4gICAgICogY2xpZW50LmNoZWNrb3V0LnJlbW92ZURpc2NvdW50KGNoZWNrb3V0SWQpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNoZWNrb3V0SWQgVGhlIElEIG9mIHRoZSBjaGVja291dCB0byByZW1vdmUgdGhlIGRpc2NvdW50IGZyb20uXG4gICAgICogQHJldHVybiB7UHJvbWlzZXxHcmFwaE1vZGVsfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZURpc2NvdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRGlzY291bnQoY2hlY2tvdXRJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDIwLCB7IGNoZWNrb3V0SWQ6IGNoZWNrb3V0SWQgfSkudGhlbihoYW5kbGVDaGVja291dE11dGF0aW9uKCdjaGVja291dERpc2NvdW50Q29kZVJlbW92ZScsIHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZ2lmdCBjYXJkcyB0byBhbiBleGlzdGluZyBjaGVja291dCB1c2luZyBhIGxpc3Qgb2YgZ2lmdCBjYXJkIGNvZGVzXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNoZWNrb3V0SWQgPSAnWjJsa09pOHZjMmh2Y0dsbWVTOURhR1ZqYTI5MWRDOWtNVFptTTJFek1ETTRZamM0Tj0nO1xuICAgICAqIGNvbnN0IGdpZnRDYXJkQ29kZXMgPSBbJzZGRDg4NTNEQUdBQTk0OUYnXTtcbiAgICAgKlxuICAgICAqIGNsaWVudC5jaGVja291dC5hZGRHaWZ0Q2FyZHMoY2hlY2tvdXRJZCwgZ2lmdENhcmRDb2RlcykudGhlbigoY2hlY2tvdXQpID0+IHtcbiAgICAgKiAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY2hlY2tvdXRJZCBUaGUgSUQgb2YgdGhlIGNoZWNrb3V0IHRvIGFkZCBnaWZ0IGNhcmRzIHRvLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGdpZnRDYXJkQ29kZXMgVGhlIGdpZnQgY2FyZCBjb2RlcyB0byBhcHBseSB0byB0aGUgY2hlY2tvdXQuXG4gICAgICogQHJldHVybiB7UHJvbWlzZXxHcmFwaE1vZGVsfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZEdpZnRDYXJkcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEdpZnRDYXJkcyhjaGVja291dElkLCBnaWZ0Q2FyZENvZGVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMjEsIHsgY2hlY2tvdXRJZDogY2hlY2tvdXRJZCwgZ2lmdENhcmRDb2RlczogZ2lmdENhcmRDb2RlcyB9KS50aGVuKGhhbmRsZUNoZWNrb3V0TXV0YXRpb24oJ2NoZWNrb3V0R2lmdENhcmRzQXBwZW5kJywgdGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgZ2lmdCBjYXJkIGZyb20gYW4gZXhpc3RpbmcgY2hlY2tvdXRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY2hlY2tvdXRJZCA9ICdaMmxrT2k4dmMyaHZjR2xtZVM5RGFHVmphMjkxZEM5a01UWm1NMkV6TURNNFlqYzROPSc7XG4gICAgICogY29uc3QgYXBwbGllZEdpZnRDYXJkSWQgPSAnWjJsa09pOHZjMmh2Y0dsbWVTOUJjSEJzYVdWa1IybG1kRU5oY21Rdk5ESTROVFExT0RBek1UST0nO1xuICAgICAqXG4gICAgICogY2xpZW50LmNoZWNrb3V0LnJlbW92ZUdpZnRDYXJkKGNoZWNrb3V0SWQsIGFwcGxpZWRHaWZ0Q2FyZElkKS50aGVuKChjaGVja291dCkgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXRcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjaGVja291dElkIFRoZSBJRCBvZiB0aGUgY2hlY2tvdXQgdG8gYWRkIGdpZnQgY2FyZHMgdG8uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFwcGxpZWRHaWZ0Q2FyZElkIFRoZSBnaWZ0IGNhcmQgaWQgdG8gcmVtb3ZlIGZyb20gdGhlIGNoZWNrb3V0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmVHaWZ0Q2FyZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUdpZnRDYXJkKGNoZWNrb3V0SWQsIGFwcGxpZWRHaWZ0Q2FyZElkKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMjIsIHsgY2hlY2tvdXRJZDogY2hlY2tvdXRJZCwgYXBwbGllZEdpZnRDYXJkSWQ6IGFwcGxpZWRHaWZ0Q2FyZElkIH0pLnRoZW4oaGFuZGxlQ2hlY2tvdXRNdXRhdGlvbignY2hlY2tvdXRHaWZ0Q2FyZFJlbW92ZVYyJywgdGhpcy5ncmFwaFFMQ2xpZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaW5lIGl0ZW1zIGZyb20gYW4gZXhpc3RpbmcgY2hlY2tvdXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNoZWNrb3V0SWQgPSAnWjJsa09pOHZjMmh2Y0dsbWVTOURhR1ZqYTI5MWRDOWtNVFptTTJFek1ETTRZamM0Tj0nO1xuICAgICAqIGNvbnN0IGxpbmVJdGVtSWRzID0gWydUVmlaR0U1WTJVMVpERmhZMkZpTW1NMllUOXJaWGs5TlRjMllqQmhPRGN3TldJeFl6ZzBZakU1WmpSbVpHUTVOamN6TkdWa1pHVT0nXTtcbiAgICAgKlxuICAgICAqIGNsaWVudC5jaGVja291dC5yZW1vdmVMaW5lSXRlbXMoY2hlY2tvdXRJZCwgbGluZUl0ZW1JZHMpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNoZWNrb3V0SWQgVGhlIElEIG9mIHRoZSBjaGVja291dCB0byByZW1vdmUgbGluZSBpdGVtcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGxpbmVJdGVtSWRzIEEgbGlzdCBvZiB0aGUgaWRzIG9mIGxpbmUgaXRlbXMgdG8gcmVtb3ZlIGZyb20gdGhlIGNoZWNrb3V0LlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmVMaW5lSXRlbXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVMaW5lSXRlbXMoY2hlY2tvdXRJZCwgbGluZUl0ZW1JZHMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyYXBoUUxDbGllbnQuc2VuZChxdWVyeSQxNSwgeyBjaGVja291dElkOiBjaGVja291dElkLCBsaW5lSXRlbUlkczogbGluZUl0ZW1JZHMgfSkudGhlbihoYW5kbGVDaGVja291dE11dGF0aW9uKCdjaGVja291dExpbmVJdGVtc1JlbW92ZScsIHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgbGluZSBpdGVtcyBvbiBhbiBleGlzdGluZyBjaGVja291dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY2hlY2tvdXRJZCA9ICdaMmxrT2k4dmMyaHZjR2xtZVM5RGFHVmphMjkxZEM5a01UWm1NMkV6TURNNFlqYzROPSc7XG4gICAgICogY29uc3QgbGluZUl0ZW1zID0gW3t2YXJpYW50SWQ6ICdaMmxrT2k4dmMyaHZjR2xtZVM5UWNtOWtkV04wVm1GeWFXRnVkQzh5T1RFd05qQXlNamM1TWc9PScsIHF1YW50aXR5OiA1fV07XG4gICAgICpcbiAgICAgKiBjbGllbnQuY2hlY2tvdXQucmVwbGFjZUxpbmVJdGVtcyhjaGVja291dElkLCBsaW5lSXRlbXMpLnRoZW4oKGNoZWNrb3V0KSA9PiB7XG4gICAgICogICAvLyBEbyBzb21ldGhpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dFxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNoZWNrb3V0SWQgVGhlIElEIG9mIHRoZSBjaGVja291dCB0byBhZGQgbGluZSBpdGVtcyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBsaW5lSXRlbXMgQSBsaXN0IG9mIGxpbmUgaXRlbXMgdG8gc2V0IG9uIHRoZSBjaGVja291dC4gU2VlIHRoZSB7QGxpbmsgaHR0cHM6Ly9oZWxwLnNob3BpZnkuY29tL2FwaS9zdG9yZWZyb250LWFwaS9yZWZlcmVuY2UvaW5wdXQtb2JqZWN0L2NoZWNrb3V0bGluZWl0ZW1pbnB1dHxTdG9yZWZyb250IEFQSSByZWZlcmVuY2V9IGZvciB2YWxpZCBpbnB1dCBmaWVsZHMgZm9yIGVhY2ggbGluZSBpdGVtLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZXBsYWNlTGluZUl0ZW1zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbGFjZUxpbmVJdGVtcyhjaGVja291dElkLCBsaW5lSXRlbXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyYXBoUUxDbGllbnQuc2VuZChxdWVyeSQxNiwgeyBjaGVja291dElkOiBjaGVja291dElkLCBsaW5lSXRlbXM6IGxpbmVJdGVtcyB9KS50aGVuKGhhbmRsZUNoZWNrb3V0TXV0YXRpb24oJ2NoZWNrb3V0TGluZUl0ZW1zUmVwbGFjZScsIHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgbGluZSBpdGVtcyBvbiBhbiBleGlzdGluZyBjaGVja291dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY2hlY2tvdXRJZCA9ICdaMmxrT2k4dmMyaHZjR2xtZVM5RGFHVmphMjkxZEM5a01UWm1NMkV6TURNNFlqYzROPSc7XG4gICAgICogY29uc3QgbGluZUl0ZW1zID0gW1xuICAgICAqICAge1xuICAgICAqICAgICBpZDogJ1RWaVpHRTVZMlUxWkRGaFkyRmlNbU0yWVQ5clpYazlOVGMyWWpCaE9EY3dOV0l4WXpnMFlqRTVaalJtWkdRNU5qY3pOR1ZrWkdVPScsXG4gICAgICogICAgIHF1YW50aXR5OiA1LFxuICAgICAqICAgICB2YXJpYW50SWQ6ICdaMmxrT2k4dmMyaHZjR2xtZVM5UWNtOWtkV04wVm1GeWFXRnVkQzh5T1RFd05qQXlNamM1TWc9PSdcbiAgICAgKiAgIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogY2xpZW50LmNoZWNrb3V0LnVwZGF0ZUxpbmVJdGVtcyhjaGVja291dElkLCBsaW5lSXRlbXMpLnRoZW4oY2hlY2tvdXQgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXRcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjaGVja291dElkIFRoZSBJRCBvZiB0aGUgY2hlY2tvdXQgdG8gdXBkYXRlIGEgbGluZSBpdGVtIG9uLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGxpbmVJdGVtcyBBIGxpc3Qgb2YgbGluZSBpdGVtIGluZm9ybWF0aW9uIHRvIHVwZGF0ZS4gU2VlIHRoZSB7QGxpbmsgaHR0cHM6Ly9oZWxwLnNob3BpZnkuY29tL2FwaS9zdG9yZWZyb250LWFwaS9yZWZlcmVuY2UvaW5wdXQtb2JqZWN0L2NoZWNrb3V0bGluZWl0ZW11cGRhdGVpbnB1dHxTdG9yZWZyb250IEFQSSByZWZlcmVuY2V9IGZvciB2YWxpZCBpbnB1dCBmaWVsZHMgZm9yIGVhY2ggbGluZSBpdGVtLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbH0gQSBwcm9taXNlIHJlc29sdmluZyB3aXRoIHRoZSB1cGRhdGVkIGNoZWNrb3V0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVMaW5lSXRlbXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVMaW5lSXRlbXMoY2hlY2tvdXRJZCwgbGluZUl0ZW1zKSB7XG4gICAgICByZXR1cm4gdGhpcy5ncmFwaFFMQ2xpZW50LnNlbmQocXVlcnkkMTcsIHsgY2hlY2tvdXRJZDogY2hlY2tvdXRJZCwgbGluZUl0ZW1zOiBsaW5lSXRlbXMgfSkudGhlbihoYW5kbGVDaGVja291dE11dGF0aW9uKCdjaGVja291dExpbmVJdGVtc1VwZGF0ZScsIHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgc2hpcHBpbmcgYWRkcmVzcyBvbiBhbiBleGlzdGluZyBjaGVja291dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgY2hlY2tvdXRJZCA9ICdaMmxrT2k4dmMyaHZjR2xtZVM5RGFHVmphMjkxZEM5a01UWm1NMkV6TURNNFlqYzROPSc7XG4gICAgICogY29uc3Qgc2hpcHBpbmdBZGRyZXNzID0ge1xuICAgICAqICAgIGFkZHJlc3MxOiAnQ2hlc3RudXQgU3RyZWV0IDkyJyxcbiAgICAgKiAgICBhZGRyZXNzMjogJ0FwYXJ0bWVudCAyJyxcbiAgICAgKiAgICBjaXR5OiAnTG91aXN2aWxsZScsXG4gICAgICogICAgY29tcGFueTogbnVsbCxcbiAgICAgKiAgICBjb3VudHJ5OiAnVW5pdGVkIFN0YXRlcycsXG4gICAgICogICAgZmlyc3ROYW1lOiAnQm9iJyxcbiAgICAgKiAgICBsYXN0TmFtZTogJ05vcm1hbicsXG4gICAgICogICAgcGhvbmU6ICc1NTUtNjI1LTExOTknLFxuICAgICAqICAgIHByb3ZpbmNlOiAnS2VudHVja3knLFxuICAgICAqICAgIHppcDogJzQwMjAyJ1xuICAgICAqICB9O1xuICAgICAqXG4gICAgICogY2xpZW50LmNoZWNrb3V0LnVwZGF0ZVNoaXBwaW5nQWRkcmVzcyhjaGVja291dElkLCBzaGlwcGluZ0FkZHJlc3MpLnRoZW4oY2hlY2tvdXQgPT4ge1xuICAgICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIHVwZGF0ZWQgY2hlY2tvdXRcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gY2hlY2tvdXRJZCBUaGUgSUQgb2YgdGhlIGNoZWNrb3V0IHRvIHVwZGF0ZSBzaGlwcGluZyBhZGRyZXNzLlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gc2hpcHBpbmdBZGRyZXNzIEEgc2hpcHBpbmcgYWRkcmVzcy5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfEdyYXBoTW9kZWx9IEEgcHJvbWlzZSByZXNvbHZpbmcgd2l0aCB0aGUgdXBkYXRlZCBjaGVja291dC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlU2hpcHBpbmdBZGRyZXNzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlU2hpcHBpbmdBZGRyZXNzKGNoZWNrb3V0SWQsIHNoaXBwaW5nQWRkcmVzcykge1xuICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhRTENsaWVudC5zZW5kKHF1ZXJ5JDI0LCB7IGNoZWNrb3V0SWQ6IGNoZWNrb3V0SWQsIHNoaXBwaW5nQWRkcmVzczogc2hpcHBpbmdBZGRyZXNzIH0pLnRoZW4oaGFuZGxlQ2hlY2tvdXRNdXRhdGlvbignY2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMicsIHRoaXMuZ3JhcGhRTENsaWVudCkpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2hlY2tvdXRSZXNvdXJjZTtcbn0oUmVzb3VyY2UpO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgSW1hZ2VIZWxwZXJzXG4gKi9cbnZhciBpbWFnZUhlbHBlcnMgPSB7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyB0aGUgaW1hZ2Ugc3JjIGZvciBhIHJlc2l6ZWQgaW1hZ2Ugd2l0aCBtYXhpbXVtIGRpbWVuc2lvbnMgYG1heFdpZHRoYCBhbmQgYG1heEhlaWdodGAuXG4gICAqIEltYWdlcyBkbyBub3Qgc2NhbGUgdXAuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IHVybCA9IGNsaWVudC5pbWFnZS5oZWxwZXJzLmltYWdlRm9yU2l6ZShwcm9kdWN0LnZhcmlhbnRzWzBdLmltYWdlLCB7bWF4V2lkdGg6IDUwLCBtYXhIZWlnaHQ6IDUwfSk7XG4gICAqXG4gICAqIEBtZW1iZXJvZiBJbWFnZUhlbHBlcnNcbiAgICogQG1ldGhvZCBpbWFnZUZvclNpemVcbiAgICogQHBhcmFtIHtPYmplY3R9IGltYWdlIFRoZSBvcmlnaW5hbCBpbWFnZSBtb2RlbCB0byBnZW5lcmF0ZSB0aGUgaW1hZ2Ugc3JjIGZvci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QgY29udGFpbmluZzpcbiAgICogIEBwYXJhbSB7SW50ZWdlcn0gb3B0aW9ucy5tYXhXaWR0aCBUaGUgbWF4aW11bSB3aWR0aCBmb3IgdGhlIGltYWdlLlxuICAgKiAgQHBhcmFtIHtJbnRlZ2VyfSBvcHRpb25zLm1heEhlaWdodCBUaGUgbWF4aW11bSBoZWlnaHQgZm9yIHRoZSBpbWFnZS5cbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgaW1hZ2Ugc3JjIGZvciB0aGUgcmVzaXplZCBpbWFnZS5cbiAgICovXG4gIGltYWdlRm9yU2l6ZTogZnVuY3Rpb24gaW1hZ2VGb3JTaXplKGltYWdlLCBfcmVmKSB7XG4gICAgdmFyIG1heFdpZHRoID0gX3JlZi5tYXhXaWR0aCxcbiAgICAgICAgbWF4SGVpZ2h0ID0gX3JlZi5tYXhIZWlnaHQ7XG5cbiAgICB2YXIgc3BsaXRVcmwgPSBpbWFnZS5zcmMuc3BsaXQoJz8nKTtcbiAgICB2YXIgbm90UXVlcnkgPSBzcGxpdFVybFswXTtcbiAgICB2YXIgcXVlcnkgPSBzcGxpdFVybFsxXSA/ICc/JyArIHNwbGl0VXJsWzFdIDogJyc7XG5cbiAgICAvLyBVc2UgdGhlIHNlY3Rpb24gYmVmb3JlIHRoZSBxdWVyeVxuICAgIHZhciBpbWFnZVRva2VucyA9IG5vdFF1ZXJ5LnNwbGl0KCcuJyk7XG5cbiAgICAvLyBUYWtlIHRoZSB0b2tlbiBiZWZvcmUgdGhlIGZpbGUgZXh0ZW5zaW9uIGFuZCBhcHBlbmQgdGhlIGRpbWVuc2lvbnNcbiAgICB2YXIgaW1hZ2VQYXRoSW5kZXggPSBpbWFnZVRva2Vucy5sZW5ndGggLSAyO1xuXG4gICAgaW1hZ2VUb2tlbnNbaW1hZ2VQYXRoSW5kZXhdID0gaW1hZ2VUb2tlbnNbaW1hZ2VQYXRoSW5kZXhdICsgJ18nICsgbWF4V2lkdGggKyAneCcgKyBtYXhIZWlnaHQ7XG5cbiAgICByZXR1cm4gJycgKyBpbWFnZVRva2Vucy5qb2luKCcuJykgKyBxdWVyeTtcbiAgfVxufTtcblxuLyoqXG4gKiBUaGUgSlMgQnV5IFNESyBpbWFnZSByZXNvdXJjZVxuICogQGNsYXNzXG4gKi9cblxudmFyIEltYWdlUmVzb3VyY2UgPSBmdW5jdGlvbiAoX1Jlc291cmNlKSB7XG4gIGluaGVyaXRzJDEoSW1hZ2VSZXNvdXJjZSwgX1Jlc291cmNlKTtcblxuICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKCkge1xuICAgIGNsYXNzQ2FsbENoZWNrJDEodGhpcywgSW1hZ2VSZXNvdXJjZSk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4kMSh0aGlzLCAoSW1hZ2VSZXNvdXJjZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEltYWdlUmVzb3VyY2UpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzJDEoSW1hZ2VSZXNvdXJjZSwgW3tcbiAgICBrZXk6ICdoZWxwZXJzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgIHJldHVybiBpbWFnZUhlbHBlcnM7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJbWFnZVJlc291cmNlO1xufShSZXNvdXJjZSk7XG5cbnZhciB2ZXJzaW9uID0gXCIyLjIyLjBcIjtcblxudmFyIEFwcGxpZWRHaWZ0Q2FyZCA9IHtcbiAgXCJuYW1lXCI6IFwiQXBwbGllZEdpZnRDYXJkXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImFtb3VudFVzZWRcIjogXCJNb25leVYyXCIsXG4gICAgXCJiYWxhbmNlXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwiaWRcIjogXCJJRFwiLFxuICAgIFwibGFzdENoYXJhY3RlcnNcIjogXCJTdHJpbmdcIixcbiAgICBcInByZXNlbnRtZW50QW1vdW50VXNlZFwiOiBcIk1vbmV5VjJcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IHRydWVcbn07XG5cbnZhciBBdHRyaWJ1dGUgPSB7XG4gIFwibmFtZVwiOiBcIkF0dHJpYnV0ZVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJrZXlcIjogXCJTdHJpbmdcIixcbiAgICBcInZhbHVlXCI6IFwiU3RyaW5nXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIEF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb24gPSB7XG4gIFwibmFtZVwiOiBcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwidGl0bGVcIjogXCJTdHJpbmdcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgQm9vbGVhbiQxID0ge1xuICBcIm5hbWVcIjogXCJCb29sZWFuXCIsXG4gIFwia2luZFwiOiBcIlNDQUxBUlwiXG59O1xuXG52YXIgQ2hlY2tvdXQgPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0XCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImFwcGxpZWRHaWZ0Q2FyZHNcIjogXCJBcHBsaWVkR2lmdENhcmRcIixcbiAgICBcImNvbXBsZXRlZEF0XCI6IFwiRGF0ZVRpbWVcIixcbiAgICBcImNyZWF0ZWRBdFwiOiBcIkRhdGVUaW1lXCIsXG4gICAgXCJjdXJyZW5jeUNvZGVcIjogXCJDdXJyZW5jeUNvZGVcIixcbiAgICBcImN1c3RvbUF0dHJpYnV0ZXNcIjogXCJBdHRyaWJ1dGVcIixcbiAgICBcImRpc2NvdW50QXBwbGljYXRpb25zXCI6IFwiRGlzY291bnRBcHBsaWNhdGlvbkNvbm5lY3Rpb25cIixcbiAgICBcImVtYWlsXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJpZFwiOiBcIklEXCIsXG4gICAgXCJsaW5lSXRlbXNcIjogXCJDaGVja291dExpbmVJdGVtQ29ubmVjdGlvblwiLFxuICAgIFwibGluZUl0ZW1zU3VidG90YWxQcmljZVwiOiBcIk1vbmV5VjJcIixcbiAgICBcIm5vdGVcIjogXCJTdHJpbmdcIixcbiAgICBcIm9yZGVyXCI6IFwiT3JkZXJcIixcbiAgICBcIm9yZGVyU3RhdHVzVXJsXCI6IFwiVVJMXCIsXG4gICAgXCJwYXltZW50RHVlXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwicmVhZHlcIjogXCJCb29sZWFuXCIsXG4gICAgXCJyZXF1aXJlc1NoaXBwaW5nXCI6IFwiQm9vbGVhblwiLFxuICAgIFwic2hpcHBpbmdBZGRyZXNzXCI6IFwiTWFpbGluZ0FkZHJlc3NcIixcbiAgICBcInNoaXBwaW5nTGluZVwiOiBcIlNoaXBwaW5nUmF0ZVwiLFxuICAgIFwic3VidG90YWxQcmljZVwiOiBcIk1vbmV5VjJcIixcbiAgICBcInRheEV4ZW1wdFwiOiBcIkJvb2xlYW5cIixcbiAgICBcInRheGVzSW5jbHVkZWRcIjogXCJCb29sZWFuXCIsXG4gICAgXCJ0b3RhbFByaWNlXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwidG90YWxUYXhcIjogXCJNb25leVYyXCIsXG4gICAgXCJ1cGRhdGVkQXRcIjogXCJEYXRlVGltZVwiLFxuICAgIFwid2ViVXJsXCI6IFwiVVJMXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiB0cnVlXG59O1xuXG52YXIgQ2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjJQYXlsb2FkID0ge1xuICBcIm5hbWVcIjogXCJDaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMlBheWxvYWRcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY2hlY2tvdXRcIjogXCJDaGVja291dFwiLFxuICAgIFwiY2hlY2tvdXRVc2VyRXJyb3JzXCI6IFwiQ2hlY2tvdXRVc2VyRXJyb3JcIixcbiAgICBcInVzZXJFcnJvcnNcIjogXCJVc2VyRXJyb3JcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgQ2hlY2tvdXRDcmVhdGVQYXlsb2FkID0ge1xuICBcIm5hbWVcIjogXCJDaGVja291dENyZWF0ZVBheWxvYWRcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY2hlY2tvdXRcIjogXCJDaGVja291dFwiLFxuICAgIFwiY2hlY2tvdXRVc2VyRXJyb3JzXCI6IFwiQ2hlY2tvdXRVc2VyRXJyb3JcIixcbiAgICBcInVzZXJFcnJvcnNcIjogXCJVc2VyRXJyb3JcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgQ2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyUGF5bG9hZCA9IHtcbiAgXCJuYW1lXCI6IFwiQ2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyUGF5bG9hZFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjaGVja291dFwiOiBcIkNoZWNrb3V0XCIsXG4gICAgXCJjaGVja291dFVzZXJFcnJvcnNcIjogXCJDaGVja291dFVzZXJFcnJvclwiLFxuICAgIFwidXNlckVycm9yc1wiOiBcIlVzZXJFcnJvclwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dERpc2NvdW50Q29kZVJlbW92ZVBheWxvYWQgPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0RGlzY291bnRDb2RlUmVtb3ZlUGF5bG9hZFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjaGVja291dFwiOiBcIkNoZWNrb3V0XCIsXG4gICAgXCJjaGVja291dFVzZXJFcnJvcnNcIjogXCJDaGVja291dFVzZXJFcnJvclwiLFxuICAgIFwidXNlckVycm9yc1wiOiBcIlVzZXJFcnJvclwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dEVtYWlsVXBkYXRlVjJQYXlsb2FkID0ge1xuICBcIm5hbWVcIjogXCJDaGVja291dEVtYWlsVXBkYXRlVjJQYXlsb2FkXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNoZWNrb3V0XCI6IFwiQ2hlY2tvdXRcIixcbiAgICBcImNoZWNrb3V0VXNlckVycm9yc1wiOiBcIkNoZWNrb3V0VXNlckVycm9yXCIsXG4gICAgXCJ1c2VyRXJyb3JzXCI6IFwiVXNlckVycm9yXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIENoZWNrb3V0RXJyb3JDb2RlID0ge1xuICBcIm5hbWVcIjogXCJDaGVja291dEVycm9yQ29kZVwiLFxuICBcImtpbmRcIjogXCJFTlVNXCJcbn07XG5cbnZhciBDaGVja291dEdpZnRDYXJkUmVtb3ZlVjJQYXlsb2FkID0ge1xuICBcIm5hbWVcIjogXCJDaGVja291dEdpZnRDYXJkUmVtb3ZlVjJQYXlsb2FkXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNoZWNrb3V0XCI6IFwiQ2hlY2tvdXRcIixcbiAgICBcImNoZWNrb3V0VXNlckVycm9yc1wiOiBcIkNoZWNrb3V0VXNlckVycm9yXCIsXG4gICAgXCJ1c2VyRXJyb3JzXCI6IFwiVXNlckVycm9yXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIENoZWNrb3V0R2lmdENhcmRzQXBwZW5kUGF5bG9hZCA9IHtcbiAgXCJuYW1lXCI6IFwiQ2hlY2tvdXRHaWZ0Q2FyZHNBcHBlbmRQYXlsb2FkXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNoZWNrb3V0XCI6IFwiQ2hlY2tvdXRcIixcbiAgICBcImNoZWNrb3V0VXNlckVycm9yc1wiOiBcIkNoZWNrb3V0VXNlckVycm9yXCIsXG4gICAgXCJ1c2VyRXJyb3JzXCI6IFwiVXNlckVycm9yXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIENoZWNrb3V0TGluZUl0ZW0gPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0TGluZUl0ZW1cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY3VzdG9tQXR0cmlidXRlc1wiOiBcIkF0dHJpYnV0ZVwiLFxuICAgIFwiZGlzY291bnRBbGxvY2F0aW9uc1wiOiBcIkRpc2NvdW50QWxsb2NhdGlvblwiLFxuICAgIFwiaWRcIjogXCJJRFwiLFxuICAgIFwicXVhbnRpdHlcIjogXCJJbnRcIixcbiAgICBcInRpdGxlXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJ2YXJpYW50XCI6IFwiUHJvZHVjdFZhcmlhbnRcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IHRydWVcbn07XG5cbnZhciBDaGVja291dExpbmVJdGVtQ29ubmVjdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiQ2hlY2tvdXRMaW5lSXRlbUNvbm5lY3Rpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiZWRnZXNcIjogXCJDaGVja291dExpbmVJdGVtRWRnZVwiLFxuICAgIFwicGFnZUluZm9cIjogXCJQYWdlSW5mb1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dExpbmVJdGVtRWRnZSA9IHtcbiAgXCJuYW1lXCI6IFwiQ2hlY2tvdXRMaW5lSXRlbUVkZ2VcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY3Vyc29yXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJub2RlXCI6IFwiQ2hlY2tvdXRMaW5lSXRlbVwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dExpbmVJdGVtc0FkZFBheWxvYWQgPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0TGluZUl0ZW1zQWRkUGF5bG9hZFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjaGVja291dFwiOiBcIkNoZWNrb3V0XCIsXG4gICAgXCJjaGVja291dFVzZXJFcnJvcnNcIjogXCJDaGVja291dFVzZXJFcnJvclwiLFxuICAgIFwidXNlckVycm9yc1wiOiBcIlVzZXJFcnJvclwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dExpbmVJdGVtc1JlbW92ZVBheWxvYWQgPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0TGluZUl0ZW1zUmVtb3ZlUGF5bG9hZFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjaGVja291dFwiOiBcIkNoZWNrb3V0XCIsXG4gICAgXCJjaGVja291dFVzZXJFcnJvcnNcIjogXCJDaGVja291dFVzZXJFcnJvclwiLFxuICAgIFwidXNlckVycm9yc1wiOiBcIlVzZXJFcnJvclwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dExpbmVJdGVtc1JlcGxhY2VQYXlsb2FkID0ge1xuICBcIm5hbWVcIjogXCJDaGVja291dExpbmVJdGVtc1JlcGxhY2VQYXlsb2FkXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNoZWNrb3V0XCI6IFwiQ2hlY2tvdXRcIixcbiAgICBcInVzZXJFcnJvcnNcIjogXCJDaGVja291dFVzZXJFcnJvclwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dExpbmVJdGVtc1VwZGF0ZVBheWxvYWQgPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0TGluZUl0ZW1zVXBkYXRlUGF5bG9hZFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjaGVja291dFwiOiBcIkNoZWNrb3V0XCIsXG4gICAgXCJjaGVja291dFVzZXJFcnJvcnNcIjogXCJDaGVja291dFVzZXJFcnJvclwiLFxuICAgIFwidXNlckVycm9yc1wiOiBcIlVzZXJFcnJvclwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyUGF5bG9hZCA9IHtcbiAgXCJuYW1lXCI6IFwiQ2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMlBheWxvYWRcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY2hlY2tvdXRcIjogXCJDaGVja291dFwiLFxuICAgIFwiY2hlY2tvdXRVc2VyRXJyb3JzXCI6IFwiQ2hlY2tvdXRVc2VyRXJyb3JcIixcbiAgICBcInVzZXJFcnJvcnNcIjogXCJVc2VyRXJyb3JcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgQ2hlY2tvdXRVc2VyRXJyb3IgPSB7XG4gIFwibmFtZVwiOiBcIkNoZWNrb3V0VXNlckVycm9yXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNvZGVcIjogXCJDaGVja291dEVycm9yQ29kZVwiLFxuICAgIFwiZmllbGRcIjogXCJTdHJpbmdcIixcbiAgICBcIm1lc3NhZ2VcIjogXCJTdHJpbmdcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgQ29sbGVjdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiQ29sbGVjdGlvblwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlN0cmluZ1wiLFxuICAgIFwiZGVzY3JpcHRpb25IdG1sXCI6IFwiSFRNTFwiLFxuICAgIFwiaGFuZGxlXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJpZFwiOiBcIklEXCIsXG4gICAgXCJpbWFnZVwiOiBcIkltYWdlXCIsXG4gICAgXCJwcm9kdWN0c1wiOiBcIlByb2R1Y3RDb25uZWN0aW9uXCIsXG4gICAgXCJ0aXRsZVwiOiBcIlN0cmluZ1wiLFxuICAgIFwidXBkYXRlZEF0XCI6IFwiRGF0ZVRpbWVcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IHRydWVcbn07XG5cbnZhciBDb2xsZWN0aW9uQ29ubmVjdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiQ29sbGVjdGlvbkNvbm5lY3Rpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiZWRnZXNcIjogXCJDb2xsZWN0aW9uRWRnZVwiLFxuICAgIFwicGFnZUluZm9cIjogXCJQYWdlSW5mb1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDb2xsZWN0aW9uRWRnZSA9IHtcbiAgXCJuYW1lXCI6IFwiQ29sbGVjdGlvbkVkZ2VcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY3Vyc29yXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJub2RlXCI6IFwiQ29sbGVjdGlvblwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBDb3VudHJ5Q29kZSA9IHtcbiAgXCJuYW1lXCI6IFwiQ291bnRyeUNvZGVcIixcbiAgXCJraW5kXCI6IFwiRU5VTVwiXG59O1xuXG52YXIgQ3VycmVuY3lDb2RlID0ge1xuICBcIm5hbWVcIjogXCJDdXJyZW5jeUNvZGVcIixcbiAgXCJraW5kXCI6IFwiRU5VTVwiXG59O1xuXG52YXIgRGF0ZVRpbWUgPSB7XG4gIFwibmFtZVwiOiBcIkRhdGVUaW1lXCIsXG4gIFwia2luZFwiOiBcIlNDQUxBUlwiXG59O1xuXG52YXIgRGVjaW1hbCA9IHtcbiAgXCJuYW1lXCI6IFwiRGVjaW1hbFwiLFxuICBcImtpbmRcIjogXCJTQ0FMQVJcIlxufTtcblxudmFyIERpc2NvdW50QWxsb2NhdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiRGlzY291bnRBbGxvY2F0aW9uXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImFsbG9jYXRlZEFtb3VudFwiOiBcIk1vbmV5VjJcIixcbiAgICBcImRpc2NvdW50QXBwbGljYXRpb25cIjogXCJEaXNjb3VudEFwcGxpY2F0aW9uXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIERpc2NvdW50QXBwbGljYXRpb24gPSB7XG4gIFwibmFtZVwiOiBcIkRpc2NvdW50QXBwbGljYXRpb25cIixcbiAgXCJraW5kXCI6IFwiSU5URVJGQUNFXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiYWxsb2NhdGlvbk1ldGhvZFwiOiBcIkRpc2NvdW50QXBwbGljYXRpb25BbGxvY2F0aW9uTWV0aG9kXCIsXG4gICAgXCJ0YXJnZXRTZWxlY3Rpb25cIjogXCJEaXNjb3VudEFwcGxpY2F0aW9uVGFyZ2V0U2VsZWN0aW9uXCIsXG4gICAgXCJ0YXJnZXRUeXBlXCI6IFwiRGlzY291bnRBcHBsaWNhdGlvblRhcmdldFR5cGVcIixcbiAgICBcInZhbHVlXCI6IFwiUHJpY2luZ1ZhbHVlXCJcbiAgfSxcbiAgXCJwb3NzaWJsZVR5cGVzXCI6IFtcIkF1dG9tYXRpY0Rpc2NvdW50QXBwbGljYXRpb25cIiwgXCJEaXNjb3VudENvZGVBcHBsaWNhdGlvblwiLCBcIk1hbnVhbERpc2NvdW50QXBwbGljYXRpb25cIiwgXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCJdXG59O1xuXG52YXIgRGlzY291bnRBcHBsaWNhdGlvbkFsbG9jYXRpb25NZXRob2QgPSB7XG4gIFwibmFtZVwiOiBcIkRpc2NvdW50QXBwbGljYXRpb25BbGxvY2F0aW9uTWV0aG9kXCIsXG4gIFwia2luZFwiOiBcIkVOVU1cIlxufTtcblxudmFyIERpc2NvdW50QXBwbGljYXRpb25Db25uZWN0aW9uID0ge1xuICBcIm5hbWVcIjogXCJEaXNjb3VudEFwcGxpY2F0aW9uQ29ubmVjdGlvblwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJlZGdlc1wiOiBcIkRpc2NvdW50QXBwbGljYXRpb25FZGdlXCIsXG4gICAgXCJwYWdlSW5mb1wiOiBcIlBhZ2VJbmZvXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIERpc2NvdW50QXBwbGljYXRpb25FZGdlID0ge1xuICBcIm5hbWVcIjogXCJEaXNjb3VudEFwcGxpY2F0aW9uRWRnZVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJub2RlXCI6IFwiRGlzY291bnRBcHBsaWNhdGlvblwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBEaXNjb3VudEFwcGxpY2F0aW9uVGFyZ2V0U2VsZWN0aW9uID0ge1xuICBcIm5hbWVcIjogXCJEaXNjb3VudEFwcGxpY2F0aW9uVGFyZ2V0U2VsZWN0aW9uXCIsXG4gIFwia2luZFwiOiBcIkVOVU1cIlxufTtcblxudmFyIERpc2NvdW50QXBwbGljYXRpb25UYXJnZXRUeXBlID0ge1xuICBcIm5hbWVcIjogXCJEaXNjb3VudEFwcGxpY2F0aW9uVGFyZ2V0VHlwZVwiLFxuICBcImtpbmRcIjogXCJFTlVNXCJcbn07XG5cbnZhciBEaXNjb3VudENvZGVBcHBsaWNhdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiYXBwbGljYWJsZVwiOiBcIkJvb2xlYW5cIixcbiAgICBcImNvZGVcIjogXCJTdHJpbmdcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgRG9tYWluID0ge1xuICBcIm5hbWVcIjogXCJEb21haW5cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiaG9zdFwiOiBcIlN0cmluZ1wiLFxuICAgIFwic3NsRW5hYmxlZFwiOiBcIkJvb2xlYW5cIixcbiAgICBcInVybFwiOiBcIlVSTFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBGbG9hdCA9IHtcbiAgXCJuYW1lXCI6IFwiRmxvYXRcIixcbiAgXCJraW5kXCI6IFwiU0NBTEFSXCJcbn07XG5cbnZhciBIVE1MID0ge1xuICBcIm5hbWVcIjogXCJIVE1MXCIsXG4gIFwia2luZFwiOiBcIlNDQUxBUlwiXG59O1xuXG52YXIgSUQgPSB7XG4gIFwibmFtZVwiOiBcIklEXCIsXG4gIFwia2luZFwiOiBcIlNDQUxBUlwiXG59O1xuXG52YXIgSW1hZ2UgPSB7XG4gIFwibmFtZVwiOiBcIkltYWdlXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImFsdFRleHRcIjogXCJTdHJpbmdcIixcbiAgICBcImhlaWdodFwiOiBcIkludFwiLFxuICAgIFwiaWRcIjogXCJJRFwiLFxuICAgIFwidXJsXCI6IFwiVVJMXCIsXG4gICAgXCJ3aWR0aFwiOiBcIkludFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBJbWFnZUNvbm5lY3Rpb24gPSB7XG4gIFwibmFtZVwiOiBcIkltYWdlQ29ubmVjdGlvblwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJlZGdlc1wiOiBcIkltYWdlRWRnZVwiLFxuICAgIFwicGFnZUluZm9cIjogXCJQYWdlSW5mb1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBJbWFnZUVkZ2UgPSB7XG4gIFwibmFtZVwiOiBcIkltYWdlRWRnZVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjdXJzb3JcIjogXCJTdHJpbmdcIixcbiAgICBcIm5vZGVcIjogXCJJbWFnZVwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBJbnQgPSB7XG4gIFwibmFtZVwiOiBcIkludFwiLFxuICBcImtpbmRcIjogXCJTQ0FMQVJcIlxufTtcblxudmFyIE1haWxpbmdBZGRyZXNzID0ge1xuICBcIm5hbWVcIjogXCJNYWlsaW5nQWRkcmVzc1wiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJhZGRyZXNzMVwiOiBcIlN0cmluZ1wiLFxuICAgIFwiYWRkcmVzczJcIjogXCJTdHJpbmdcIixcbiAgICBcImNpdHlcIjogXCJTdHJpbmdcIixcbiAgICBcImNvbXBhbnlcIjogXCJTdHJpbmdcIixcbiAgICBcImNvdW50cnlcIjogXCJTdHJpbmdcIixcbiAgICBcImNvdW50cnlDb2RlVjJcIjogXCJDb3VudHJ5Q29kZVwiLFxuICAgIFwiZmlyc3ROYW1lXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJmb3JtYXR0ZWRcIjogXCJTdHJpbmdcIixcbiAgICBcImlkXCI6IFwiSURcIixcbiAgICBcImxhc3ROYW1lXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJsYXRpdHVkZVwiOiBcIkZsb2F0XCIsXG4gICAgXCJsb25naXR1ZGVcIjogXCJGbG9hdFwiLFxuICAgIFwibmFtZVwiOiBcIlN0cmluZ1wiLFxuICAgIFwicGhvbmVcIjogXCJTdHJpbmdcIixcbiAgICBcInByb3ZpbmNlXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJwcm92aW5jZUNvZGVcIjogXCJTdHJpbmdcIixcbiAgICBcInppcFwiOiBcIlN0cmluZ1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogdHJ1ZVxufTtcblxudmFyIE1hbnVhbERpc2NvdW50QXBwbGljYXRpb24gPSB7XG4gIFwibmFtZVwiOiBcIk1hbnVhbERpc2NvdW50QXBwbGljYXRpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiZGVzY3JpcHRpb25cIjogXCJTdHJpbmdcIixcbiAgICBcInRpdGxlXCI6IFwiU3RyaW5nXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIE1vbmV5VjIgPSB7XG4gIFwibmFtZVwiOiBcIk1vbmV5VjJcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiYW1vdW50XCI6IFwiRGVjaW1hbFwiLFxuICAgIFwiY3VycmVuY3lDb2RlXCI6IFwiQ3VycmVuY3lDb2RlXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIE11dGF0aW9uJDEgPSB7XG4gIFwibmFtZVwiOiBcIk11dGF0aW9uXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNoZWNrb3V0QXR0cmlidXRlc1VwZGF0ZVYyXCI6IFwiQ2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjJQYXlsb2FkXCIsXG4gICAgXCJjaGVja291dENyZWF0ZVwiOiBcIkNoZWNrb3V0Q3JlYXRlUGF5bG9hZFwiLFxuICAgIFwiY2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyXCI6IFwiQ2hlY2tvdXREaXNjb3VudENvZGVBcHBseVYyUGF5bG9hZFwiLFxuICAgIFwiY2hlY2tvdXREaXNjb3VudENvZGVSZW1vdmVcIjogXCJDaGVja291dERpc2NvdW50Q29kZVJlbW92ZVBheWxvYWRcIixcbiAgICBcImNoZWNrb3V0RW1haWxVcGRhdGVWMlwiOiBcIkNoZWNrb3V0RW1haWxVcGRhdGVWMlBheWxvYWRcIixcbiAgICBcImNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMlwiOiBcIkNoZWNrb3V0R2lmdENhcmRSZW1vdmVWMlBheWxvYWRcIixcbiAgICBcImNoZWNrb3V0R2lmdENhcmRzQXBwZW5kXCI6IFwiQ2hlY2tvdXRHaWZ0Q2FyZHNBcHBlbmRQYXlsb2FkXCIsXG4gICAgXCJjaGVja291dExpbmVJdGVtc0FkZFwiOiBcIkNoZWNrb3V0TGluZUl0ZW1zQWRkUGF5bG9hZFwiLFxuICAgIFwiY2hlY2tvdXRMaW5lSXRlbXNSZW1vdmVcIjogXCJDaGVja291dExpbmVJdGVtc1JlbW92ZVBheWxvYWRcIixcbiAgICBcImNoZWNrb3V0TGluZUl0ZW1zUmVwbGFjZVwiOiBcIkNoZWNrb3V0TGluZUl0ZW1zUmVwbGFjZVBheWxvYWRcIixcbiAgICBcImNoZWNrb3V0TGluZUl0ZW1zVXBkYXRlXCI6IFwiQ2hlY2tvdXRMaW5lSXRlbXNVcGRhdGVQYXlsb2FkXCIsXG4gICAgXCJjaGVja291dFNoaXBwaW5nQWRkcmVzc1VwZGF0ZVYyXCI6IFwiQ2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMlBheWxvYWRcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlLFxuICBcInJlbGF5SW5wdXRPYmplY3RCYXNlVHlwZXNcIjoge1xuICAgIFwiY2FydENyZWF0ZVwiOiBcIkNhcnRJbnB1dFwiLFxuICAgIFwiY2FydE1ldGFmaWVsZERlbGV0ZVwiOiBcIkNhcnRNZXRhZmllbGREZWxldGVJbnB1dFwiLFxuICAgIFwiY2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjJcIjogXCJDaGVja291dEF0dHJpYnV0ZXNVcGRhdGVWMklucHV0XCIsXG4gICAgXCJjaGVja291dENyZWF0ZVwiOiBcIkNoZWNrb3V0Q3JlYXRlSW5wdXRcIixcbiAgICBcImN1c3RvbWVyQWNjZXNzVG9rZW5DcmVhdGVcIjogXCJDdXN0b21lckFjY2Vzc1Rva2VuQ3JlYXRlSW5wdXRcIixcbiAgICBcImN1c3RvbWVyQWN0aXZhdGVcIjogXCJDdXN0b21lckFjdGl2YXRlSW5wdXRcIixcbiAgICBcImN1c3RvbWVyQ3JlYXRlXCI6IFwiQ3VzdG9tZXJDcmVhdGVJbnB1dFwiLFxuICAgIFwiY3VzdG9tZXJSZXNldFwiOiBcIkN1c3RvbWVyUmVzZXRJbnB1dFwiXG4gIH1cbn07XG5cbnZhciBOb2RlID0ge1xuICBcIm5hbWVcIjogXCJOb2RlXCIsXG4gIFwia2luZFwiOiBcIklOVEVSRkFDRVwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHt9LFxuICBcInBvc3NpYmxlVHlwZXNcIjogW1wiQXBwbGllZEdpZnRDYXJkXCIsIFwiQXJ0aWNsZVwiLCBcIkJsb2dcIiwgXCJDYXJ0XCIsIFwiQ2FydExpbmVcIiwgXCJDaGVja291dFwiLCBcIkNoZWNrb3V0TGluZUl0ZW1cIiwgXCJDb2xsZWN0aW9uXCIsIFwiQ29tbWVudFwiLCBcIkNvbXBhbnlcIiwgXCJDb21wYW55Q29udGFjdFwiLCBcIkNvbXBhbnlMb2NhdGlvblwiLCBcIkNvbXBvbmVudGl6YWJsZUNhcnRMaW5lXCIsIFwiRXh0ZXJuYWxWaWRlb1wiLCBcIkdlbmVyaWNGaWxlXCIsIFwiTG9jYXRpb25cIiwgXCJNYWlsaW5nQWRkcmVzc1wiLCBcIk1hcmtldFwiLCBcIk1lZGlhSW1hZ2VcIiwgXCJNZWRpYVByZXNlbnRhdGlvblwiLCBcIk1lbnVcIiwgXCJNZW51SXRlbVwiLCBcIk1ldGFmaWVsZFwiLCBcIk1ldGFvYmplY3RcIiwgXCJNb2RlbDNkXCIsIFwiT3JkZXJcIiwgXCJQYWdlXCIsIFwiUGF5bWVudFwiLCBcIlByb2R1Y3RcIiwgXCJQcm9kdWN0T3B0aW9uXCIsIFwiUHJvZHVjdFZhcmlhbnRcIiwgXCJTaG9wXCIsIFwiU2hvcFBvbGljeVwiLCBcIlVybFJlZGlyZWN0XCIsIFwiVmlkZW9cIl1cbn07XG5cbnZhciBPcmRlciA9IHtcbiAgXCJuYW1lXCI6IFwiT3JkZXJcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY3VycmVuY3lDb2RlXCI6IFwiQ3VycmVuY3lDb2RlXCIsXG4gICAgXCJjdXN0b21lclVybFwiOiBcIlVSTFwiLFxuICAgIFwiaWRcIjogXCJJRFwiLFxuICAgIFwibGluZUl0ZW1zXCI6IFwiT3JkZXJMaW5lSXRlbUNvbm5lY3Rpb25cIixcbiAgICBcIm9yZGVyTnVtYmVyXCI6IFwiSW50XCIsXG4gICAgXCJwcm9jZXNzZWRBdFwiOiBcIkRhdGVUaW1lXCIsXG4gICAgXCJzaGlwcGluZ0FkZHJlc3NcIjogXCJNYWlsaW5nQWRkcmVzc1wiLFxuICAgIFwic3VidG90YWxQcmljZVwiOiBcIk1vbmV5VjJcIixcbiAgICBcInRvdGFsUHJpY2VcIjogXCJNb25leVYyXCIsXG4gICAgXCJ0b3RhbFJlZnVuZGVkXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwidG90YWxTaGlwcGluZ1ByaWNlXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwidG90YWxUYXhcIjogXCJNb25leVYyXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiB0cnVlXG59O1xuXG52YXIgT3JkZXJMaW5lSXRlbSA9IHtcbiAgXCJuYW1lXCI6IFwiT3JkZXJMaW5lSXRlbVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjdXN0b21BdHRyaWJ1dGVzXCI6IFwiQXR0cmlidXRlXCIsXG4gICAgXCJxdWFudGl0eVwiOiBcIkludFwiLFxuICAgIFwidGl0bGVcIjogXCJTdHJpbmdcIixcbiAgICBcInZhcmlhbnRcIjogXCJQcm9kdWN0VmFyaWFudFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBPcmRlckxpbmVJdGVtQ29ubmVjdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiT3JkZXJMaW5lSXRlbUNvbm5lY3Rpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiZWRnZXNcIjogXCJPcmRlckxpbmVJdGVtRWRnZVwiLFxuICAgIFwicGFnZUluZm9cIjogXCJQYWdlSW5mb1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBPcmRlckxpbmVJdGVtRWRnZSA9IHtcbiAgXCJuYW1lXCI6IFwiT3JkZXJMaW5lSXRlbUVkZ2VcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiY3Vyc29yXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJub2RlXCI6IFwiT3JkZXJMaW5lSXRlbVwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBQYWdlSW5mbyA9IHtcbiAgXCJuYW1lXCI6IFwiUGFnZUluZm9cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiaGFzTmV4dFBhZ2VcIjogXCJCb29sZWFuXCIsXG4gICAgXCJoYXNQcmV2aW91c1BhZ2VcIjogXCJCb29sZWFuXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFBheW1lbnRTZXR0aW5ncyA9IHtcbiAgXCJuYW1lXCI6IFwiUGF5bWVudFNldHRpbmdzXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImVuYWJsZWRQcmVzZW50bWVudEN1cnJlbmNpZXNcIjogXCJDdXJyZW5jeUNvZGVcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZSA9IHtcbiAgXCJuYW1lXCI6IFwiUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJwZXJjZW50YWdlXCI6IFwiRmxvYXRcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgUHJpY2luZ1ZhbHVlID0ge1xuICBcIm5hbWVcIjogXCJQcmljaW5nVmFsdWVcIixcbiAgXCJraW5kXCI6IFwiVU5JT05cIlxufTtcblxudmFyIFByb2R1Y3QgPSB7XG4gIFwibmFtZVwiOiBcIlByb2R1Y3RcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiYXZhaWxhYmxlRm9yU2FsZVwiOiBcIkJvb2xlYW5cIixcbiAgICBcImNyZWF0ZWRBdFwiOiBcIkRhdGVUaW1lXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlN0cmluZ1wiLFxuICAgIFwiZGVzY3JpcHRpb25IdG1sXCI6IFwiSFRNTFwiLFxuICAgIFwiaGFuZGxlXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJpZFwiOiBcIklEXCIsXG4gICAgXCJpbWFnZXNcIjogXCJJbWFnZUNvbm5lY3Rpb25cIixcbiAgICBcIm9ubGluZVN0b3JlVXJsXCI6IFwiVVJMXCIsXG4gICAgXCJvcHRpb25zXCI6IFwiUHJvZHVjdE9wdGlvblwiLFxuICAgIFwicHJvZHVjdFR5cGVcIjogXCJTdHJpbmdcIixcbiAgICBcInB1Ymxpc2hlZEF0XCI6IFwiRGF0ZVRpbWVcIixcbiAgICBcInRpdGxlXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJ1cGRhdGVkQXRcIjogXCJEYXRlVGltZVwiLFxuICAgIFwidmFyaWFudHNcIjogXCJQcm9kdWN0VmFyaWFudENvbm5lY3Rpb25cIixcbiAgICBcInZlbmRvclwiOiBcIlN0cmluZ1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogdHJ1ZVxufTtcblxudmFyIFByb2R1Y3RDb25uZWN0aW9uID0ge1xuICBcIm5hbWVcIjogXCJQcm9kdWN0Q29ubmVjdGlvblwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJlZGdlc1wiOiBcIlByb2R1Y3RFZGdlXCIsXG4gICAgXCJwYWdlSW5mb1wiOiBcIlBhZ2VJbmZvXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFByb2R1Y3RFZGdlID0ge1xuICBcIm5hbWVcIjogXCJQcm9kdWN0RWRnZVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJjdXJzb3JcIjogXCJTdHJpbmdcIixcbiAgICBcIm5vZGVcIjogXCJQcm9kdWN0XCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFByb2R1Y3RPcHRpb24gPSB7XG4gIFwibmFtZVwiOiBcIlByb2R1Y3RPcHRpb25cIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwibmFtZVwiOiBcIlN0cmluZ1wiLFxuICAgIFwidmFsdWVzXCI6IFwiU3RyaW5nXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiB0cnVlXG59O1xuXG52YXIgUHJvZHVjdFZhcmlhbnQgPSB7XG4gIFwibmFtZVwiOiBcIlByb2R1Y3RWYXJpYW50XCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImF2YWlsYWJsZUZvclNhbGVcIjogXCJCb29sZWFuXCIsXG4gICAgXCJjb21wYXJlQXRQcmljZVwiOiBcIk1vbmV5VjJcIixcbiAgICBcImlkXCI6IFwiSURcIixcbiAgICBcImltYWdlXCI6IFwiSW1hZ2VcIixcbiAgICBcInByaWNlXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwicHJvZHVjdFwiOiBcIlByb2R1Y3RcIixcbiAgICBcInNlbGVjdGVkT3B0aW9uc1wiOiBcIlNlbGVjdGVkT3B0aW9uXCIsXG4gICAgXCJza3VcIjogXCJTdHJpbmdcIixcbiAgICBcInRpdGxlXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJ1bml0UHJpY2VcIjogXCJNb25leVYyXCIsXG4gICAgXCJ1bml0UHJpY2VNZWFzdXJlbWVudFwiOiBcIlVuaXRQcmljZU1lYXN1cmVtZW50XCIsXG4gICAgXCJ3ZWlnaHRcIjogXCJGbG9hdFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogdHJ1ZVxufTtcblxudmFyIFByb2R1Y3RWYXJpYW50Q29ubmVjdGlvbiA9IHtcbiAgXCJuYW1lXCI6IFwiUHJvZHVjdFZhcmlhbnRDb25uZWN0aW9uXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImVkZ2VzXCI6IFwiUHJvZHVjdFZhcmlhbnRFZGdlXCIsXG4gICAgXCJwYWdlSW5mb1wiOiBcIlBhZ2VJbmZvXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFByb2R1Y3RWYXJpYW50RWRnZSA9IHtcbiAgXCJuYW1lXCI6IFwiUHJvZHVjdFZhcmlhbnRFZGdlXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImN1cnNvclwiOiBcIlN0cmluZ1wiLFxuICAgIFwibm9kZVwiOiBcIlByb2R1Y3RWYXJpYW50XCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFF1ZXJ5Um9vdCA9IHtcbiAgXCJuYW1lXCI6IFwiUXVlcnlSb290XCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImNvbGxlY3Rpb25CeUhhbmRsZVwiOiBcIkNvbGxlY3Rpb25cIixcbiAgICBcImNvbGxlY3Rpb25zXCI6IFwiQ29sbGVjdGlvbkNvbm5lY3Rpb25cIixcbiAgICBcIm5vZGVcIjogXCJOb2RlXCIsXG4gICAgXCJub2Rlc1wiOiBcIk5vZGVcIixcbiAgICBcInByb2R1Y3RCeUhhbmRsZVwiOiBcIlByb2R1Y3RcIixcbiAgICBcInByb2R1Y3RSZWNvbW1lbmRhdGlvbnNcIjogXCJQcm9kdWN0XCIsXG4gICAgXCJwcm9kdWN0c1wiOiBcIlByb2R1Y3RDb25uZWN0aW9uXCIsXG4gICAgXCJzaG9wXCI6IFwiU2hvcFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uID0ge1xuICBcIm5hbWVcIjogXCJTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcInRpdGxlXCI6IFwiU3RyaW5nXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFNlbGVjdGVkT3B0aW9uID0ge1xuICBcIm5hbWVcIjogXCJTZWxlY3RlZE9wdGlvblwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJuYW1lXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJ2YWx1ZVwiOiBcIlN0cmluZ1wiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBTaGlwcGluZ1JhdGUgPSB7XG4gIFwibmFtZVwiOiBcIlNoaXBwaW5nUmF0ZVwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJoYW5kbGVcIjogXCJTdHJpbmdcIixcbiAgICBcInByaWNlXCI6IFwiTW9uZXlWMlwiLFxuICAgIFwidGl0bGVcIjogXCJTdHJpbmdcIlxuICB9LFxuICBcImltcGxlbWVudHNOb2RlXCI6IGZhbHNlXG59O1xuXG52YXIgU2hvcCA9IHtcbiAgXCJuYW1lXCI6IFwiU2hvcFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIlN0cmluZ1wiLFxuICAgIFwibW9uZXlGb3JtYXRcIjogXCJTdHJpbmdcIixcbiAgICBcIm5hbWVcIjogXCJTdHJpbmdcIixcbiAgICBcInBheW1lbnRTZXR0aW5nc1wiOiBcIlBheW1lbnRTZXR0aW5nc1wiLFxuICAgIFwicHJpbWFyeURvbWFpblwiOiBcIkRvbWFpblwiLFxuICAgIFwicHJpdmFjeVBvbGljeVwiOiBcIlNob3BQb2xpY3lcIixcbiAgICBcInJlZnVuZFBvbGljeVwiOiBcIlNob3BQb2xpY3lcIixcbiAgICBcInRlcm1zT2ZTZXJ2aWNlXCI6IFwiU2hvcFBvbGljeVwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogdHJ1ZVxufTtcblxudmFyIFNob3BQb2xpY3kgPSB7XG4gIFwibmFtZVwiOiBcIlNob3BQb2xpY3lcIixcbiAgXCJraW5kXCI6IFwiT0JKRUNUXCIsXG4gIFwiZmllbGRCYXNlVHlwZXNcIjoge1xuICAgIFwiYm9keVwiOiBcIlN0cmluZ1wiLFxuICAgIFwiaWRcIjogXCJJRFwiLFxuICAgIFwidGl0bGVcIjogXCJTdHJpbmdcIixcbiAgICBcInVybFwiOiBcIlVSTFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogdHJ1ZVxufTtcblxudmFyIFN0cmluZyQxID0ge1xuICBcIm5hbWVcIjogXCJTdHJpbmdcIixcbiAgXCJraW5kXCI6IFwiU0NBTEFSXCJcbn07XG5cbnZhciBVUkwgPSB7XG4gIFwibmFtZVwiOiBcIlVSTFwiLFxuICBcImtpbmRcIjogXCJTQ0FMQVJcIlxufTtcblxudmFyIFVuaXRQcmljZU1lYXN1cmVtZW50ID0ge1xuICBcIm5hbWVcIjogXCJVbml0UHJpY2VNZWFzdXJlbWVudFwiLFxuICBcImtpbmRcIjogXCJPQkpFQ1RcIixcbiAgXCJmaWVsZEJhc2VUeXBlc1wiOiB7XG4gICAgXCJtZWFzdXJlZFR5cGVcIjogXCJVbml0UHJpY2VNZWFzdXJlbWVudE1lYXN1cmVkVHlwZVwiLFxuICAgIFwicXVhbnRpdHlVbml0XCI6IFwiVW5pdFByaWNlTWVhc3VyZW1lbnRNZWFzdXJlZFVuaXRcIixcbiAgICBcInF1YW50aXR5VmFsdWVcIjogXCJGbG9hdFwiLFxuICAgIFwicmVmZXJlbmNlVW5pdFwiOiBcIlVuaXRQcmljZU1lYXN1cmVtZW50TWVhc3VyZWRVbml0XCIsXG4gICAgXCJyZWZlcmVuY2VWYWx1ZVwiOiBcIkludFwiXG4gIH0sXG4gIFwiaW1wbGVtZW50c05vZGVcIjogZmFsc2Vcbn07XG5cbnZhciBVbml0UHJpY2VNZWFzdXJlbWVudE1lYXN1cmVkVHlwZSA9IHtcbiAgXCJuYW1lXCI6IFwiVW5pdFByaWNlTWVhc3VyZW1lbnRNZWFzdXJlZFR5cGVcIixcbiAgXCJraW5kXCI6IFwiRU5VTVwiXG59O1xuXG52YXIgVW5pdFByaWNlTWVhc3VyZW1lbnRNZWFzdXJlZFVuaXQgPSB7XG4gIFwibmFtZVwiOiBcIlVuaXRQcmljZU1lYXN1cmVtZW50TWVhc3VyZWRVbml0XCIsXG4gIFwia2luZFwiOiBcIkVOVU1cIlxufTtcblxudmFyIFVzZXJFcnJvciA9IHtcbiAgXCJuYW1lXCI6IFwiVXNlckVycm9yXCIsXG4gIFwia2luZFwiOiBcIk9CSkVDVFwiLFxuICBcImZpZWxkQmFzZVR5cGVzXCI6IHtcbiAgICBcImZpZWxkXCI6IFwiU3RyaW5nXCIsXG4gICAgXCJtZXNzYWdlXCI6IFwiU3RyaW5nXCJcbiAgfSxcbiAgXCJpbXBsZW1lbnRzTm9kZVwiOiBmYWxzZVxufTtcblxudmFyIFR5cGVzID0ge1xuICB0eXBlczoge31cbn07XG5UeXBlcy50eXBlc1tcIkFwcGxpZWRHaWZ0Q2FyZFwiXSA9IEFwcGxpZWRHaWZ0Q2FyZDtcblR5cGVzLnR5cGVzW1wiQXR0cmlidXRlXCJdID0gQXR0cmlidXRlO1xuVHlwZXMudHlwZXNbXCJBdXRvbWF0aWNEaXNjb3VudEFwcGxpY2F0aW9uXCJdID0gQXV0b21hdGljRGlzY291bnRBcHBsaWNhdGlvbjtcblR5cGVzLnR5cGVzW1wiQm9vbGVhblwiXSA9IEJvb2xlYW4kMTtcblR5cGVzLnR5cGVzW1wiQ2hlY2tvdXRcIl0gPSBDaGVja291dDtcblR5cGVzLnR5cGVzW1wiQ2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjJQYXlsb2FkXCJdID0gQ2hlY2tvdXRBdHRyaWJ1dGVzVXBkYXRlVjJQYXlsb2FkO1xuVHlwZXMudHlwZXNbXCJDaGVja291dENyZWF0ZVBheWxvYWRcIl0gPSBDaGVja291dENyZWF0ZVBheWxvYWQ7XG5UeXBlcy50eXBlc1tcIkNoZWNrb3V0RGlzY291bnRDb2RlQXBwbHlWMlBheWxvYWRcIl0gPSBDaGVja291dERpc2NvdW50Q29kZUFwcGx5VjJQYXlsb2FkO1xuVHlwZXMudHlwZXNbXCJDaGVja291dERpc2NvdW50Q29kZVJlbW92ZVBheWxvYWRcIl0gPSBDaGVja291dERpc2NvdW50Q29kZVJlbW92ZVBheWxvYWQ7XG5UeXBlcy50eXBlc1tcIkNoZWNrb3V0RW1haWxVcGRhdGVWMlBheWxvYWRcIl0gPSBDaGVja291dEVtYWlsVXBkYXRlVjJQYXlsb2FkO1xuVHlwZXMudHlwZXNbXCJDaGVja291dEVycm9yQ29kZVwiXSA9IENoZWNrb3V0RXJyb3JDb2RlO1xuVHlwZXMudHlwZXNbXCJDaGVja291dEdpZnRDYXJkUmVtb3ZlVjJQYXlsb2FkXCJdID0gQ2hlY2tvdXRHaWZ0Q2FyZFJlbW92ZVYyUGF5bG9hZDtcblR5cGVzLnR5cGVzW1wiQ2hlY2tvdXRHaWZ0Q2FyZHNBcHBlbmRQYXlsb2FkXCJdID0gQ2hlY2tvdXRHaWZ0Q2FyZHNBcHBlbmRQYXlsb2FkO1xuVHlwZXMudHlwZXNbXCJDaGVja291dExpbmVJdGVtXCJdID0gQ2hlY2tvdXRMaW5lSXRlbTtcblR5cGVzLnR5cGVzW1wiQ2hlY2tvdXRMaW5lSXRlbUNvbm5lY3Rpb25cIl0gPSBDaGVja291dExpbmVJdGVtQ29ubmVjdGlvbjtcblR5cGVzLnR5cGVzW1wiQ2hlY2tvdXRMaW5lSXRlbUVkZ2VcIl0gPSBDaGVja291dExpbmVJdGVtRWRnZTtcblR5cGVzLnR5cGVzW1wiQ2hlY2tvdXRMaW5lSXRlbXNBZGRQYXlsb2FkXCJdID0gQ2hlY2tvdXRMaW5lSXRlbXNBZGRQYXlsb2FkO1xuVHlwZXMudHlwZXNbXCJDaGVja291dExpbmVJdGVtc1JlbW92ZVBheWxvYWRcIl0gPSBDaGVja291dExpbmVJdGVtc1JlbW92ZVBheWxvYWQ7XG5UeXBlcy50eXBlc1tcIkNoZWNrb3V0TGluZUl0ZW1zUmVwbGFjZVBheWxvYWRcIl0gPSBDaGVja291dExpbmVJdGVtc1JlcGxhY2VQYXlsb2FkO1xuVHlwZXMudHlwZXNbXCJDaGVja291dExpbmVJdGVtc1VwZGF0ZVBheWxvYWRcIl0gPSBDaGVja291dExpbmVJdGVtc1VwZGF0ZVBheWxvYWQ7XG5UeXBlcy50eXBlc1tcIkNoZWNrb3V0U2hpcHBpbmdBZGRyZXNzVXBkYXRlVjJQYXlsb2FkXCJdID0gQ2hlY2tvdXRTaGlwcGluZ0FkZHJlc3NVcGRhdGVWMlBheWxvYWQ7XG5UeXBlcy50eXBlc1tcIkNoZWNrb3V0VXNlckVycm9yXCJdID0gQ2hlY2tvdXRVc2VyRXJyb3I7XG5UeXBlcy50eXBlc1tcIkNvbGxlY3Rpb25cIl0gPSBDb2xsZWN0aW9uO1xuVHlwZXMudHlwZXNbXCJDb2xsZWN0aW9uQ29ubmVjdGlvblwiXSA9IENvbGxlY3Rpb25Db25uZWN0aW9uO1xuVHlwZXMudHlwZXNbXCJDb2xsZWN0aW9uRWRnZVwiXSA9IENvbGxlY3Rpb25FZGdlO1xuVHlwZXMudHlwZXNbXCJDb3VudHJ5Q29kZVwiXSA9IENvdW50cnlDb2RlO1xuVHlwZXMudHlwZXNbXCJDdXJyZW5jeUNvZGVcIl0gPSBDdXJyZW5jeUNvZGU7XG5UeXBlcy50eXBlc1tcIkRhdGVUaW1lXCJdID0gRGF0ZVRpbWU7XG5UeXBlcy50eXBlc1tcIkRlY2ltYWxcIl0gPSBEZWNpbWFsO1xuVHlwZXMudHlwZXNbXCJEaXNjb3VudEFsbG9jYXRpb25cIl0gPSBEaXNjb3VudEFsbG9jYXRpb247XG5UeXBlcy50eXBlc1tcIkRpc2NvdW50QXBwbGljYXRpb25cIl0gPSBEaXNjb3VudEFwcGxpY2F0aW9uO1xuVHlwZXMudHlwZXNbXCJEaXNjb3VudEFwcGxpY2F0aW9uQWxsb2NhdGlvbk1ldGhvZFwiXSA9IERpc2NvdW50QXBwbGljYXRpb25BbGxvY2F0aW9uTWV0aG9kO1xuVHlwZXMudHlwZXNbXCJEaXNjb3VudEFwcGxpY2F0aW9uQ29ubmVjdGlvblwiXSA9IERpc2NvdW50QXBwbGljYXRpb25Db25uZWN0aW9uO1xuVHlwZXMudHlwZXNbXCJEaXNjb3VudEFwcGxpY2F0aW9uRWRnZVwiXSA9IERpc2NvdW50QXBwbGljYXRpb25FZGdlO1xuVHlwZXMudHlwZXNbXCJEaXNjb3VudEFwcGxpY2F0aW9uVGFyZ2V0U2VsZWN0aW9uXCJdID0gRGlzY291bnRBcHBsaWNhdGlvblRhcmdldFNlbGVjdGlvbjtcblR5cGVzLnR5cGVzW1wiRGlzY291bnRBcHBsaWNhdGlvblRhcmdldFR5cGVcIl0gPSBEaXNjb3VudEFwcGxpY2F0aW9uVGFyZ2V0VHlwZTtcblR5cGVzLnR5cGVzW1wiRGlzY291bnRDb2RlQXBwbGljYXRpb25cIl0gPSBEaXNjb3VudENvZGVBcHBsaWNhdGlvbjtcblR5cGVzLnR5cGVzW1wiRG9tYWluXCJdID0gRG9tYWluO1xuVHlwZXMudHlwZXNbXCJGbG9hdFwiXSA9IEZsb2F0O1xuVHlwZXMudHlwZXNbXCJIVE1MXCJdID0gSFRNTDtcblR5cGVzLnR5cGVzW1wiSURcIl0gPSBJRDtcblR5cGVzLnR5cGVzW1wiSW1hZ2VcIl0gPSBJbWFnZTtcblR5cGVzLnR5cGVzW1wiSW1hZ2VDb25uZWN0aW9uXCJdID0gSW1hZ2VDb25uZWN0aW9uO1xuVHlwZXMudHlwZXNbXCJJbWFnZUVkZ2VcIl0gPSBJbWFnZUVkZ2U7XG5UeXBlcy50eXBlc1tcIkludFwiXSA9IEludDtcblR5cGVzLnR5cGVzW1wiTWFpbGluZ0FkZHJlc3NcIl0gPSBNYWlsaW5nQWRkcmVzcztcblR5cGVzLnR5cGVzW1wiTWFudWFsRGlzY291bnRBcHBsaWNhdGlvblwiXSA9IE1hbnVhbERpc2NvdW50QXBwbGljYXRpb247XG5UeXBlcy50eXBlc1tcIk1vbmV5VjJcIl0gPSBNb25leVYyO1xuVHlwZXMudHlwZXNbXCJNdXRhdGlvblwiXSA9IE11dGF0aW9uJDE7XG5UeXBlcy50eXBlc1tcIk5vZGVcIl0gPSBOb2RlO1xuVHlwZXMudHlwZXNbXCJPcmRlclwiXSA9IE9yZGVyO1xuVHlwZXMudHlwZXNbXCJPcmRlckxpbmVJdGVtXCJdID0gT3JkZXJMaW5lSXRlbTtcblR5cGVzLnR5cGVzW1wiT3JkZXJMaW5lSXRlbUNvbm5lY3Rpb25cIl0gPSBPcmRlckxpbmVJdGVtQ29ubmVjdGlvbjtcblR5cGVzLnR5cGVzW1wiT3JkZXJMaW5lSXRlbUVkZ2VcIl0gPSBPcmRlckxpbmVJdGVtRWRnZTtcblR5cGVzLnR5cGVzW1wiUGFnZUluZm9cIl0gPSBQYWdlSW5mbztcblR5cGVzLnR5cGVzW1wiUGF5bWVudFNldHRpbmdzXCJdID0gUGF5bWVudFNldHRpbmdzO1xuVHlwZXMudHlwZXNbXCJQcmljaW5nUGVyY2VudGFnZVZhbHVlXCJdID0gUHJpY2luZ1BlcmNlbnRhZ2VWYWx1ZTtcblR5cGVzLnR5cGVzW1wiUHJpY2luZ1ZhbHVlXCJdID0gUHJpY2luZ1ZhbHVlO1xuVHlwZXMudHlwZXNbXCJQcm9kdWN0XCJdID0gUHJvZHVjdDtcblR5cGVzLnR5cGVzW1wiUHJvZHVjdENvbm5lY3Rpb25cIl0gPSBQcm9kdWN0Q29ubmVjdGlvbjtcblR5cGVzLnR5cGVzW1wiUHJvZHVjdEVkZ2VcIl0gPSBQcm9kdWN0RWRnZTtcblR5cGVzLnR5cGVzW1wiUHJvZHVjdE9wdGlvblwiXSA9IFByb2R1Y3RPcHRpb247XG5UeXBlcy50eXBlc1tcIlByb2R1Y3RWYXJpYW50XCJdID0gUHJvZHVjdFZhcmlhbnQ7XG5UeXBlcy50eXBlc1tcIlByb2R1Y3RWYXJpYW50Q29ubmVjdGlvblwiXSA9IFByb2R1Y3RWYXJpYW50Q29ubmVjdGlvbjtcblR5cGVzLnR5cGVzW1wiUHJvZHVjdFZhcmlhbnRFZGdlXCJdID0gUHJvZHVjdFZhcmlhbnRFZGdlO1xuVHlwZXMudHlwZXNbXCJRdWVyeVJvb3RcIl0gPSBRdWVyeVJvb3Q7XG5UeXBlcy50eXBlc1tcIlNjcmlwdERpc2NvdW50QXBwbGljYXRpb25cIl0gPSBTY3JpcHREaXNjb3VudEFwcGxpY2F0aW9uO1xuVHlwZXMudHlwZXNbXCJTZWxlY3RlZE9wdGlvblwiXSA9IFNlbGVjdGVkT3B0aW9uO1xuVHlwZXMudHlwZXNbXCJTaGlwcGluZ1JhdGVcIl0gPSBTaGlwcGluZ1JhdGU7XG5UeXBlcy50eXBlc1tcIlNob3BcIl0gPSBTaG9wO1xuVHlwZXMudHlwZXNbXCJTaG9wUG9saWN5XCJdID0gU2hvcFBvbGljeTtcblR5cGVzLnR5cGVzW1wiU3RyaW5nXCJdID0gU3RyaW5nJDE7XG5UeXBlcy50eXBlc1tcIlVSTFwiXSA9IFVSTDtcblR5cGVzLnR5cGVzW1wiVW5pdFByaWNlTWVhc3VyZW1lbnRcIl0gPSBVbml0UHJpY2VNZWFzdXJlbWVudDtcblR5cGVzLnR5cGVzW1wiVW5pdFByaWNlTWVhc3VyZW1lbnRNZWFzdXJlZFR5cGVcIl0gPSBVbml0UHJpY2VNZWFzdXJlbWVudE1lYXN1cmVkVHlwZTtcblR5cGVzLnR5cGVzW1wiVW5pdFByaWNlTWVhc3VyZW1lbnRNZWFzdXJlZFVuaXRcIl0gPSBVbml0UHJpY2VNZWFzdXJlbWVudE1lYXN1cmVkVW5pdDtcblR5cGVzLnR5cGVzW1wiVXNlckVycm9yXCJdID0gVXNlckVycm9yO1xuVHlwZXMucXVlcnlUeXBlID0gXCJRdWVyeVJvb3RcIjtcblR5cGVzLm11dGF0aW9uVHlwZSA9IFwiTXV0YXRpb25cIjtcblR5cGVzLnN1YnNjcmlwdGlvblR5cGUgPSBudWxsO1xuXG5mdW5jdGlvbiByZWN1cnNpdmVseUZyZWV6ZU9iamVjdChzdHJ1Y3R1cmUpIHtcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3RydWN0dXJlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHJ1Y3R1cmVba2V5XTtcbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgPT09ICdvYmplY3QnKSB7XG4gICAgICByZWN1cnNpdmVseUZyZWV6ZU9iamVjdCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmZyZWV6ZShzdHJ1Y3R1cmUpO1xuICByZXR1cm4gc3RydWN0dXJlO1xufVxuXG52YXIgdHlwZXMgPSByZWN1cnNpdmVseUZyZWV6ZU9iamVjdChUeXBlcyk7XG5cbi8vIEdyYXBoUUxcbi8qKlxuICogVGhlIEpTIEJ1eSBTREsgQ2xpZW50LlxuICogQGNsYXNzXG4gKlxuICogQHByb3BlcnR5IHtQcm9kdWN0UmVzb3VyY2V9IHByb2R1Y3QgVGhlIHByb3BlcnR5IHVuZGVyIHdoaWNoIHByb2R1Y3QgZmV0Y2hpbmcgbWV0aG9kcyBsaXZlLlxuICogQHByb3BlcnR5IHtDb2xsZWN0aW9uUmVzb3VyY2V9IGNvbGxlY3Rpb24gVGhlIHByb3BlcnR5IHVuZGVyIHdoaWNoIGNvbGxlY3Rpb24gZmV0Y2hpbmcgbWV0aG9kcyBsaXZlLlxuICogQHByb3BlcnR5IHtTaG9wUmVzb3VyY2V9IHNob3AgVGhlIHByb3BlcnR5IHVuZGVyIHdoaWNoIHNob3AgZmV0Y2hpbmcgbWV0aG9kcyBsaXZlLlxuICogQHByb3BlcnR5IHtDaGVja291dFJlc291cmNlfSBjaGVja291dCBUaGUgcHJvcGVydHkgdW5kZXIgd2hpY2ggc2hvcCBmZXRjaGluZyBhbmQgbXV0YXRpbmcgbWV0aG9kcyBsaXZlLlxuICogQHByb3BlcnR5IHtJbWFnZVJlc291cmNlfSBpbWFnZSBUaGUgcHJvcGVydHkgdW5kZXIgd2hpY2ggaW1hZ2UgaGVscGVyIG1ldGhvZHMgbGl2ZS5cbiAqL1xuXG52YXIgQ2xpZW50ID0gZnVuY3Rpb24gKCkge1xuICBjcmVhdGVDbGFzcyQxKENsaWVudCwgbnVsbCwgW3tcbiAgICBrZXk6ICdidWlsZENsaWVudCcsXG5cblxuICAgIC8qKlxuICAgICAqIFByaW1hcnkgZW50cnkgcG9pbnQgZm9yIGJ1aWxkaW5nIGEgbmV3IENsaWVudC5cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRDbGllbnQoY29uZmlnLCBmZXRjaEZ1bmN0aW9uKSB7XG4gICAgICB2YXIgbmV3Q29uZmlnID0gbmV3IENvbmZpZyhjb25maWcpO1xuICAgICAgdmFyIGNsaWVudCA9IG5ldyBDbGllbnQobmV3Q29uZmlnLCBDbGllbnQkMiwgZmV0Y2hGdW5jdGlvbik7XG5cbiAgICAgIGNsaWVudC5jb25maWcgPSBuZXdDb25maWc7XG5cbiAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdHMgQ2xpZW50XG4gICAgICogQHBhcmFtIHtDb25maWd9IGNvbmZpZyBBbiBpbnN0YW5jZSBvZiB7QGxpbmsgQ29uZmlnfSB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgQ2xpZW50LlxuICAgICAqL1xuXG4gIH1dKTtcblxuICBmdW5jdGlvbiBDbGllbnQoY29uZmlnKSB7XG4gICAgdmFyIEdyYXBoUUxDbGllbnRDbGFzcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogQ2xpZW50JDI7XG4gICAgdmFyIGZldGNoRnVuY3Rpb24gPSBhcmd1bWVudHNbMl07XG4gICAgY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBDbGllbnQpO1xuXG4gICAgdmFyIHVybCA9ICdodHRwczovLycgKyBjb25maWcuZG9tYWluICsgJy9hcGkvJyArIGNvbmZpZy5hcGlWZXJzaW9uICsgJy9ncmFwaHFsJztcblxuICAgIHZhciBoZWFkZXJzID0ge1xuICAgICAgJ1gtU0RLLVZhcmlhbnQnOiAnamF2YXNjcmlwdCcsXG4gICAgICAnWC1TREstVmVyc2lvbic6IHZlcnNpb24sXG4gICAgICAnWC1TaG9waWZ5LVN0b3JlZnJvbnQtQWNjZXNzLVRva2VuJzogY29uZmlnLnN0b3JlZnJvbnRBY2Nlc3NUb2tlblxuICAgIH07XG5cbiAgICBpZiAoY29uZmlnLnNvdXJjZSkge1xuICAgICAgaGVhZGVyc1snWC1TREstVmFyaWFudC1Tb3VyY2UnXSA9IGNvbmZpZy5zb3VyY2U7XG4gICAgfVxuXG4gICAgdmFyIGxhbmd1YWdlSGVhZGVyID0gY29uZmlnLmxhbmd1YWdlID8gY29uZmlnLmxhbmd1YWdlIDogJyonO1xuXG4gICAgaGVhZGVyc1snQWNjZXB0LUxhbmd1YWdlJ10gPSBsYW5ndWFnZUhlYWRlcjtcblxuICAgIGlmIChmZXRjaEZ1bmN0aW9uKSB7XG4gICAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgIGhlYWRlcnMuQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICB0aGlzLmdyYXBoUUxDbGllbnQgPSBuZXcgR3JhcGhRTENsaWVudENsYXNzKHR5cGVzLCB7XG4gICAgICAgIGZldGNoZXI6IGZ1bmN0aW9uIGZldGNoZXIoZ3JhcGhRTFBhcmFtcykge1xuICAgICAgICAgIHJldHVybiBmZXRjaEZ1bmN0aW9uKHVybCwge1xuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZ3JhcGhRTFBhcmFtcyksXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ3JhcGhRTENsaWVudCA9IG5ldyBHcmFwaFFMQ2xpZW50Q2xhc3ModHlwZXMsIHtcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGZldGNoZXJPcHRpb25zOiB7IGhlYWRlcnM6IGhlYWRlcnMgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5wcm9kdWN0ID0gbmV3IFByb2R1Y3RSZXNvdXJjZSh0aGlzLmdyYXBoUUxDbGllbnQpO1xuICAgIHRoaXMuY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uUmVzb3VyY2UodGhpcy5ncmFwaFFMQ2xpZW50KTtcbiAgICB0aGlzLnNob3AgPSBuZXcgU2hvcFJlc291cmNlKHRoaXMuZ3JhcGhRTENsaWVudCk7XG4gICAgdGhpcy5jaGVja291dCA9IG5ldyBDaGVja291dFJlc291cmNlKHRoaXMuZ3JhcGhRTENsaWVudCk7XG4gICAgdGhpcy5pbWFnZSA9IG5ldyBJbWFnZVJlc291cmNlKHRoaXMuZ3JhcGhRTENsaWVudCk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgbmV4dCBwYWdlIG9mIG1vZGVsc1xuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBjbGllbnQuZmV0Y2hOZXh0UGFnZShwcm9kdWN0cykudGhlbigobmV4dFByb2R1Y3RzKSA9PiB7XG4gICAqICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIHByb2R1Y3RzXG4gICAqIH0pO1xuICAgKlxuICAgKiBAcGFyYW0ge21vZGVsc30gW0FycmF5XSBUaGUgcGFnaW5hdGVkIHNldCB0byBmZXRjaCB0aGUgbmV4dCBwYWdlIG9mXG4gICAqIEByZXR1cm4ge1Byb21pc2V8R3JhcGhNb2RlbFtdfSBBIHByb21pc2UgcmVzb2x2aW5nIHdpdGggYW4gYXJyYXkgb2YgYEdyYXBoTW9kZWxgcyBvZiB0aGUgdHlwZSBwcm92aWRlZC5cbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyQxKENsaWVudCwgW3tcbiAgICBrZXk6ICdmZXRjaE5leHRQYWdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmV0Y2hOZXh0UGFnZShtb2RlbHMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyYXBoUUxDbGllbnQuZmV0Y2hOZXh0UGFnZShtb2RlbHMpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gQ2xpZW50O1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/shopify-buy/index.js\n");

/***/ })

};
;